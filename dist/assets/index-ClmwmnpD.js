import{r as ph,a as yh,b as p,N as Cl,u as ea,c as jh,L as pt,d as Nh,B as wh,R as Sh,e as Ve}from"./react-vendor-CtuWKR_b.js";import{a as Z0}from"./ui-vendor-B9ygI19o.js";(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))o(_);new MutationObserver(_=>{for(const q of _)if(q.type==="childList")for(const Y of q.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&o(Y)}).observe(document,{childList:!0,subtree:!0});function j(_){const q={};return _.integrity&&(q.integrity=_.integrity),_.referrerPolicy&&(q.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?q.credentials="include":_.crossOrigin==="anonymous"?q.credentials="omit":q.credentials="same-origin",q}function o(_){if(_.ep)return;_.ep=!0;const q=j(_);fetch(_.href,q)}})();var wc={exports:{}},Os={};var C0;function _h(){if(C0)return Os;C0=1;var c=Symbol.for("react.transitional.element"),h=Symbol.for("react.fragment");function j(o,_,q){var Y=null;if(q!==void 0&&(Y=""+q),_.key!==void 0&&(Y=""+_.key),"key"in _){q={};for(var V in _)V!=="key"&&(q[V]=_[V])}else q=_;return _=q.ref,{$$typeof:c,type:o,key:Y,ref:_!==void 0?_:null,props:q}}return Os.Fragment=h,Os.jsx=j,Os.jsxs=j,Os}var D0;function kh(){return D0||(D0=1,wc.exports=_h()),wc.exports}var a=kh(),Sc={exports:{}},Bs={},_c={exports:{}},kc={};var A0;function Mh(){return A0||(A0=1,(function(c){function h(m,U){var $=m.length;m.push(U);e:for(;0<$;){var ue=$-1>>>1,R=m[ue];if(0<_(R,U))m[ue]=U,m[$]=R,$=ue;else break e}}function j(m){return m.length===0?null:m[0]}function o(m){if(m.length===0)return null;var U=m[0],$=m.pop();if($!==U){m[0]=$;e:for(var ue=0,R=m.length,se=R>>>1;ue<se;){var oe=2*(ue+1)-1,T=m[oe],re=oe+1,je=m[re];if(0>_(T,$))re<R&&0>_(je,T)?(m[ue]=je,m[re]=$,ue=re):(m[ue]=T,m[oe]=$,ue=oe);else if(re<R&&0>_(je,$))m[ue]=je,m[re]=$,ue=re;else break e}}return U}function _(m,U){var $=m.sortIndex-U.sortIndex;return $!==0?$:m.id-U.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var q=performance;c.unstable_now=function(){return q.now()}}else{var Y=Date,V=Y.now();c.unstable_now=function(){return Y.now()-V}}var A=[],Q=[],k=1,S=null,H=3,K=!1,w=!1,O=!1,Z=!1,D=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function g(m){for(var U=j(Q);U!==null;){if(U.callback===null)o(Q);else if(U.startTime<=m)o(Q),U.sortIndex=U.expirationTime,h(A,U);else break;U=j(Q)}}function J(m){if(O=!1,g(m),!w)if(j(A)!==null)w=!0,L||(L=!0,I());else{var U=j(Q);U!==null&&ce(J,U.startTime-m)}}var L=!1,B=-1,ae=5,Le=-1;function de(){return Z?!0:!(c.unstable_now()-Le<ae)}function G(){if(Z=!1,L){var m=c.unstable_now();Le=m;var U=!0;try{e:{w=!1,O&&(O=!1,le(B),B=-1),K=!0;var $=H;try{t:{for(g(m),S=j(A);S!==null&&!(S.expirationTime>m&&de());){var ue=S.callback;if(typeof ue=="function"){S.callback=null,H=S.priorityLevel;var R=ue(S.expirationTime<=m);if(m=c.unstable_now(),typeof R=="function"){S.callback=R,g(m),U=!0;break t}S===j(A)&&o(A),g(m)}else o(A);S=j(A)}if(S!==null)U=!0;else{var se=j(Q);se!==null&&ce(J,se.startTime-m),U=!1}}break e}finally{S=null,H=$,K=!1}U=void 0}}finally{U?I():L=!1}}}var I;if(typeof E=="function")I=function(){E(G)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ze=Se.port2;Se.port1.onmessage=G,I=function(){ze.postMessage(null)}}else I=function(){D(G,0)};function ce(m,U){B=D(function(){m(c.unstable_now())},U)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(m){m.callback=null},c.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<m?Math.floor(1e3/m):5},c.unstable_getCurrentPriorityLevel=function(){return H},c.unstable_next=function(m){switch(H){case 1:case 2:case 3:var U=3;break;default:U=H}var $=H;H=U;try{return m()}finally{H=$}},c.unstable_requestPaint=function(){Z=!0},c.unstable_runWithPriority=function(m,U){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var $=H;H=m;try{return U()}finally{H=$}},c.unstable_scheduleCallback=function(m,U,$){var ue=c.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ue+$:ue):$=ue,m){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,m={id:k++,callback:U,priorityLevel:m,startTime:$,expirationTime:R,sortIndex:-1},$>ue?(m.sortIndex=$,h(Q,m),j(A)===null&&m===j(Q)&&(O?(le(B),B=-1):O=!0,ce(J,$-ue))):(m.sortIndex=R,h(A,m),w||K||(w=!0,L||(L=!0,I()))),m},c.unstable_shouldYield=de,c.unstable_wrapCallback=function(m){var U=H;return function(){var $=H;H=U;try{return m.apply(this,arguments)}finally{H=$}}}})(kc)),kc}var E0;function zh(){return E0||(E0=1,_c.exports=Mh()),_c.exports}var O0;function Th(){if(O0)return Bs;O0=1;var c=zh(),h=ph(),j=yh();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function q(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function Y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function V(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A(e){if(q(e)!==e)throw Error(o(188))}function Q(e){var t=e.alternate;if(!t){if(t=q(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return A(n),e;if(i===s)return A(n),t;i=i.sibling}throw Error(o(188))}if(l.return!==s.return)l=n,s=i;else{for(var r=!1,u=n.child;u;){if(u===l){r=!0,l=n,s=i;break}if(u===s){r=!0,s=n,l=i;break}u=u.sibling}if(!r){for(u=i.child;u;){if(u===l){r=!0,l=i,s=n;break}if(u===s){r=!0,s=i,l=n;break}u=u.sibling}if(!r)throw Error(o(189))}}if(l.alternate!==s)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function k(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=k(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,H=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),le=Symbol.for("react.consumer"),E=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),Le=Symbol.for("react.activity"),de=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case D:return"Profiler";case Z:return"StrictMode";case J:return"Suspense";case L:return"SuspenseList";case Le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case E:return e.displayName||"Context";case le:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:ze(e.type)||"Memo";case ae:t=e._payload,e=e._init;try{return ze(e(t))}catch{}}return null}var ce=Array.isArray,m=h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=j.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ue=[],R=-1;function se(e){return{current:e}}function oe(e){0>R||(e.current=ue[R],ue[R]=null,R--)}function T(e,t){R++,ue[R]=e.current,e.current=t}var re=se(null),je=se(null),Ke=se(null),yt=se(null);function X(e,t){switch(T(Ke,t),T(je,e),T(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?e0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=e0(t),e=t0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}oe(re),T(re,e)}function ye(){oe(re),oe(je),oe(Ke)}function Bt(e){e.memoizedState!==null&&T(yt,e);var t=re.current,l=t0(t,e.type);t!==l&&(T(je,e),T(re,l))}function Al(e){je.current===e&&(oe(re),oe(je)),yt.current===e&&(oe(yt),Cs._currentValue=$)}var Ya,qs;function Dt(e){if(Ya===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ya=t&&t[1]||"",qs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ya+e+qs}var ii=!1;function ri(e,t){if(!e||ii)return"";ii=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var C=function(){throw Error()};if(Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(N){var y=N}Reflect.construct(e,[],C)}else{try{C.call()}catch(N){y=N}e.call(C.prototype)}}else{try{throw Error()}catch(N){y=N}(C=e())&&typeof C.catch=="function"&&C.catch(function(){})}}catch(N){if(N&&y&&typeof N.stack=="string")return[N.stack,y.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),r=i[0],u=i[1];if(r&&u){var d=r.split(`
`),v=u.split(`
`);for(n=s=0;s<d.length&&!d[s].includes("DetermineComponentFrameRoot");)s++;for(;n<v.length&&!v[n].includes("DetermineComponentFrameRoot");)n++;if(s===d.length||n===v.length)for(s=d.length-1,n=v.length-1;1<=s&&0<=n&&d[s]!==v[n];)n--;for(;1<=s&&0<=n;s--,n--)if(d[s]!==v[n]){if(s!==1||n!==1)do if(s--,n--,0>n||d[s]!==v[n]){var M=`
`+d[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=n);break}}}finally{ii=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Dt(l):""}function W0(e,t){switch(e.tag){case 26:case 27:case 5:return Dt(e.type);case 16:return Dt("Lazy");case 13:return e.child!==t&&t!==null?Dt("Suspense Fallback"):Dt("Suspense");case 19:return Dt("SuspenseList");case 0:case 15:return ri(e.type,!1);case 11:return ri(e.type.render,!1);case 1:return ri(e.type,!0);case 31:return Dt("Activity");default:return""}}function Lc(e){try{var t="",l=null;do t+=W0(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ci=Object.prototype.hasOwnProperty,ui=c.unstable_scheduleCallback,oi=c.unstable_cancelCallback,$0=c.unstable_shouldYield,F0=c.unstable_requestPaint,ct=c.unstable_now,I0=c.unstable_getCurrentPriorityLevel,Cc=c.unstable_ImmediatePriority,Dc=c.unstable_UserBlockingPriority,Hs=c.unstable_NormalPriority,P0=c.unstable_LowPriority,Ac=c.unstable_IdlePriority,em=c.log,tm=c.unstable_setDisableYieldValue,Va=null,ut=null;function il(e){if(typeof em=="function"&&tm(e),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(Va,e)}catch{}}var ot=Math.clz32?Math.clz32:sm,lm=Math.log,am=Math.LN2;function sm(e){return e>>>=0,e===0?32:31-(lm(e)/am|0)|0}var Us=256,Rs=262144,Gs=4194304;function El(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ys(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var u=s&134217727;return u!==0?(s=u&~i,s!==0?n=El(s):(r&=u,r!==0?n=El(r):l||(l=u&~e,l!==0&&(n=El(l))))):(u=s&~i,u!==0?n=El(u):r!==0?n=El(r):l||(l=s&~e,l!==0&&(n=El(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function Qa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function nm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ec(){var e=Gs;return Gs<<=1,(Gs&62914560)===0&&(Gs=4194304),e}function di(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Xa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function im(e,t,l,s,n,i){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,d=e.expirationTimes,v=e.hiddenUpdates;for(l=r&~l;0<l;){var M=31-ot(l),C=1<<M;u[M]=0,d[M]=-1;var y=v[M];if(y!==null)for(v[M]=null,M=0;M<y.length;M++){var N=y[M];N!==null&&(N.lane&=-536870913)}l&=~C}s!==0&&Oc(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Oc(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ot(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Bc(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-ot(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function qc(e,t){var l=t&-t;return l=(l&42)!==0?1:mi(l),(l&(e.suspendedLanes|t))!==0?0:l}function mi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Hc(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:S0(e.type))}function Uc(e,t){var l=U.p;try{return U.p=e,t()}finally{U.p=l}}var rl=Math.random().toString(36).slice(2),Je="__reactFiber$"+rl,tt="__reactProps$"+rl,la="__reactContainer$"+rl,hi="__reactEvents$"+rl,rm="__reactListeners$"+rl,cm="__reactHandles$"+rl,Rc="__reactResources$"+rl,Za="__reactMarker$"+rl;function xi(e){delete e[Je],delete e[tt],delete e[hi],delete e[rm],delete e[cm]}function aa(e){var t=e[Je];if(t)return t;for(var l=e.parentNode;l;){if(t=l[la]||l[Je]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=c0(e);e!==null;){if(l=e[Je])return l;e=c0(e)}return t}e=l,l=e.parentNode}return null}function sa(e){if(e=e[Je]||e[la]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ka(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function na(e){var t=e[Rc];return t||(t=e[Rc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Xe(e){e[Za]=!0}var Gc=new Set,Yc={};function Ol(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(Yc[e]=t,e=0;e<t.length;e++)Gc.add(t[e])}var um=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vc={},Qc={};function om(e){return ci.call(Qc,e)?!0:ci.call(Vc,e)?!1:um.test(e)?Qc[e]=!0:(Vc[e]=!0,!1)}function Vs(e,t,l){if(om(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Qs(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Gt(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function jt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dm(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(r){l=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gi(e){if(!e._valueTracker){var t=Xc(e)?"checked":"value";e._valueTracker=dm(e,t,""+e[t])}}function Zc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=Xc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mm=/[\n"\\]/g;function Nt(e){return e.replace(mm,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bi(e,t,l,s,n,i,r,u){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+jt(t)):e.value!==""+jt(t)&&(e.value=""+jt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?vi(e,r,jt(t)):l!=null?vi(e,r,jt(l)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+jt(u):e.removeAttribute("name")}function Kc(e,t,l,s,n,i,r,u){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){gi(e);return}l=l!=null?""+jt(l):"",t=t!=null?""+jt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=u?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),gi(e)}function vi(e,t,l){t==="number"&&Xs(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ra(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+jt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Jc(e,t,l){if(t!=null&&(t=""+jt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+jt(l):""}function Wc(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(o(92));if(ce(s)){if(1<s.length)throw Error(o(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=jt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),gi(e)}function ca(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var fm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $c(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||fm.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Fc(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&$c(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&$c(e,i,t[i])}function pi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(e){return xm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yt(){}var yi=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,oa=null;function Ic(e){var t=sa(e);if(t&&(e=t.stateNode)){var l=e[tt]||null;e:switch(e=t.stateNode,t.type){case"input":if(bi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[tt]||null;if(!n)throw Error(o(90));bi(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&Zc(s)}break e;case"textarea":Jc(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ra(e,!!l.multiple,t,!1)}}}var Ni=!1;function Pc(e,t,l){if(Ni)return e(t,l);Ni=!0;try{var s=e(t);return s}finally{if(Ni=!1,(ua!==null||oa!==null)&&(En(),ua&&(t=ua,e=oa,oa=ua=null,Ic(t),e)))for(t=0;t<e.length;t++)Ic(e[t])}}function Ja(e,t){var l=e.stateNode;if(l===null)return null;var s=l[tt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wi=!1;if(Vt)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{wi=!1}var cl=null,Si=null,Ks=null;function eu(){if(Ks)return Ks;var e,t=Si,l=t.length,s,n="value"in cl?cl.value:cl.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var r=l-e;for(s=1;s<=r&&t[l-s]===n[i-s];s++);return Ks=n.slice(e,1<s?1-s:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ws(){return!0}function tu(){return!1}function lt(e){function t(l,s,n,i,r){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ws:tu,this.isPropagationStopped=tu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ws)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ws)},persist:function(){},isPersistent:Ws}),t}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$s=lt(Bl),$a=S({},Bl,{view:0,detail:0}),gm=lt($a),_i,ki,Fa,Fs=S({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(_i=e.screenX-Fa.screenX,ki=e.screenY-Fa.screenY):ki=_i=0,Fa=e),_i)},movementY:function(e){return"movementY"in e?e.movementY:ki}}),lu=lt(Fs),bm=S({},Fs,{dataTransfer:0}),vm=lt(bm),pm=S({},$a,{relatedTarget:0}),Mi=lt(pm),ym=S({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),jm=lt(ym),Nm=S({},Bl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wm=lt(Nm),Sm=S({},Bl,{data:0}),au=lt(Sm),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},km={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mm[e])?!!t[e]:!1}function zi(){return zm}var Tm=S({},$a,{key:function(e){if(e.key){var t=_m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?km[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lm=lt(Tm),Cm=S({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),su=lt(Cm),Dm=S({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),Am=lt(Dm),Em=S({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Om=lt(Em),Bm=S({},Fs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qm=lt(Bm),Hm=S({},Bl,{newState:0,oldState:0}),Um=lt(Hm),Rm=[9,13,27,32],Ti=Vt&&"CompositionEvent"in window,Ia=null;Vt&&"documentMode"in document&&(Ia=document.documentMode);var Gm=Vt&&"TextEvent"in window&&!Ia,nu=Vt&&(!Ti||Ia&&8<Ia&&11>=Ia),iu=" ",ru=!1;function cu(e,t){switch(e){case"keyup":return Rm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function Ym(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(ru=!0,iu);case"textInput":return e=t.data,e===iu&&ru?null:e;default:return null}}function Vm(e,t){if(da)return e==="compositionend"||!Ti&&cu(e,t)?(e=eu(),Ks=Si=cl=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nu&&t.locale!=="ko"?null:t.data;default:return null}}var Qm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qm[e.type]:t==="textarea"}function du(e,t,l,s){ua?oa?oa.push(s):oa=[s]:ua=s,t=Gn(t,"onChange"),0<t.length&&(l=new $s("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Pa=null,es=null;function Xm(e){Jd(e,0)}function Is(e){var t=Ka(e);if(Zc(t))return e}function mu(e,t){if(e==="change")return t}var fu=!1;if(Vt){var Li;if(Vt){var Ci="oninput"in document;if(!Ci){var hu=document.createElement("div");hu.setAttribute("oninput","return;"),Ci=typeof hu.oninput=="function"}Li=Ci}else Li=!1;fu=Li&&(!document.documentMode||9<document.documentMode)}function xu(){Pa&&(Pa.detachEvent("onpropertychange",gu),es=Pa=null)}function gu(e){if(e.propertyName==="value"&&Is(es)){var t=[];du(t,es,e,ji(e)),Pc(Xm,t)}}function Zm(e,t,l){e==="focusin"?(xu(),Pa=t,es=l,Pa.attachEvent("onpropertychange",gu)):e==="focusout"&&xu()}function Km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Is(es)}function Jm(e,t){if(e==="click")return Is(t)}function Wm(e,t){if(e==="input"||e==="change")return Is(t)}function $m(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:$m;function ts(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!ci.call(t,n)||!dt(e[n],t[n]))return!1}return!0}function bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vu(e,t){var l=bu(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=bu(l)}}function pu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Xs(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Fm=Vt&&"documentMode"in document&&11>=document.documentMode,ma=null,Ai=null,ls=null,Ei=!1;function ju(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ei||ma==null||ma!==Xs(s)||(s=ma,"selectionStart"in s&&Di(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ls&&ts(ls,s)||(ls=s,s=Gn(Ai,"onSelect"),0<s.length&&(t=new $s("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=ma)))}function ql(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var fa={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},Oi={},Nu={};Vt&&(Nu=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Hl(e){if(Oi[e])return Oi[e];if(!fa[e])return e;var t=fa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Nu)return Oi[e]=t[l];return e}var wu=Hl("animationend"),Su=Hl("animationiteration"),_u=Hl("animationstart"),Im=Hl("transitionrun"),Pm=Hl("transitionstart"),ef=Hl("transitioncancel"),ku=Hl("transitionend"),Mu=new Map,Bi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bi.push("scrollEnd");function At(e,t){Mu.set(e,t),Ol(t,[e])}var Ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wt=[],ha=0,qi=0;function en(){for(var e=ha,t=qi=ha=0;t<e;){var l=wt[t];wt[t++]=null;var s=wt[t];wt[t++]=null;var n=wt[t];wt[t++]=null;var i=wt[t];if(wt[t++]=null,s!==null&&n!==null){var r=s.pending;r===null?n.next=n:(n.next=r.next,r.next=n),s.pending=n}i!==0&&zu(l,n,i)}}function tn(e,t,l,s){wt[ha++]=e,wt[ha++]=t,wt[ha++]=l,wt[ha++]=s,qi|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Hi(e,t,l,s){return tn(e,t,l,s),ln(e)}function Ul(e,t){return tn(e,null,null,t),ln(e)}function zu(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,s=i.alternate,s!==null&&(s.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-ot(l),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),i):null}function ln(e){if(50<Ss)throw Ss=0,Kr=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xa={};function tf(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mt(e,t,l,s){return new tf(e,t,l,s)}function Ui(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qt(e,t){var l=e.alternate;return l===null?(l=mt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Tu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function an(e,t,l,s,n,i){var r=0;if(s=e,typeof e=="function")Ui(e)&&(r=1);else if(typeof e=="string")r=rh(e,l,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Le:return e=mt(31,l,t,n),e.elementType=Le,e.lanes=i,e;case O:return Rl(l.children,n,i,t);case Z:r=8,n|=24;break;case D:return e=mt(12,l,t,n|2),e.elementType=D,e.lanes=i,e;case J:return e=mt(13,l,t,n),e.elementType=J,e.lanes=i,e;case L:return e=mt(19,l,t,n),e.elementType=L,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:r=10;break e;case le:r=9;break e;case g:r=11;break e;case B:r=14;break e;case ae:r=16,s=null;break e}r=29,l=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=mt(r,l,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function Rl(e,t,l,s){return e=mt(7,e,s,t),e.lanes=l,e}function Ri(e,t,l){return e=mt(6,e,null,t),e.lanes=l,e}function Lu(e){var t=mt(18,null,null,0);return t.stateNode=e,t}function Gi(e,t,l){return t=mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cu=new WeakMap;function St(e,t){if(typeof e=="object"&&e!==null){var l=Cu.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Lc(t)},Cu.set(e,t),t)}return{value:e,source:t,stack:Lc(t)}}var ga=[],ba=0,sn=null,as=0,_t=[],kt=0,ul=null,qt=1,Ht="";function Xt(e,t){ga[ba++]=as,ga[ba++]=sn,sn=e,as=t}function Du(e,t,l){_t[kt++]=qt,_t[kt++]=Ht,_t[kt++]=ul,ul=e;var s=qt;e=Ht;var n=32-ot(s)-1;s&=~(1<<n),l+=1;var i=32-ot(t)+n;if(30<i){var r=n-n%5;i=(s&(1<<r)-1).toString(32),s>>=r,n-=r,qt=1<<32-ot(t)+n|l<<n|s,Ht=i+e}else qt=1<<i|l<<n|s,Ht=e}function Yi(e){e.return!==null&&(Xt(e,1),Du(e,1,0))}function Vi(e){for(;e===sn;)sn=ga[--ba],ga[ba]=null,as=ga[--ba],ga[ba]=null;for(;e===ul;)ul=_t[--kt],_t[kt]=null,Ht=_t[--kt],_t[kt]=null,qt=_t[--kt],_t[kt]=null}function Au(e,t){_t[kt++]=qt,_t[kt++]=Ht,_t[kt++]=ul,qt=t.id,Ht=t.overflow,ul=e}var We=null,Ce=null,ge=!1,ol=null,Mt=!1,Qi=Error(o(519));function dl(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ss(St(t,e)),Qi}function Eu(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[Je]=e,t[tt]=s,l){case"dialog":fe("cancel",t),fe("close",t);break;case"iframe":case"object":case"embed":fe("load",t);break;case"video":case"audio":for(l=0;l<ks.length;l++)fe(ks[l],t);break;case"source":fe("error",t);break;case"img":case"image":case"link":fe("error",t),fe("load",t);break;case"details":fe("toggle",t);break;case"input":fe("invalid",t),Kc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":fe("invalid",t);break;case"textarea":fe("invalid",t),Wc(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||Id(t.textContent,l)?(s.popover!=null&&(fe("beforetoggle",t),fe("toggle",t)),s.onScroll!=null&&fe("scroll",t),s.onScrollEnd!=null&&fe("scrollend",t),s.onClick!=null&&(t.onclick=Yt),t=!0):t=!1,t||dl(e,!0)}function Ou(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:We=We.return}}function va(e){if(e!==We)return!1;if(!ge)return Ou(e),ge=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||cc(e.type,e.memoizedProps)),l=!l),l&&Ce&&dl(e),Ou(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ce=r0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ce=r0(e)}else t===27?(t=Ce,_l(e.type)?(e=fc,fc=null,Ce=e):Ce=t):Ce=We?Tt(e.stateNode.nextSibling):null;return!0}function Gl(){Ce=We=null,ge=!1}function Xi(){var e=ol;return e!==null&&(it===null?it=e:it.push.apply(it,e),ol=null),e}function ss(e){ol===null?ol=[e]:ol.push(e)}var Zi=se(null),Yl=null,Zt=null;function ml(e,t,l){T(Zi,t._currentValue),t._currentValue=l}function Kt(e){e._currentValue=Zi.current,oe(Zi)}function Ki(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Ji(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var u=i;i=n;for(var d=0;d<t.length;d++)if(u.context===t[d]){i.lanes|=l,u=i.alternate,u!==null&&(u.lanes|=l),Ki(i.return,l,e),s||(r=null);break e}i=u.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(o(341));r.lanes|=l,i=r.alternate,i!==null&&(i.lanes|=l),Ki(r,l,e),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===e){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function pa(e,t,l,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(o(387));if(r=r.memoizedProps,r!==null){var u=n.type;dt(n.pendingProps.value,r.value)||(e!==null?e.push(u):e=[u])}}else if(n===yt.current){if(r=n.alternate,r===null)throw Error(o(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Cs):e=[Cs])}n=n.return}e!==null&&Ji(t,e,l,s),t.flags|=262144}function nn(e){for(e=e.firstContext;e!==null;){if(!dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vl(e){Yl=e,Zt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Bu(Yl,e)}function rn(e,t){return Yl===null&&Vl(e),Bu(e,t)}function Bu(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Zt===null){if(e===null)throw Error(o(308));Zt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zt=Zt.next=t;return l}var lf=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},af=c.unstable_scheduleCallback,sf=c.unstable_NormalPriority,Ue={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wi(){return{controller:new lf,data:new Map,refCount:0}}function ns(e){e.refCount--,e.refCount===0&&af(sf,function(){e.controller.abort()})}var is=null,$i=0,ya=0,ja=null;function nf(e,t){if(is===null){var l=is=[];$i=0,ya=Pr(),ja={status:"pending",value:void 0,then:function(s){l.push(s)}}}return $i++,t.then(qu,qu),t}function qu(){if(--$i===0&&is!==null){ja!==null&&(ja.status="fulfilled");var e=is;is=null,ya=0,ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rf(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var Hu=m.S;m.S=function(e,t){Nd=ct(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&nf(e,t),Hu!==null&&Hu(e,t)};var Ql=se(null);function Fi(){var e=Ql.current;return e!==null?e:Te.pooledCache}function cn(e,t){t===null?T(Ql,Ql.current):T(Ql,t.pool)}function Uu(){var e=Fi();return e===null?null:{parent:Ue._currentValue,pool:e}}var Na=Error(o(460)),Ii=Error(o(474)),un=Error(o(542)),on={then:function(){}};function Ru(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Yt,Yt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e;default:if(typeof t.status=="string")t.then(Yt,Yt);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vu(e),e}throw Zl=t,Na}}function Xl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Zl=l,Na):l}}var Zl=null;function Yu(){if(Zl===null)throw Error(o(459));var e=Zl;return Zl=null,e}function Vu(e){if(e===Na||e===un)throw Error(o(483))}var wa=null,rs=0;function dn(e){var t=rs;return rs+=1,wa===null&&(wa=[]),Gu(wa,e,t)}function cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mn(e,t){throw t.$$typeof===H?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qu(e){function t(x,f){if(e){var b=x.deletions;b===null?(x.deletions=[f],x.flags|=16):b.push(f)}}function l(x,f){if(!e)return null;for(;f!==null;)t(x,f),f=f.sibling;return null}function s(x){for(var f=new Map;x!==null;)x.key!==null?f.set(x.key,x):f.set(x.index,x),x=x.sibling;return f}function n(x,f){return x=Qt(x,f),x.index=0,x.sibling=null,x}function i(x,f,b){return x.index=b,e?(b=x.alternate,b!==null?(b=b.index,b<f?(x.flags|=67108866,f):b):(x.flags|=67108866,f)):(x.flags|=1048576,f)}function r(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function u(x,f,b,z){return f===null||f.tag!==6?(f=Ri(b,x.mode,z),f.return=x,f):(f=n(f,b),f.return=x,f)}function d(x,f,b,z){var P=b.type;return P===O?M(x,f,b.props.children,z,b.key):f!==null&&(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ae&&Xl(P)===f.type)?(f=n(f,b.props),cs(f,b),f.return=x,f):(f=an(b.type,b.key,b.props,null,x.mode,z),cs(f,b),f.return=x,f)}function v(x,f,b,z){return f===null||f.tag!==4||f.stateNode.containerInfo!==b.containerInfo||f.stateNode.implementation!==b.implementation?(f=Gi(b,x.mode,z),f.return=x,f):(f=n(f,b.children||[]),f.return=x,f)}function M(x,f,b,z,P){return f===null||f.tag!==7?(f=Rl(b,x.mode,z,P),f.return=x,f):(f=n(f,b),f.return=x,f)}function C(x,f,b){if(typeof f=="string"&&f!==""||typeof f=="number"||typeof f=="bigint")return f=Ri(""+f,x.mode,b),f.return=x,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case K:return b=an(f.type,f.key,f.props,null,x.mode,b),cs(b,f),b.return=x,b;case w:return f=Gi(f,x.mode,b),f.return=x,f;case ae:return f=Xl(f),C(x,f,b)}if(ce(f)||I(f))return f=Rl(f,x.mode,b,null),f.return=x,f;if(typeof f.then=="function")return C(x,dn(f),b);if(f.$$typeof===E)return C(x,rn(x,f),b);mn(x,f)}return null}function y(x,f,b,z){var P=f!==null?f.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return P!==null?null:u(x,f,""+b,z);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case K:return b.key===P?d(x,f,b,z):null;case w:return b.key===P?v(x,f,b,z):null;case ae:return b=Xl(b),y(x,f,b,z)}if(ce(b)||I(b))return P!==null?null:M(x,f,b,z,null);if(typeof b.then=="function")return y(x,f,dn(b),z);if(b.$$typeof===E)return y(x,f,rn(x,b),z);mn(x,b)}return null}function N(x,f,b,z,P){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return x=x.get(b)||null,u(f,x,""+z,P);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return x=x.get(z.key===null?b:z.key)||null,d(f,x,z,P);case w:return x=x.get(z.key===null?b:z.key)||null,v(f,x,z,P);case ae:return z=Xl(z),N(x,f,b,z,P)}if(ce(z)||I(z))return x=x.get(b)||null,M(f,x,z,P,null);if(typeof z.then=="function")return N(x,f,b,dn(z),P);if(z.$$typeof===E)return N(x,f,b,rn(f,z),P);mn(f,z)}return null}function W(x,f,b,z){for(var P=null,be=null,F=f,ie=f=0,xe=null;F!==null&&ie<b.length;ie++){F.index>ie?(xe=F,F=null):xe=F.sibling;var ve=y(x,F,b[ie],z);if(ve===null){F===null&&(F=xe);break}e&&F&&ve.alternate===null&&t(x,F),f=i(ve,f,ie),be===null?P=ve:be.sibling=ve,be=ve,F=xe}if(ie===b.length)return l(x,F),ge&&Xt(x,ie),P;if(F===null){for(;ie<b.length;ie++)F=C(x,b[ie],z),F!==null&&(f=i(F,f,ie),be===null?P=F:be.sibling=F,be=F);return ge&&Xt(x,ie),P}for(F=s(F);ie<b.length;ie++)xe=N(F,x,ie,b[ie],z),xe!==null&&(e&&xe.alternate!==null&&F.delete(xe.key===null?ie:xe.key),f=i(xe,f,ie),be===null?P=xe:be.sibling=xe,be=xe);return e&&F.forEach(function(Ll){return t(x,Ll)}),ge&&Xt(x,ie),P}function te(x,f,b,z){if(b==null)throw Error(o(151));for(var P=null,be=null,F=f,ie=f=0,xe=null,ve=b.next();F!==null&&!ve.done;ie++,ve=b.next()){F.index>ie?(xe=F,F=null):xe=F.sibling;var Ll=y(x,F,ve.value,z);if(Ll===null){F===null&&(F=xe);break}e&&F&&Ll.alternate===null&&t(x,F),f=i(Ll,f,ie),be===null?P=Ll:be.sibling=Ll,be=Ll,F=xe}if(ve.done)return l(x,F),ge&&Xt(x,ie),P;if(F===null){for(;!ve.done;ie++,ve=b.next())ve=C(x,ve.value,z),ve!==null&&(f=i(ve,f,ie),be===null?P=ve:be.sibling=ve,be=ve);return ge&&Xt(x,ie),P}for(F=s(F);!ve.done;ie++,ve=b.next())ve=N(F,x,ie,ve.value,z),ve!==null&&(e&&ve.alternate!==null&&F.delete(ve.key===null?ie:ve.key),f=i(ve,f,ie),be===null?P=ve:be.sibling=ve,be=ve);return e&&F.forEach(function(vh){return t(x,vh)}),ge&&Xt(x,ie),P}function Me(x,f,b,z){if(typeof b=="object"&&b!==null&&b.type===O&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case K:e:{for(var P=b.key;f!==null;){if(f.key===P){if(P=b.type,P===O){if(f.tag===7){l(x,f.sibling),z=n(f,b.props.children),z.return=x,x=z;break e}}else if(f.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ae&&Xl(P)===f.type){l(x,f.sibling),z=n(f,b.props),cs(z,b),z.return=x,x=z;break e}l(x,f);break}else t(x,f);f=f.sibling}b.type===O?(z=Rl(b.props.children,x.mode,z,b.key),z.return=x,x=z):(z=an(b.type,b.key,b.props,null,x.mode,z),cs(z,b),z.return=x,x=z)}return r(x);case w:e:{for(P=b.key;f!==null;){if(f.key===P)if(f.tag===4&&f.stateNode.containerInfo===b.containerInfo&&f.stateNode.implementation===b.implementation){l(x,f.sibling),z=n(f,b.children||[]),z.return=x,x=z;break e}else{l(x,f);break}else t(x,f);f=f.sibling}z=Gi(b,x.mode,z),z.return=x,x=z}return r(x);case ae:return b=Xl(b),Me(x,f,b,z)}if(ce(b))return W(x,f,b,z);if(I(b)){if(P=I(b),typeof P!="function")throw Error(o(150));return b=P.call(b),te(x,f,b,z)}if(typeof b.then=="function")return Me(x,f,dn(b),z);if(b.$$typeof===E)return Me(x,f,rn(x,b),z);mn(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,f!==null&&f.tag===6?(l(x,f.sibling),z=n(f,b),z.return=x,x=z):(l(x,f),z=Ri(b,x.mode,z),z.return=x,x=z),r(x)):l(x,f)}return function(x,f,b,z){try{rs=0;var P=Me(x,f,b,z);return wa=null,P}catch(F){if(F===Na||F===un)throw F;var be=mt(29,F,null,x.mode);return be.lanes=z,be.return=x,be}}}var Kl=Qu(!0),Xu=Qu(!1),fl=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function er(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xl(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(pe&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=ln(e),zu(e,null,l),t}return tn(e,s,t,l),ln(e)}function us(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Bc(e,l)}}function tr(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var lr=!1;function os(){if(lr){var e=ja;if(e!==null)throw e}}function ds(e,t,l,s){lr=!1;var n=e.updateQueue;fl=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var d=u,v=d.next;d.next=null,r===null?i=v:r.next=v,r=d;var M=e.alternate;M!==null&&(M=M.updateQueue,u=M.lastBaseUpdate,u!==r&&(u===null?M.firstBaseUpdate=v:u.next=v,M.lastBaseUpdate=d))}if(i!==null){var C=n.baseState;r=0,M=v=d=null,u=i;do{var y=u.lane&-536870913,N=y!==u.lane;if(N?(he&y)===y:(s&y)===y){y!==0&&y===ya&&(lr=!0),M!==null&&(M=M.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var W=e,te=u;y=t;var Me=l;switch(te.tag){case 1:if(W=te.payload,typeof W=="function"){C=W.call(Me,C,y);break e}C=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=te.payload,y=typeof W=="function"?W.call(Me,C,y):W,y==null)break e;C=S({},C,y);break e;case 2:fl=!0}}y=u.callback,y!==null&&(e.flags|=64,N&&(e.flags|=8192),N=n.callbacks,N===null?n.callbacks=[y]:N.push(y))}else N={lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},M===null?(v=M=N,d=C):M=M.next=N,r|=y;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;N=u,u=N.next,N.next=null,n.lastBaseUpdate=N,n.shared.pending=null}}while(!0);M===null&&(d=C),n.baseState=d,n.firstBaseUpdate=v,n.lastBaseUpdate=M,i===null&&(n.shared.lanes=0),yl|=r,e.lanes=r,e.memoizedState=C}}function Zu(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Ku(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Zu(l[e],t)}var Sa=se(null),fn=se(0);function Ju(e,t){e=ll,T(fn,e),T(Sa,t),ll=e|t.baseLanes}function ar(){T(fn,ll),T(Sa,Sa.current)}function sr(){ll=fn.current,oe(Sa),oe(fn)}var ft=se(null),zt=null;function gl(e){var t=e.alternate;T(Be,Be.current&1),T(ft,e),zt===null&&(t===null||Sa.current!==null||t.memoizedState!==null)&&(zt=e)}function nr(e){T(Be,Be.current),T(ft,e),zt===null&&(zt=e)}function Wu(e){e.tag===22?(T(Be,Be.current),T(ft,e),zt===null&&(zt=e)):bl()}function bl(){T(Be,Be.current),T(ft,ft.current)}function ht(e){oe(ft),zt===e&&(zt=null),oe(Be)}var Be=se(0);function hn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||dc(l)||mc(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jt=0,ne=null,_e=null,Re=null,xn=!1,_a=!1,Jl=!1,gn=0,ms=0,ka=null,cf=0;function Ee(){throw Error(o(321))}function ir(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!dt(e[l],t[l]))return!1;return!0}function rr(e,t,l,s,n,i){return Jt=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,m.H=e===null||e.memoizedState===null?Ao:Nr,Jl=!1,i=l(s,n),Jl=!1,_a&&(i=Fu(t,l,s,n)),$u(e),i}function $u(e){m.H=xs;var t=_e!==null&&_e.next!==null;if(Jt=0,Re=_e=ne=null,xn=!1,ms=0,ka=null,t)throw Error(o(300));e===null||Ge||(e=e.dependencies,e!==null&&nn(e)&&(Ge=!0))}function Fu(e,t,l,s){ne=e;var n=0;do{if(_a&&(ka=null),ms=0,_a=!1,25<=n)throw Error(o(301));if(n+=1,Re=_e=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}m.H=Eo,i=t(l,s)}while(_a);return i}function uf(){var e=m.H,t=e.useState()[0];return t=typeof t.then=="function"?fs(t):t,e=e.useState()[0],(_e!==null?_e.memoizedState:null)!==e&&(ne.flags|=1024),t}function cr(){var e=gn!==0;return gn=0,e}function ur(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function or(e){if(xn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xn=!1}Jt=0,Re=_e=ne=null,_a=!1,ms=gn=0,ka=null}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ne.memoizedState=Re=e:Re=Re.next=e,Re}function qe(){if(_e===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=_e.next;var t=Re===null?ne.memoizedState:Re.next;if(t!==null)Re=t,_e=e;else{if(e===null)throw ne.alternate===null?Error(o(467)):Error(o(310));_e=e,e={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},Re===null?ne.memoizedState=Re=e:Re=Re.next=e}return Re}function bn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fs(e){var t=ms;return ms+=1,ka===null&&(ka=[]),e=Gu(ka,e,t),t=ne,(Re===null?t.memoizedState:Re.next)===null&&(t=t.alternate,m.H=t===null||t.memoizedState===null?Ao:Nr),e}function vn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fs(e);if(e.$$typeof===E)return $e(e)}throw Error(o(438,String(e)))}function dr(e){var t=null,l=ne.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=ne.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=bn(),ne.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=de;return t.index++,l}function Wt(e,t){return typeof t=="function"?t(e):t}function pn(e){var t=qe();return mr(t,_e,e)}function mr(e,t,l){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=l;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var u=r=null,d=null,v=t,M=!1;do{var C=v.lane&-536870913;if(C!==v.lane?(he&C)===C:(Jt&C)===C){var y=v.revertLane;if(y===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),C===ya&&(M=!0);else if((Jt&y)===y){v=v.next,y===ya&&(M=!0);continue}else C={lane:0,revertLane:v.revertLane,gesture:null,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},d===null?(u=d=C,r=i):d=d.next=C,ne.lanes|=y,yl|=y;C=v.action,Jl&&l(i,C),i=v.hasEagerState?v.eagerState:l(i,C)}else y={lane:C,revertLane:v.revertLane,gesture:v.gesture,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null},d===null?(u=d=y,r=i):d=d.next=y,ne.lanes|=C,yl|=C;v=v.next}while(v!==null&&v!==t);if(d===null?r=i:d.next=u,!dt(i,e.memoizedState)&&(Ge=!0,M&&(l=ja,l!==null)))throw l;e.memoizedState=i,e.baseState=r,e.baseQueue=d,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function fr(e){var t=qe(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var r=n=n.next;do i=e(i,r.action),r=r.next;while(r!==n);dt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,s]}function Iu(e,t,l){var s=ne,n=qe(),i=ge;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var r=!dt((_e||n).memoizedState,l);if(r&&(n.memoizedState=l,Ge=!0),n=n.queue,gr(to.bind(null,s,n,e),[e]),n.getSnapshot!==t||r||Re!==null&&Re.memoizedState.tag&1){if(s.flags|=2048,Ma(9,{destroy:void 0},eo.bind(null,s,n,l,t),null),Te===null)throw Error(o(349));i||(Jt&127)!==0||Pu(s,t,l)}return l}function Pu(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=ne.updateQueue,t===null?(t=bn(),ne.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function eo(e,t,l,s){t.value=l,t.getSnapshot=s,lo(t)&&ao(e)}function to(e,t,l){return l(function(){lo(t)&&ao(e)})}function lo(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!dt(e,l)}catch{return!0}}function ao(e){var t=Ul(e,2);t!==null&&rt(t,e,2)}function hr(e){var t=et();if(typeof e=="function"){var l=e;if(e=l(),Jl){il(!0);try{l()}finally{il(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function so(e,t,l,s){return e.baseState=l,mr(e,_e,typeof s=="function"?s:Wt)}function of(e,t,l,s,n){if(Nn(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};m.T!==null?l(!0):i.isTransition=!1,s(i),l=t.pending,l===null?(i.next=t.pending=i,no(t,i)):(i.next=l.next,t.pending=l.next=i)}}function no(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=m.T,r={};m.T=r;try{var u=l(n,s),d=m.S;d!==null&&d(r,u),io(e,t,u)}catch(v){xr(e,t,v)}finally{i!==null&&r.types!==null&&(i.types=r.types),m.T=i}}else try{i=l(n,s),io(e,t,i)}catch(v){xr(e,t,v)}}function io(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){ro(e,t,s)},function(s){return xr(e,t,s)}):ro(e,t,l)}function ro(e,t,l){t.status="fulfilled",t.value=l,co(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,no(e,l)))}function xr(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,co(t),t=t.next;while(t!==s)}e.action=null}function co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function uo(e,t){return t}function oo(e,t){if(ge){var l=Te.formState;if(l!==null){e:{var s=ne;if(ge){if(Ce){t:{for(var n=Ce,i=Mt;n.nodeType!==8;){if(!i){n=null;break t}if(n=Tt(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Ce=Tt(n.nextSibling),s=n.data==="F!";break e}}dl(s)}s=!1}s&&(t=l[0])}}return l=et(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t},l.queue=s,l=Lo.bind(null,ne,s),s.dispatch=l,s=hr(!1),i=jr.bind(null,ne,!1,s.queue),s=et(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=of.bind(null,ne,n,i,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function mo(e){var t=qe();return fo(t,_e,e)}function fo(e,t,l){if(t=mr(e,t,uo)[0],e=pn(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=fs(t)}catch(r){throw r===Na?un:r}else s=t;t=qe();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(ne.flags|=2048,Ma(9,{destroy:void 0},df.bind(null,n,l),null)),[s,i,e]}function df(e,t){e.action=t}function ho(e){var t=qe(),l=_e;if(l!==null)return fo(t,l,e);qe(),t=t.memoizedState,l=qe();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function Ma(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=ne.updateQueue,t===null&&(t=bn(),ne.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function xo(){return qe().memoizedState}function yn(e,t,l,s){var n=et();ne.flags|=e,n.memoizedState=Ma(1|t,{destroy:void 0},l,s===void 0?null:s)}function jn(e,t,l,s){var n=qe();s=s===void 0?null:s;var i=n.memoizedState.inst;_e!==null&&s!==null&&ir(s,_e.memoizedState.deps)?n.memoizedState=Ma(t,i,l,s):(ne.flags|=e,n.memoizedState=Ma(1|t,i,l,s))}function go(e,t){yn(8390656,8,e,t)}function gr(e,t){jn(2048,8,e,t)}function mf(e){ne.flags|=4;var t=ne.updateQueue;if(t===null)t=bn(),ne.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function bo(e){var t=qe().memoizedState;return mf({ref:t,nextImpl:e}),function(){if((pe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function vo(e,t){return jn(4,2,e,t)}function po(e,t){return jn(4,4,e,t)}function yo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jo(e,t,l){l=l!=null?l.concat([e]):null,jn(4,4,yo.bind(null,t,e),l)}function br(){}function No(e,t){var l=qe();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&ir(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function wo(e,t){var l=qe();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&ir(t,s[1]))return s[0];if(s=e(),Jl){il(!0);try{e()}finally{il(!1)}}return l.memoizedState=[s,t],s}function vr(e,t,l){return l===void 0||(Jt&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Sd(),ne.lanes|=e,yl|=e,l)}function So(e,t,l,s){return dt(l,t)?l:Sa.current!==null?(e=vr(e,l,s),dt(e,t)||(Ge=!0),e):(Jt&42)===0||(Jt&1073741824)!==0&&(he&261930)===0?(Ge=!0,e.memoizedState=l):(e=Sd(),ne.lanes|=e,yl|=e,t)}function _o(e,t,l,s,n){var i=U.p;U.p=i!==0&&8>i?i:8;var r=m.T,u={};m.T=u,jr(e,!1,t,l);try{var d=n(),v=m.S;if(v!==null&&v(u,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var M=rf(d,s);hs(e,t,M,bt(e))}else hs(e,t,s,bt(e))}catch(C){hs(e,t,{then:function(){},status:"rejected",reason:C},bt())}finally{U.p=i,r!==null&&u.types!==null&&(r.types=u.types),m.T=r}}function ff(){}function pr(e,t,l,s){if(e.tag!==5)throw Error(o(476));var n=ko(e).queue;_o(e,n,t,$,l===null?ff:function(){return Mo(e),l(s)})}function ko(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:$},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Mo(e){var t=ko(e);t.next===null&&(t=e.alternate.memoizedState),hs(e,t.next.queue,{},bt())}function yr(){return $e(Cs)}function zo(){return qe().memoizedState}function To(){return qe().memoizedState}function hf(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=bt();e=hl(l);var s=xl(t,e,l);s!==null&&(rt(s,t,l),us(s,t,l)),t={cache:Wi()},e.payload=t;return}t=t.return}}function xf(e,t,l){var s=bt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nn(e)?Co(t,l):(l=Hi(e,t,l,s),l!==null&&(rt(l,e,s),Do(l,t,s)))}function Lo(e,t,l){var s=bt();hs(e,t,l,s)}function hs(e,t,l,s){var n={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Nn(e))Co(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,u=i(r,l);if(n.hasEagerState=!0,n.eagerState=u,dt(u,r))return tn(e,t,n,0),Te===null&&en(),!1}catch{}if(l=Hi(e,t,n,s),l!==null)return rt(l,e,s),Do(l,t,s),!0}return!1}function jr(e,t,l,s){if(s={lane:2,revertLane:Pr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Nn(e)){if(t)throw Error(o(479))}else t=Hi(e,l,s,2),t!==null&&rt(t,e,2)}function Nn(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Co(e,t){_a=xn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Do(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Bc(e,l)}}var xs={readContext:$e,use:vn,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee};xs.useEffectEvent=Ee;var Ao={readContext:$e,use:vn,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:$e,useEffect:go,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,yn(4194308,4,yo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return yn(4194308,4,e,t)},useInsertionEffect:function(e,t){yn(4,2,e,t)},useMemo:function(e,t){var l=et();t=t===void 0?null:t;var s=e();if(Jl){il(!0);try{e()}finally{il(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=et();if(l!==void 0){var n=l(t);if(Jl){il(!0);try{l(t)}finally{il(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=xf.bind(null,ne,e),[s.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:function(e){e=hr(e);var t=e.queue,l=Lo.bind(null,ne,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:br,useDeferredValue:function(e,t){var l=et();return vr(l,e,t)},useTransition:function(){var e=hr(!1);return e=_o.bind(null,ne,e.queue,!0,!1),et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=ne,n=et();if(ge){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),Te===null)throw Error(o(349));(he&127)!==0||Pu(s,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,go(to.bind(null,s,i,e),[e]),s.flags|=2048,Ma(9,{destroy:void 0},eo.bind(null,s,i,l,t),null),l},useId:function(){var e=et(),t=Te.identifierPrefix;if(ge){var l=Ht,s=qt;l=(s&~(1<<32-ot(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=gn++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=cf++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:yr,useFormState:oo,useActionState:oo,useOptimistic:function(e){var t=et();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=jr.bind(null,ne,!0,l),l.dispatch=t,[e,t]},useMemoCache:dr,useCacheRefresh:function(){return et().memoizedState=hf.bind(null,ne)},useEffectEvent:function(e){var t=et(),l={impl:e};return t.memoizedState=l,function(){if((pe&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},Nr={readContext:$e,use:vn,useCallback:No,useContext:$e,useEffect:gr,useImperativeHandle:jo,useInsertionEffect:vo,useLayoutEffect:po,useMemo:wo,useReducer:pn,useRef:xo,useState:function(){return pn(Wt)},useDebugValue:br,useDeferredValue:function(e,t){var l=qe();return So(l,_e.memoizedState,e,t)},useTransition:function(){var e=pn(Wt)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Iu,useId:zo,useHostTransitionStatus:yr,useFormState:mo,useActionState:mo,useOptimistic:function(e,t){var l=qe();return so(l,_e,e,t)},useMemoCache:dr,useCacheRefresh:To};Nr.useEffectEvent=bo;var Eo={readContext:$e,use:vn,useCallback:No,useContext:$e,useEffect:gr,useImperativeHandle:jo,useInsertionEffect:vo,useLayoutEffect:po,useMemo:wo,useReducer:fr,useRef:xo,useState:function(){return fr(Wt)},useDebugValue:br,useDeferredValue:function(e,t){var l=qe();return _e===null?vr(l,e,t):So(l,_e.memoizedState,e,t)},useTransition:function(){var e=fr(Wt)[0],t=qe().memoizedState;return[typeof e=="boolean"?e:fs(e),t]},useSyncExternalStore:Iu,useId:zo,useHostTransitionStatus:yr,useFormState:ho,useActionState:ho,useOptimistic:function(e,t){var l=qe();return _e!==null?so(l,_e,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:dr,useCacheRefresh:To};Eo.useEffectEvent=bo;function wr(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:S({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Sr={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=bt(),n=hl(s);n.payload=t,l!=null&&(n.callback=l),t=xl(e,n,s),t!==null&&(rt(t,e,s),us(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=bt(),n=hl(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=xl(e,n,s),t!==null&&(rt(t,e,s),us(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=bt(),s=hl(l);s.tag=2,t!=null&&(s.callback=t),t=xl(e,s,l),t!==null&&(rt(t,e,l),us(t,e,l))}};function Oo(e,t,l,s,n,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,r):t.prototype&&t.prototype.isPureReactComponent?!ts(l,s)||!ts(n,i):!0}function Bo(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&Sr.enqueueReplaceState(t,t.state,null)}function Wl(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=S({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function qo(e){Ps(e)}function Ho(e){console.error(e)}function Uo(e){Ps(e)}function wn(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Ro(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function _r(e,t,l){return l=hl(l),l.tag=3,l.payload={element:null},l.callback=function(){wn(e,t)},l}function Go(e){return e=hl(e),e.tag=3,e}function Yo(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){Ro(t,l,s)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Ro(t,l,s),typeof n!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var u=s.stack;this.componentDidCatch(s.value,{componentStack:u!==null?u:""})})}function gf(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&pa(t,l,n,!0),l=ft.current,l!==null){switch(l.tag){case 31:case 13:return zt===null?On():l.alternate===null&&Oe===0&&(Oe=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===on?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),$r(e,s,n)),!1;case 22:return l.flags|=65536,s===on?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),$r(e,s,n)),!1}throw Error(o(435,l.tag))}return $r(e,s,n),On(),!1}if(ge)return t=ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Qi&&(e=Error(o(422),{cause:s}),ss(St(e,l)))):(s!==Qi&&(t=Error(o(423),{cause:s}),ss(St(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=St(s,l),n=_r(e.stateNode,s,n),tr(e,n),Oe!==4&&(Oe=2)),!1;var i=Error(o(520),{cause:s});if(i=St(i,l),ws===null?ws=[i]:ws.push(i),Oe!==4&&(Oe=2),t===null)return!0;s=St(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=_r(l.stateNode,s,e),tr(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(jl===null||!jl.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=Go(n),Yo(n,e,l,s),tr(l,n),!1}l=l.return}while(l!==null);return!1}var kr=Error(o(461)),Ge=!1;function Fe(e,t,l,s){t.child=e===null?Xu(t,null,l,s):Kl(t,e.child,l,s)}function Vo(e,t,l,s,n){l=l.render;var i=t.ref;if("ref"in s){var r={};for(var u in s)u!=="ref"&&(r[u]=s[u])}else r=s;return Vl(t),s=rr(e,t,l,r,i,n),u=cr(),e!==null&&!Ge?(ur(e,t,n),$t(e,t,n)):(ge&&u&&Yi(t),t.flags|=1,Fe(e,t,s,n),t.child)}function Qo(e,t,l,s,n){if(e===null){var i=l.type;return typeof i=="function"&&!Ui(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Xo(e,t,i,s,n)):(e=an(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Er(e,n)){var r=i.memoizedProps;if(l=l.compare,l=l!==null?l:ts,l(r,s)&&e.ref===t.ref)return $t(e,t,n)}return t.flags|=1,e=Qt(i,s),e.ref=t.ref,e.return=t,t.child=e}function Xo(e,t,l,s,n){if(e!==null){var i=e.memoizedProps;if(ts(i,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=i,Er(e,n))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,$t(e,t,n)}return Mr(e,t,l,s,n)}function Zo(e,t,l,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return Ko(e,t,i,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cn(t,i!==null?i.cachePool:null),i!==null?Ju(t,i):ar(),Wu(t);else return s=t.lanes=536870912,Ko(e,t,i!==null?i.baseLanes|l:l,l,s)}else i!==null?(cn(t,i.cachePool),Ju(t,i),bl(),t.memoizedState=null):(e!==null&&cn(t,null),ar(),bl());return Fe(e,t,n,l),t.child}function gs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ko(e,t,l,s,n){var i=Fi();return i=i===null?null:{parent:Ue._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&cn(t,null),ar(),Wu(t),e!==null&&pa(e,t,s,!0),t.childLanes=n,null}function Sn(e,t){return t=kn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Jo(e,t,l){return Kl(t,e.child,null,l),e=Sn(t,t.pendingProps),e.flags|=2,ht(t),t.memoizedState=null,e}function bf(e,t,l){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=Sn(t,s),t.lanes=536870912,gs(null,e);if(nr(t),(e=Ce)?(e=i0(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ul!==null?{id:qt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},l=Lu(e),l.return=t,t.child=l,We=t,Ce=null)):e=null,e===null)throw dl(t);return t.lanes=536870912,null}return Sn(t,s)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(nr(t),n)if(t.flags&256)t.flags&=-257,t=Jo(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Ge||pa(e,t,l,!1),n=(l&e.childLanes)!==0,Ge||n){if(s=Te,s!==null&&(r=qc(s,l),r!==0&&r!==i.retryLane))throw i.retryLane=r,Ul(e,r),rt(s,e,r),kr;On(),t=Jo(e,t,l)}else e=i.treeContext,Ce=Tt(r.nextSibling),We=t,ge=!0,ol=null,Mt=!1,e!==null&&Au(t,e),t=Sn(t,s),t.flags|=4096;return t}return e=Qt(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function _n(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Mr(e,t,l,s,n){return Vl(t),l=rr(e,t,l,s,void 0,n),s=cr(),e!==null&&!Ge?(ur(e,t,n),$t(e,t,n)):(ge&&s&&Yi(t),t.flags|=1,Fe(e,t,l,n),t.child)}function Wo(e,t,l,s,n,i){return Vl(t),t.updateQueue=null,l=Fu(t,s,l,n),$u(e),s=cr(),e!==null&&!Ge?(ur(e,t,i),$t(e,t,i)):(ge&&s&&Yi(t),t.flags|=1,Fe(e,t,l,i),t.child)}function $o(e,t,l,s,n){if(Vl(t),t.stateNode===null){var i=xa,r=l.contextType;typeof r=="object"&&r!==null&&(i=$e(r)),i=new l(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sr,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Pi(t),r=l.contextType,i.context=typeof r=="object"&&r!==null?$e(r):xa,i.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(wr(t,l,r,s),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Sr.enqueueReplaceState(i,i.state,null),ds(t,s,i,n),os(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var u=t.memoizedProps,d=Wl(l,u);i.props=d;var v=i.context,M=l.contextType;r=xa,typeof M=="object"&&M!==null&&(r=$e(M));var C=l.getDerivedStateFromProps;M=typeof C=="function"||typeof i.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,M||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u||v!==r)&&Bo(t,i,s,r),fl=!1;var y=t.memoizedState;i.state=y,ds(t,s,i,n),os(),v=t.memoizedState,u||y!==v||fl?(typeof C=="function"&&(wr(t,l,C,s),v=t.memoizedState),(d=fl||Oo(t,l,d,s,y,v,r))?(M||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=v),i.props=s,i.state=v,i.context=r,s=d):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,er(e,t),r=t.memoizedProps,M=Wl(l,r),i.props=M,C=t.pendingProps,y=i.context,v=l.contextType,d=xa,typeof v=="object"&&v!==null&&(d=$e(v)),u=l.getDerivedStateFromProps,(v=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==C||y!==d)&&Bo(t,i,s,d),fl=!1,y=t.memoizedState,i.state=y,ds(t,s,i,n),os();var N=t.memoizedState;r!==C||y!==N||fl||e!==null&&e.dependencies!==null&&nn(e.dependencies)?(typeof u=="function"&&(wr(t,l,u,s),N=t.memoizedState),(M=fl||Oo(t,l,M,s,y,N,d)||e!==null&&e.dependencies!==null&&nn(e.dependencies))?(v||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,N,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,N,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=N),i.props=s,i.state=N,i.context=d,s=M):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,_n(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=Kl(t,e.child,null,n),t.child=Kl(t,null,l,n)):Fe(e,t,l,n),t.memoizedState=i.state,e=t.child):e=$t(e,t,n),e}function Fo(e,t,l,s){return Gl(),t.flags|=256,Fe(e,t,l,s),t.child}var zr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tr(e){return{baseLanes:e,cachePool:Uu()}}function Lr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=gt),e}function Io(e,t,l){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Be.current&2)!==0),r&&(n=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(n?gl(t):bl(),(e=Ce)?(e=i0(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ul!==null?{id:qt,overflow:Ht}:null,retryLane:536870912,hydrationErrors:null},l=Lu(e),l.return=t,t.child=l,We=t,Ce=null)):e=null,e===null)throw dl(t);return mc(e)?t.lanes=32:t.lanes=536870912,null}var u=s.children;return s=s.fallback,n?(bl(),n=t.mode,u=kn({mode:"hidden",children:u},n),s=Rl(s,n,l,null),u.return=t,s.return=t,u.sibling=s,t.child=u,s=t.child,s.memoizedState=Tr(l),s.childLanes=Lr(e,r,l),t.memoizedState=zr,gs(null,s)):(gl(t),Cr(t,u))}var d=e.memoizedState;if(d!==null&&(u=d.dehydrated,u!==null)){if(i)t.flags&256?(gl(t),t.flags&=-257,t=Dr(e,t,l)):t.memoizedState!==null?(bl(),t.child=e.child,t.flags|=128,t=null):(bl(),u=s.fallback,n=t.mode,s=kn({mode:"visible",children:s.children},n),u=Rl(u,n,l,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,Kl(t,e.child,null,l),s=t.child,s.memoizedState=Tr(l),s.childLanes=Lr(e,r,l),t.memoizedState=zr,t=gs(null,s));else if(gl(t),mc(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var v=r.dgst;r=v,s=Error(o(419)),s.stack="",s.digest=r,ss({value:s,source:null,stack:null}),t=Dr(e,t,l)}else if(Ge||pa(e,t,l,!1),r=(l&e.childLanes)!==0,Ge||r){if(r=Te,r!==null&&(s=qc(r,l),s!==0&&s!==d.retryLane))throw d.retryLane=s,Ul(e,s),rt(r,e,s),kr;dc(u)||On(),t=Dr(e,t,l)}else dc(u)?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,Ce=Tt(u.nextSibling),We=t,ge=!0,ol=null,Mt=!1,e!==null&&Au(t,e),t=Cr(t,s.children),t.flags|=4096);return t}return n?(bl(),u=s.fallback,n=t.mode,d=e.child,v=d.sibling,s=Qt(d,{mode:"hidden",children:s.children}),s.subtreeFlags=d.subtreeFlags&65011712,v!==null?u=Qt(v,u):(u=Rl(u,n,l,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,gs(null,s),s=t.child,u=e.child.memoizedState,u===null?u=Tr(l):(n=u.cachePool,n!==null?(d=Ue._currentValue,n=n.parent!==d?{parent:d,pool:d}:n):n=Uu(),u={baseLanes:u.baseLanes|l,cachePool:n}),s.memoizedState=u,s.childLanes=Lr(e,r,l),t.memoizedState=zr,gs(e.child,s)):(gl(t),l=e.child,e=l.sibling,l=Qt(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function Cr(e,t){return t=kn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function kn(e,t){return e=mt(22,e,null,t),e.lanes=0,e}function Dr(e,t,l){return Kl(t,e.child,null,l),e=Cr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Po(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ki(e.return,t,l)}function Ar(e,t,l,s,n,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=l,r.tailMode=n,r.treeForkCount=i)}function ed(e,t,l){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var r=Be.current,u=(r&2)!==0;if(u?(r=r&1|2,t.flags|=128):r&=1,T(Be,r),Fe(e,t,s,l),s=ge?as:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Po(e,l,t);else if(e.tag===19)Po(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&hn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Ar(t,!1,n,l,i,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&hn(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Ar(t,!0,l,null,i,s);break;case"together":Ar(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function $t(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),yl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(pa(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=Qt(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Qt(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Er(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nn(e)))}function vf(e,t,l){switch(t.tag){case 3:X(t,t.stateNode.containerInfo),ml(t,Ue,e.memoizedState.cache),Gl();break;case 27:case 5:Bt(t);break;case 4:X(t,t.stateNode.containerInfo);break;case 10:ml(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nr(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(gl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Io(e,t,l):(gl(t),e=$t(e,t,l),e!==null?e.sibling:null);gl(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(pa(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return ed(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),T(Be,Be.current),s)break;return null;case 22:return t.lanes=0,Zo(e,t,l,t.pendingProps);case 24:ml(t,Ue,e.memoizedState.cache)}return $t(e,t,l)}function td(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!Er(e,l)&&(t.flags&128)===0)return Ge=!1,vf(e,t,l);Ge=(e.flags&131072)!==0}else Ge=!1,ge&&(t.flags&1048576)!==0&&Du(t,as,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Xl(t.elementType),t.type=e,typeof e=="function")Ui(e)?(s=Wl(e,s),t.tag=1,t=$o(null,t,e,s,l)):(t.tag=0,t=Mr(null,t,e,s,l));else{if(e!=null){var n=e.$$typeof;if(n===g){t.tag=11,t=Vo(null,t,e,s,l);break e}else if(n===B){t.tag=14,t=Qo(null,t,e,s,l);break e}}throw t=ze(e)||e,Error(o(306,t,""))}}return t;case 0:return Mr(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=Wl(s,t.pendingProps),$o(e,t,s,n,l);case 3:e:{if(X(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,er(e,t),ds(t,s,null,l);var r=t.memoizedState;if(s=r.cache,ml(t,Ue,s),s!==i.cache&&Ji(t,[Ue],l,!0),os(),s=r.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Fo(e,t,s,l);break e}else if(s!==n){n=St(Error(o(424)),t),ss(n),t=Fo(e,t,s,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ce=Tt(e.firstChild),We=t,ge=!0,ol=null,Mt=!0,l=Xu(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Gl(),s===n){t=$t(e,t,l);break e}Fe(e,t,s,l)}t=t.child}return t;case 26:return _n(e,t),e===null?(l=m0(t.type,null,t.pendingProps,null))?t.memoizedState=l:ge||(l=t.type,e=t.pendingProps,s=Yn(Ke.current).createElement(l),s[Je]=t,s[tt]=e,Ie(s,l,e),Xe(s),t.stateNode=s):t.memoizedState=m0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Bt(t),e===null&&ge&&(s=t.stateNode=u0(t.type,t.pendingProps,Ke.current),We=t,Mt=!0,n=Ce,_l(t.type)?(fc=n,Ce=Tt(s.firstChild)):Ce=n),Fe(e,t,t.pendingProps.children,l),_n(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((n=s=Ce)&&(s=Jf(s,t.type,t.pendingProps,Mt),s!==null?(t.stateNode=s,We=t,Ce=Tt(s.firstChild),Mt=!1,n=!0):n=!1),n||dl(t)),Bt(t),n=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,s=i.children,cc(n,i)?s=null:r!==null&&cc(n,r)&&(t.flags|=32),t.memoizedState!==null&&(n=rr(e,t,uf,null,null,l),Cs._currentValue=n),_n(e,t),Fe(e,t,s,l),t.child;case 6:return e===null&&ge&&((e=l=Ce)&&(l=Wf(l,t.pendingProps,Mt),l!==null?(t.stateNode=l,We=t,Ce=null,e=!0):e=!1),e||dl(t)),null;case 13:return Io(e,t,l);case 4:return X(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Kl(t,null,s,l):Fe(e,t,s,l),t.child;case 11:return Vo(e,t,t.type,t.pendingProps,l);case 7:return Fe(e,t,t.pendingProps,l),t.child;case 8:return Fe(e,t,t.pendingProps.children,l),t.child;case 12:return Fe(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,ml(t,t.type,s.value),Fe(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,Vl(t),n=$e(n),s=s(n),t.flags|=1,Fe(e,t,s,l),t.child;case 14:return Qo(e,t,t.type,t.pendingProps,l);case 15:return Xo(e,t,t.type,t.pendingProps,l);case 19:return ed(e,t,l);case 31:return bf(e,t,l);case 22:return Zo(e,t,l,t.pendingProps);case 24:return Vl(t),s=$e(Ue),e===null?(n=Fi(),n===null&&(n=Te,i=Wi(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:s,cache:n},Pi(t),ml(t,Ue,n)):((e.lanes&l)!==0&&(er(e,t),ds(t,null,null,l),os()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),ml(t,Ue,s)):(s=i.cache,ml(t,Ue,s),s!==n.cache&&Ji(t,[Ue],l,!0))),Fe(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Ft(e){e.flags|=4}function Or(e,t,l,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(zd())e.flags|=8192;else throw Zl=on,Ii}else e.flags&=-16777217}function ld(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!b0(t))if(zd())e.flags|=8192;else throw Zl=on,Ii}function Mn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ec():536870912,e.lanes|=t,Ca|=t)}function bs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function pf(e,t,l){var s=t.pendingProps;switch(Vi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Kt(Ue),ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(va(t)?Ft(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xi())),De(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(Ft(t),i!==null?(De(t),ld(t,i)):(De(t),Or(t,n,null,s,l))):i?i!==e.memoizedState?(Ft(t),De(t),ld(t,i)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Ft(t),De(t),Or(t,n,e,s,l)),null;case 27:if(Al(t),l=Ke.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ft(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return De(t),null}e=re.current,va(t)?Eu(t):(e=u0(n,s,l),t.stateNode=e,Ft(t))}return De(t),null;case 5:if(Al(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Ft(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return De(t),null}if(i=re.current,va(t))Eu(t);else{var r=Yn(Ke.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}i[Je]=t,i[tt]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(Ie(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ft(t)}}return De(t),Or(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Ft(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=Ke.current,va(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=We,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[Je]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Id(e.nodeValue,l)),e||dl(t,!0)}else e=Yn(e).createTextNode(s),e[Je]=t,t.stateNode=e}return De(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=va(t),l!==null){if(e===null){if(!s)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Je]=t}else Gl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else l=Xi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(ht(t),t):(ht(t),null);if((t.flags&128)!==0)throw Error(o(558))}return De(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=va(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(o(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));n[Je]=t}else Gl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),n=!1}else n=Xi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(ht(t),t):(ht(t),null)}return ht(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Mn(t,t.updateQueue),De(t),null);case 4:return ye(),e===null&&ac(t.stateNode.containerInfo),De(t),null;case 10:return Kt(t.type),De(t),null;case 19:if(oe(Be),s=t.memoizedState,s===null)return De(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)bs(s,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=hn(e),i!==null){for(t.flags|=128,bs(s,!1),e=i.updateQueue,t.updateQueue=e,Mn(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Tu(l,e),l=l.sibling;return T(Be,Be.current&1|2),ge&&Xt(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ct()>Dn&&(t.flags|=128,n=!0,bs(s,!1),t.lanes=4194304)}else{if(!n)if(e=hn(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Mn(t,e),bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ge)return De(t),null}else 2*ct()-s.renderingStartTime>Dn&&l!==536870912&&(t.flags|=128,n=!0,bs(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,l=Be.current,T(Be,n?l&1|2:l&1),ge&&Xt(t,s.treeForkCount),e):(De(t),null);case 22:case 23:return ht(t),sr(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),l=t.updateQueue,l!==null&&Mn(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&oe(Ql),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Kt(Ue),De(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function yf(e,t){switch(Vi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kt(Ue),ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Al(t),null;case 31:if(t.memoizedState!==null){if(ht(t),t.alternate===null)throw Error(o(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ht(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(Be),null;case 4:return ye(),null;case 10:return Kt(t.type),null;case 22:case 23:return ht(t),sr(),e!==null&&oe(Ql),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Kt(Ue),null;case 25:return null;default:return null}}function ad(e,t){switch(Vi(t),t.tag){case 3:Kt(Ue),ye();break;case 26:case 27:case 5:Al(t);break;case 4:ye();break;case 31:t.memoizedState!==null&&ht(t);break;case 13:ht(t);break;case 19:oe(Be);break;case 10:Kt(t.type);break;case 22:case 23:ht(t),sr(),e!==null&&oe(Ql);break;case 24:Kt(Ue)}}function vs(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var i=l.create,r=l.inst;s=i(),r.destroy=s}l=l.next}while(l!==n)}}catch(u){we(t,t.return,u)}}function vl(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var r=s.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,n=t;var d=l,v=u;try{v()}catch(M){we(n,d,M)}}}s=s.next}while(s!==i)}}catch(M){we(t,t.return,M)}}function sd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Ku(t,l)}catch(s){we(e,e.return,s)}}}function nd(e,t,l){l.props=Wl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){we(e,t,s)}}function ps(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){we(e,t,n)}}function Ut(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){we(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){we(e,t,n)}else l.current=null}function id(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){we(e,e.return,n)}}function Br(e,t,l){try{var s=e.stateNode;Yf(s,e.type,l,t),s[tt]=t}catch(n){we(e,e.return,n)}}function rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_l(e.type)||e.tag===4}function qr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_l(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Yt));else if(s!==4&&(s===27&&_l(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Hr(e,t,l),e=e.sibling;e!==null;)Hr(e,t,l),e=e.sibling}function zn(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&_l(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(zn(e,t,l),e=e.sibling;e!==null;)zn(e,t,l),e=e.sibling}function cd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ie(t,s,l),t[Je]=e,t[tt]=l}catch(i){we(e,e.return,i)}}var It=!1,Ye=!1,Ur=!1,ud=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function jf(e,t){if(e=e.containerInfo,ic=Wn,e=yu(e),Di(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var r=0,u=-1,d=-1,v=0,M=0,C=e,y=null;t:for(;;){for(var N;C!==l||n!==0&&C.nodeType!==3||(u=r+n),C!==i||s!==0&&C.nodeType!==3||(d=r+s),C.nodeType===3&&(r+=C.nodeValue.length),(N=C.firstChild)!==null;)y=C,C=N;for(;;){if(C===e)break t;if(y===l&&++v===n&&(u=r),y===i&&++M===s&&(d=r),(N=C.nextSibling)!==null)break;C=y,y=C.parentNode}C=N}l=u===-1||d===-1?null:{start:u,end:d}}else l=null}l=l||{start:0,end:0}}else l=null;for(rc={focusedElem:e,selectionRange:l},Wn=!1,Ze=t;Ze!==null;)if(t=Ze,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ze=e;else for(;Ze!==null;){switch(t=Ze,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,s=l.stateNode;try{var W=Wl(l.type,n);e=s.getSnapshotBeforeUpdate(W,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(te){we(l,l.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)oc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Ze=e;break}Ze=t.return}}function od(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:el(e,l),s&4&&vs(5,l);break;case 1:if(el(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){we(l,l.return,r)}else{var n=Wl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){we(l,l.return,r)}}s&64&&sd(l),s&512&&ps(l,l.return);break;case 3:if(el(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Ku(e,t)}catch(r){we(l,l.return,r)}}break;case 27:t===null&&s&4&&cd(l);case 26:case 5:el(e,l),t===null&&s&4&&id(l),s&512&&ps(l,l.return);break;case 12:el(e,l);break;case 31:el(e,l),s&4&&fd(e,l);break;case 13:el(e,l),s&4&&hd(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Lf.bind(null,l),$f(e,l))));break;case 22:if(s=l.memoizedState!==null||It,!s){t=t!==null&&t.memoizedState!==null||Ye,n=It;var i=Ye;It=s,(Ye=t)&&!i?tl(e,l,(l.subtreeFlags&8772)!==0):el(e,l),It=n,Ye=i}break;case 30:break;default:el(e,l)}}function dd(e){var t=e.alternate;t!==null&&(e.alternate=null,dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,at=!1;function Pt(e,t,l){for(l=l.child;l!==null;)md(e,t,l),l=l.sibling}function md(e,t,l){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Va,l)}catch{}switch(l.tag){case 26:Ye||Ut(l,t),Pt(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ye||Ut(l,t);var s=Ae,n=at;_l(l.type)&&(Ae=l.stateNode,at=!1),Pt(e,t,l),zs(l.stateNode),Ae=s,at=n;break;case 5:Ye||Ut(l,t);case 6:if(s=Ae,n=at,Ae=null,Pt(e,t,l),Ae=s,at=n,Ae!==null)if(at)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(l.stateNode)}catch(i){we(l,t,i)}else try{Ae.removeChild(l.stateNode)}catch(i){we(l,t,i)}break;case 18:Ae!==null&&(at?(e=Ae,s0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Ua(e)):s0(Ae,l.stateNode));break;case 4:s=Ae,n=at,Ae=l.stateNode.containerInfo,at=!0,Pt(e,t,l),Ae=s,at=n;break;case 0:case 11:case 14:case 15:vl(2,l,t),Ye||vl(4,l,t),Pt(e,t,l);break;case 1:Ye||(Ut(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&nd(l,t,s)),Pt(e,t,l);break;case 21:Pt(e,t,l);break;case 22:Ye=(s=Ye)||l.memoizedState!==null,Pt(e,t,l),Ye=s;break;default:Pt(e,t,l)}}function fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(l){we(t,t.return,l)}}}function hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(l){we(t,t.return,l)}}function Nf(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ud),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ud),t;default:throw Error(o(435,e.tag))}}function Tn(e,t){var l=Nf(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var n=Cf.bind(null,e,s);s.then(n,n)}})}function st(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],i=e,r=t,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(_l(u.type)){Ae=u.stateNode,at=!1;break e}break;case 5:Ae=u.stateNode,at=!1;break e;case 3:case 4:Ae=u.stateNode.containerInfo,at=!0;break e}u=u.return}if(Ae===null)throw Error(o(160));md(i,r,n),Ae=null,at=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}var Et=null;function xd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:st(t,e),nt(e),s&4&&(vl(3,e,e.return),vs(3,e),vl(5,e,e.return));break;case 1:st(t,e),nt(e),s&512&&(Ye||l===null||Ut(l,l.return)),s&64&&It&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=Et;if(st(t,e),nt(e),s&512&&(Ye||l===null||Ut(l,l.return)),s&4){var i=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Za]||i[Je]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),Ie(i,s,l),i[Je]=e,Xe(i),s=i;break e;case"link":var r=x0("link","href",n).get(s+(l.href||""));if(r){for(var u=0;u<r.length;u++)if(i=r[u],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(u,1);break t}}i=n.createElement(s),Ie(i,s,l),n.head.appendChild(i);break;case"meta":if(r=x0("meta","content",n).get(s+(l.content||""))){for(u=0;u<r.length;u++)if(i=r[u],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(u,1);break t}}i=n.createElement(s),Ie(i,s,l),n.head.appendChild(i);break;default:throw Error(o(468,s))}i[Je]=e,Xe(i),s=i}e.stateNode=s}else g0(n,e.type,e.stateNode);else e.stateNode=h0(n,s,e.memoizedProps);else i!==s?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,s===null?g0(n,e.type,e.stateNode):h0(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Br(e,e.memoizedProps,l.memoizedProps)}break;case 27:st(t,e),nt(e),s&512&&(Ye||l===null||Ut(l,l.return)),l!==null&&s&4&&Br(e,e.memoizedProps,l.memoizedProps);break;case 5:if(st(t,e),nt(e),s&512&&(Ye||l===null||Ut(l,l.return)),e.flags&32){n=e.stateNode;try{ca(n,"")}catch(W){we(e,e.return,W)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Br(e,n,l!==null?l.memoizedProps:n)),s&1024&&(Ur=!0);break;case 6:if(st(t,e),nt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(W){we(e,e.return,W)}}break;case 3:if(Xn=null,n=Et,Et=Vn(t.containerInfo),st(t,e),Et=n,nt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Ua(t.containerInfo)}catch(W){we(e,e.return,W)}Ur&&(Ur=!1,gd(e));break;case 4:s=Et,Et=Vn(e.stateNode.containerInfo),st(t,e),nt(e),Et=s;break;case 12:st(t,e),nt(e);break;case 31:st(t,e),nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Tn(e,s)));break;case 13:st(t,e),nt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Cn=ct()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Tn(e,s)));break;case 22:n=e.memoizedState!==null;var d=l!==null&&l.memoizedState!==null,v=It,M=Ye;if(It=v||n,Ye=M||d,st(t,e),Ye=M,It=v,nt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||d||It||Ye||$l(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){d=l=t;try{if(i=d.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=d.stateNode;var C=d.memoizedProps.style,y=C!=null&&C.hasOwnProperty("display")?C.display:null;u.style.display=y==null||typeof y=="boolean"?"":(""+y).trim()}}catch(W){we(d,d.return,W)}}}else if(t.tag===6){if(l===null){d=t;try{d.stateNode.nodeValue=n?"":d.memoizedProps}catch(W){we(d,d.return,W)}}}else if(t.tag===18){if(l===null){d=t;try{var N=d.stateNode;n?n0(N,!0):n0(d.stateNode,!1)}catch(W){we(d,d.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Tn(e,l))));break;case 19:st(t,e),nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Tn(e,s)));break;case 30:break;case 21:break;default:st(t,e),nt(e)}}function nt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(rd(s)){l=s;break}s=s.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var n=l.stateNode,i=qr(e);zn(e,i,n);break;case 5:var r=l.stateNode;l.flags&32&&(ca(r,""),l.flags&=-33);var u=qr(e);zn(e,u,r);break;case 3:case 4:var d=l.stateNode.containerInfo,v=qr(e);Hr(e,v,d);break;default:throw Error(o(161))}}catch(M){we(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;gd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function el(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)od(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),$l(t);break;case 1:Ut(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&nd(t,t.return,l),$l(t);break;case 27:zs(t.stateNode);case 26:case 5:Ut(t,t.return),$l(t);break;case 22:t.memoizedState===null&&$l(t);break;case 30:$l(t);break;default:$l(t)}e=e.sibling}}function tl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:tl(n,i,l),vs(4,i);break;case 1:if(tl(n,i,l),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(v){we(s,s.return,v)}if(s=i,n=s.updateQueue,n!==null){var u=s.stateNode;try{var d=n.shared.hiddenCallbacks;if(d!==null)for(n.shared.hiddenCallbacks=null,n=0;n<d.length;n++)Zu(d[n],u)}catch(v){we(s,s.return,v)}}l&&r&64&&sd(i),ps(i,i.return);break;case 27:cd(i);case 26:case 5:tl(n,i,l),l&&s===null&&r&4&&id(i),ps(i,i.return);break;case 12:tl(n,i,l);break;case 31:tl(n,i,l),l&&r&4&&fd(n,i);break;case 13:tl(n,i,l),l&&r&4&&hd(n,i);break;case 22:i.memoizedState===null&&tl(n,i,l),ps(i,i.return);break;case 30:break;default:tl(n,i,l)}t=t.sibling}}function Rr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ns(l))}function Gr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ns(e))}function Ot(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bd(e,t,l,s),t=t.sibling}function bd(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Ot(e,t,l,s),n&2048&&vs(9,t);break;case 1:Ot(e,t,l,s);break;case 3:Ot(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ns(e)));break;case 12:if(n&2048){Ot(e,t,l,s),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,u=i.onPostCommit;typeof u=="function"&&u(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){we(t,t.return,d)}}else Ot(e,t,l,s);break;case 31:Ot(e,t,l,s);break;case 13:Ot(e,t,l,s);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Ot(e,t,l,s):ys(e,t):i._visibility&2?Ot(e,t,l,s):(i._visibility|=2,za(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Rr(r,t);break;case 24:Ot(e,t,l,s),n&2048&&Gr(t.alternate,t);break;default:Ot(e,t,l,s)}}function za(e,t,l,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,u=l,d=s,v=r.flags;switch(r.tag){case 0:case 11:case 15:za(i,r,u,d,n),vs(8,r);break;case 23:break;case 22:var M=r.stateNode;r.memoizedState!==null?M._visibility&2?za(i,r,u,d,n):ys(i,r):(M._visibility|=2,za(i,r,u,d,n)),n&&v&2048&&Rr(r.alternate,r);break;case 24:za(i,r,u,d,n),n&&v&2048&&Gr(r.alternate,r);break;default:za(i,r,u,d,n)}t=t.sibling}}function ys(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:ys(l,s),n&2048&&Rr(s.alternate,s);break;case 24:ys(l,s),n&2048&&Gr(s.alternate,s);break;default:ys(l,s)}t=t.sibling}}var js=8192;function Ta(e,t,l){if(e.subtreeFlags&js)for(e=e.child;e!==null;)vd(e,t,l),e=e.sibling}function vd(e,t,l){switch(e.tag){case 26:Ta(e,t,l),e.flags&js&&e.memoizedState!==null&&ch(l,Et,e.memoizedState,e.memoizedProps);break;case 5:Ta(e,t,l);break;case 3:case 4:var s=Et;Et=Vn(e.stateNode.containerInfo),Ta(e,t,l),Et=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=js,js=16777216,Ta(e,t,l),js=s):Ta(e,t,l));break;default:Ta(e,t,l)}}function pd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ns(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Ze=s,jd(s,e)}pd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yd(e),e=e.sibling}function yd(e){switch(e.tag){case 0:case 11:case 15:Ns(e),e.flags&2048&&vl(9,e,e.return);break;case 3:Ns(e);break;case 12:Ns(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ln(e)):Ns(e);break;default:Ns(e)}}function Ln(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];Ze=s,jd(s,e)}pd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:vl(8,t,t.return),Ln(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Ln(t));break;default:Ln(t)}e=e.sibling}}function jd(e,t){for(;Ze!==null;){var l=Ze;switch(l.tag){case 0:case 11:case 15:vl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ns(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,Ze=s;else e:for(l=e;Ze!==null;){s=Ze;var n=s.sibling,i=s.return;if(dd(s),s===l){Ze=null;break e}if(n!==null){n.return=i,Ze=n;break e}Ze=i}}}var wf={getCacheForType:function(e){var t=$e(Ue),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return $e(Ue).controller.signal}},Sf=typeof WeakMap=="function"?WeakMap:Map,pe=0,Te=null,me=null,he=0,Ne=0,xt=null,pl=!1,La=!1,Yr=!1,ll=0,Oe=0,yl=0,Fl=0,Vr=0,gt=0,Ca=0,ws=null,it=null,Qr=!1,Cn=0,Nd=0,Dn=1/0,An=null,jl=null,Qe=0,Nl=null,Da=null,al=0,Xr=0,Zr=null,wd=null,Ss=0,Kr=null;function bt(){return(pe&2)!==0&&he!==0?he&-he:m.T!==null?Pr():Hc()}function Sd(){if(gt===0)if((he&536870912)===0||ge){var e=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),gt=e}else gt=536870912;return e=ft.current,e!==null&&(e.flags|=32),gt}function rt(e,t,l){(e===Te&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Aa(e,0),wl(e,he,gt,!1)),Xa(e,l),((pe&2)===0||e!==Te)&&(e===Te&&((pe&2)===0&&(Fl|=l),Oe===4&&wl(e,he,gt,!1)),Rt(e))}function _d(e,t,l){if((pe&6)!==0)throw Error(o(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Qa(e,t),n=s?Mf(e,t):Wr(e,t,!0),i=s;do{if(n===0){La&&!s&&wl(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!_f(l)){n=Wr(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var u=e;n=ws;var d=u.current.memoizedState.isDehydrated;if(d&&(Aa(u,r).flags|=256),r=Wr(u,r,!1),r!==2){if(Yr&&!d){u.errorRecoveryDisabledLanes|=i,Fl|=i,n=4;break e}i=it,it=n,i!==null&&(it===null?it=i:it.push.apply(it,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){Aa(e,0),wl(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:wl(s,t,gt,!pl);break e;case 2:it=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(n=Cn+300-ct(),10<n)){if(wl(s,t,gt,!pl),Ys(s,0,!0)!==0)break e;al=t,s.timeoutHandle=l0(kd.bind(null,s,l,it,An,Qr,t,gt,Fl,Ca,pl,i,"Throttled",-0,0),n);break e}kd(s,l,it,An,Qr,t,gt,Fl,Ca,pl,i,null,-0,0)}}break}while(!0);Rt(e)}function kd(e,t,l,s,n,i,r,u,d,v,M,C,y,N){if(e.timeoutHandle=-1,C=t.subtreeFlags,C&8192||(C&16785408)===16785408){C={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yt},vd(t,i,C);var W=(i&62914560)===i?Cn-ct():(i&4194048)===i?Nd-ct():0;if(W=uh(C,W),W!==null){al=i,e.cancelPendingCommit=W(Ed.bind(null,e,t,i,l,s,n,r,u,d,M,C,null,y,N)),wl(e,i,r,!v);return}}Ed(e,t,i,l,s,n,r,u,d)}function _f(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],i=n.getSnapshot;n=n.value;try{if(!dt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wl(e,t,l,s){t&=~Vr,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-ot(n),r=1<<i;s[i]=-1,n&=~r}l!==0&&Oc(e,l,t)}function En(){return(pe&6)===0?(_s(0),!1):!0}function Jr(){if(me!==null){if(Ne===0)var e=me.return;else e=me,Zt=Yl=null,or(e),wa=null,rs=0,e=me;for(;e!==null;)ad(e.alternate,e),e=e.return;me=null}}function Aa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Xf(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),al=0,Jr(),Te=e,me=l=Qt(e.current,null),he=t,Ne=0,xt=null,pl=!1,La=Qa(e,t),Yr=!1,Ca=gt=Vr=Fl=yl=Oe=0,it=ws=null,Qr=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-ot(s),i=1<<n;t|=e[n],s&=~i}return ll=t,en(),l}function Md(e,t){ne=null,m.H=xs,t===Na||t===un?(t=Yu(),Ne=3):t===Ii?(t=Yu(),Ne=4):Ne=t===kr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xt=t,me===null&&(Oe=1,wn(e,St(t,e.current)))}function zd(){var e=ft.current;return e===null?!0:(he&4194048)===he?zt===null:(he&62914560)===he||(he&536870912)!==0?e===zt:!1}function Td(){var e=m.H;return m.H=xs,e===null?xs:e}function Ld(){var e=m.A;return m.A=wf,e}function On(){Oe=4,pl||(he&4194048)!==he&&ft.current!==null||(La=!0),(yl&134217727)===0&&(Fl&134217727)===0||Te===null||wl(Te,he,gt,!1)}function Wr(e,t,l){var s=pe;pe|=2;var n=Td(),i=Ld();(Te!==e||he!==t)&&(An=null,Aa(e,t)),t=!1;var r=Oe;e:do try{if(Ne!==0&&me!==null){var u=me,d=xt;switch(Ne){case 8:Jr(),r=6;break e;case 3:case 2:case 9:case 6:ft.current===null&&(t=!0);var v=Ne;if(Ne=0,xt=null,Ea(e,u,d,v),l&&La){r=0;break e}break;default:v=Ne,Ne=0,xt=null,Ea(e,u,d,v)}}kf(),r=Oe;break}catch(M){Md(e,M)}while(!0);return t&&e.shellSuspendCounter++,Zt=Yl=null,pe=s,m.H=n,m.A=i,me===null&&(Te=null,he=0,en()),r}function kf(){for(;me!==null;)Cd(me)}function Mf(e,t){var l=pe;pe|=2;var s=Td(),n=Ld();Te!==e||he!==t?(An=null,Dn=ct()+500,Aa(e,t)):La=Qa(e,t);e:do try{if(Ne!==0&&me!==null){t=me;var i=xt;t:switch(Ne){case 1:Ne=0,xt=null,Ea(e,t,i,1);break;case 2:case 9:if(Ru(i)){Ne=0,xt=null,Dd(t);break}t=function(){Ne!==2&&Ne!==9||Te!==e||(Ne=7),Rt(e)},i.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Ru(i)?(Ne=0,xt=null,Dd(t)):(Ne=0,xt=null,Ea(e,t,i,7));break;case 5:var r=null;switch(me.tag){case 26:r=me.memoizedState;case 5:case 27:var u=me;if(r?b0(r):u.stateNode.complete){Ne=0,xt=null;var d=u.sibling;if(d!==null)me=d;else{var v=u.return;v!==null?(me=v,Bn(v)):me=null}break t}}Ne=0,xt=null,Ea(e,t,i,5);break;case 6:Ne=0,xt=null,Ea(e,t,i,6);break;case 8:Jr(),Oe=6;break e;default:throw Error(o(462))}}zf();break}catch(M){Md(e,M)}while(!0);return Zt=Yl=null,m.H=s,m.A=n,pe=l,me!==null?0:(Te=null,he=0,en(),Oe)}function zf(){for(;me!==null&&!$0();)Cd(me)}function Cd(e){var t=td(e.alternate,e,ll);e.memoizedProps=e.pendingProps,t===null?Bn(e):me=t}function Dd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Wo(l,t,t.pendingProps,t.type,void 0,he);break;case 11:t=Wo(l,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:or(t);default:ad(l,t),t=me=Tu(t,ll),t=td(l,t,ll)}e.memoizedProps=e.pendingProps,t===null?Bn(e):me=t}function Ea(e,t,l,s){Zt=Yl=null,or(t),wa=null,rs=0;var n=t.return;try{if(gf(e,n,t,l,he)){Oe=1,wn(e,St(l,e.current)),me=null;return}}catch(i){if(n!==null)throw me=n,i;Oe=1,wn(e,St(l,e.current)),me=null;return}t.flags&32768?(ge||s===1?e=!0:La||(he&536870912)!==0?e=!1:(pl=e=!0,(s===2||s===9||s===3||s===6)&&(s=ft.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ad(t,e)):Bn(t)}function Bn(e){var t=e;do{if((t.flags&32768)!==0){Ad(t,pl);return}e=t.return;var l=pf(t.alternate,t,ll);if(l!==null){me=l;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);Oe===0&&(Oe=5)}function Ad(e,t){do{var l=yf(e.alternate,e);if(l!==null){l.flags&=32767,me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){me=e;return}me=e=l}while(e!==null);Oe=6,me=null}function Ed(e,t,l,s,n,i,r,u,d){e.cancelPendingCommit=null;do qn();while(Qe!==0);if((pe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=qi,im(e,l,i,r,u,d),e===Te&&(me=Te=null,he=0),Da=t,Nl=e,al=l,Xr=i,Zr=n,wd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Df(Hs,function(){return Ud(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=m.T,m.T=null,n=U.p,U.p=2,r=pe,pe|=4;try{jf(e,t,l)}finally{pe=r,U.p=n,m.T=s}}Qe=1,Od(),Bd(),qd()}}function Od(){if(Qe===1){Qe=0;var e=Nl,t=Da,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=m.T,m.T=null;var s=U.p;U.p=2;var n=pe;pe|=4;try{xd(t,e);var i=rc,r=yu(e.containerInfo),u=i.focusedElem,d=i.selectionRange;if(r!==u&&u&&u.ownerDocument&&pu(u.ownerDocument.documentElement,u)){if(d!==null&&Di(u)){var v=d.start,M=d.end;if(M===void 0&&(M=v),"selectionStart"in u)u.selectionStart=v,u.selectionEnd=Math.min(M,u.value.length);else{var C=u.ownerDocument||document,y=C&&C.defaultView||window;if(y.getSelection){var N=y.getSelection(),W=u.textContent.length,te=Math.min(d.start,W),Me=d.end===void 0?te:Math.min(d.end,W);!N.extend&&te>Me&&(r=Me,Me=te,te=r);var x=vu(u,te),f=vu(u,Me);if(x&&f&&(N.rangeCount!==1||N.anchorNode!==x.node||N.anchorOffset!==x.offset||N.focusNode!==f.node||N.focusOffset!==f.offset)){var b=C.createRange();b.setStart(x.node,x.offset),N.removeAllRanges(),te>Me?(N.addRange(b),N.extend(f.node,f.offset)):(b.setEnd(f.node,f.offset),N.addRange(b))}}}}for(C=[],N=u;N=N.parentNode;)N.nodeType===1&&C.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<C.length;u++){var z=C[u];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Wn=!!ic,rc=ic=null}finally{pe=n,U.p=s,m.T=l}}e.current=t,Qe=2}}function Bd(){if(Qe===2){Qe=0;var e=Nl,t=Da,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=m.T,m.T=null;var s=U.p;U.p=2;var n=pe;pe|=4;try{od(e,t.alternate,t)}finally{pe=n,U.p=s,m.T=l}}Qe=3}}function qd(){if(Qe===4||Qe===3){Qe=0,F0();var e=Nl,t=Da,l=al,s=wd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Qe=5:(Qe=0,Da=Nl=null,Hd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(jl=null),fi(l),t=t.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Va,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=m.T,n=U.p,U.p=2,m.T=null;try{for(var i=e.onRecoverableError,r=0;r<s.length;r++){var u=s[r];i(u.value,{componentStack:u.stack})}}finally{m.T=t,U.p=n}}(al&3)!==0&&qn(),Rt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===Kr?Ss++:(Ss=0,Kr=e):Ss=0,_s(0)}}function Hd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ns(t)))}function qn(){return Od(),Bd(),qd(),Ud()}function Ud(){if(Qe!==5)return!1;var e=Nl,t=Xr;Xr=0;var l=fi(al),s=m.T,n=U.p;try{U.p=32>l?32:l,m.T=null,l=Zr,Zr=null;var i=Nl,r=al;if(Qe=0,Da=Nl=null,al=0,(pe&6)!==0)throw Error(o(331));var u=pe;if(pe|=4,yd(i.current),bd(i,i.current,r,l),pe=u,_s(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Va,i)}catch{}return!0}finally{U.p=n,m.T=s,Hd(e,t)}}function Rd(e,t,l){t=St(l,t),t=_r(e.stateNode,t,2),e=xl(e,t,2),e!==null&&(Xa(e,2),Rt(e))}function we(e,t,l){if(e.tag===3)Rd(e,e,l);else for(;t!==null;){if(t.tag===3){Rd(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(jl===null||!jl.has(s))){e=St(l,e),l=Go(2),s=xl(t,l,2),s!==null&&(Yo(l,s,t,e),Xa(s,2),Rt(s));break}}t=t.return}}function $r(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Sf;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(Yr=!0,n.add(l),e=Tf.bind(null,e,t,l),t.then(e,e))}function Tf(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Te===e&&(he&l)===l&&(Oe===4||Oe===3&&(he&62914560)===he&&300>ct()-Cn?(pe&2)===0&&Aa(e,0):Vr|=l,Ca===he&&(Ca=0)),Rt(e)}function Gd(e,t){t===0&&(t=Ec()),e=Ul(e,t),e!==null&&(Xa(e,t),Rt(e))}function Lf(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Gd(e,l)}function Cf(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),Gd(e,l)}function Df(e,t){return ui(e,t)}var Hn=null,Oa=null,Fr=!1,Un=!1,Ir=!1,Sl=0;function Rt(e){e!==Oa&&e.next===null&&(Oa===null?Hn=Oa=e:Oa=Oa.next=e),Un=!0,Fr||(Fr=!0,Ef())}function _s(e,t){if(!Ir&&Un){Ir=!0;do for(var l=!1,s=Hn;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var r=s.suspendedLanes,u=s.pingedLanes;i=(1<<31-ot(42|e)+1)-1,i&=n&~(r&~u),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Xd(s,i))}else i=he,i=Ys(s,s===Te?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||Qa(s,i)||(l=!0,Xd(s,i));s=s.next}while(l);Ir=!1}}function Af(){Yd()}function Yd(){Un=Fr=!1;var e=0;Sl!==0&&Qf()&&(e=Sl);for(var t=ct(),l=null,s=Hn;s!==null;){var n=s.next,i=Vd(s,t);i===0?(s.next=null,l===null?Hn=n:l.next=n,n===null&&(Oa=l)):(l=s,(e!==0||(i&3)!==0)&&(Un=!0)),s=n}Qe!==0&&Qe!==5||_s(e),Sl!==0&&(Sl=0)}function Vd(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-ot(i),u=1<<r,d=n[r];d===-1?((u&l)===0||(u&s)!==0)&&(n[r]=nm(u,t)):d<=t&&(e.expiredLanes|=u),i&=~u}if(t=Te,l=he,l=Ys(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&oi(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Qa(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&oi(s),fi(l)){case 2:case 8:l=Dc;break;case 32:l=Hs;break;case 268435456:l=Ac;break;default:l=Hs}return s=Qd.bind(null,e),l=ui(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&oi(s),e.callbackPriority=2,e.callbackNode=null,2}function Qd(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(qn()&&e.callbackNode!==l)return null;var s=he;return s=Ys(e,e===Te?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(_d(e,s,t),Vd(e,ct()),e.callbackNode!=null&&e.callbackNode===l?Qd.bind(null,e):null)}function Xd(e,t){if(qn())return null;_d(e,t,!0)}function Ef(){Zf(function(){(pe&6)!==0?ui(Cc,Af):Yd()})}function Pr(){if(Sl===0){var e=ya;e===0&&(e=Us,Us<<=1,(Us&261888)===0&&(Us=256)),Sl=e}return Sl}function Zd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zs(""+e)}function Kd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Of(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var i=Zd((n[tt]||null).action),r=s.submitter;r&&(t=(t=r[tt]||null)?Zd(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var u=new $s("action","action",null,s,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Sl!==0){var d=r?Kd(n,r):new FormData(n);pr(l,{pending:!0,data:d,method:n.method,action:i},null,d)}}else typeof i=="function"&&(u.preventDefault(),d=r?Kd(n,r):new FormData(n),pr(l,{pending:!0,data:d,method:n.method,action:i},i,d))},currentTarget:n}]})}}for(var ec=0;ec<Bi.length;ec++){var tc=Bi[ec],Bf=tc.toLowerCase(),qf=tc[0].toUpperCase()+tc.slice(1);At(Bf,"on"+qf)}At(wu,"onAnimationEnd"),At(Su,"onAnimationIteration"),At(_u,"onAnimationStart"),At("dblclick","onDoubleClick"),At("focusin","onFocus"),At("focusout","onBlur"),At(Im,"onTransitionRun"),At(Pm,"onTransitionStart"),At(ef,"onTransitionCancel"),At(ku,"onTransitionEnd"),ia("onMouseEnter",["mouseout","mouseover"]),ia("onMouseLeave",["mouseout","mouseover"]),ia("onPointerEnter",["pointerout","pointerover"]),ia("onPointerLeave",["pointerout","pointerover"]),Ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ol("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hf=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ks));function Jd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var r=s.length-1;0<=r;r--){var u=s[r],d=u.instance,v=u.currentTarget;if(u=u.listener,d!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=v;try{i(n)}catch(M){Ps(M)}n.currentTarget=null,i=d}else for(r=0;r<s.length;r++){if(u=s[r],d=u.instance,v=u.currentTarget,u=u.listener,d!==i&&n.isPropagationStopped())break e;i=u,n.currentTarget=v;try{i(n)}catch(M){Ps(M)}n.currentTarget=null,i=d}}}}function fe(e,t){var l=t[hi];l===void 0&&(l=t[hi]=new Set);var s=e+"__bubble";l.has(s)||(Wd(t,e,2,!1),l.add(s))}function lc(e,t,l){var s=0;t&&(s|=4),Wd(l,e,s,t)}var Rn="_reactListening"+Math.random().toString(36).slice(2);function ac(e){if(!e[Rn]){e[Rn]=!0,Gc.forEach(function(l){l!=="selectionchange"&&(Hf.has(l)||lc(l,!1,e),lc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rn]||(t[Rn]=!0,lc("selectionchange",!1,t))}}function Wd(e,t,l,s){switch(S0(t)){case 2:var n=mh;break;case 8:n=fh;break;default:n=vc}l=n.bind(null,t,l,e),n=void 0,!wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function sc(e,t,l,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var u=s.stateNode.containerInfo;if(u===n)break;if(r===4)for(r=s.return;r!==null;){var d=r.tag;if((d===3||d===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;u!==null;){if(r=aa(u),r===null)return;if(d=r.tag,d===5||d===6||d===26||d===27){s=i=r;continue e}u=u.parentNode}}s=s.return}Pc(function(){var v=i,M=ji(l),C=[];e:{var y=Mu.get(e);if(y!==void 0){var N=$s,W=e;switch(e){case"keypress":if(Js(l)===0)break e;case"keydown":case"keyup":N=Lm;break;case"focusin":W="focus",N=Mi;break;case"focusout":W="blur",N=Mi;break;case"beforeblur":case"afterblur":N=Mi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Am;break;case wu:case Su:case _u:N=jm;break;case ku:N=Om;break;case"scroll":case"scrollend":N=gm;break;case"wheel":N=qm;break;case"copy":case"cut":case"paste":N=wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=su;break;case"toggle":case"beforetoggle":N=Um}var te=(t&4)!==0,Me=!te&&(e==="scroll"||e==="scrollend"),x=te?y!==null?y+"Capture":null:y;te=[];for(var f=v,b;f!==null;){var z=f;if(b=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||b===null||x===null||(z=Ja(f,x),z!=null&&te.push(Ms(f,z,b))),Me)break;f=f.return}0<te.length&&(y=new N(y,W,null,l,M),C.push({event:y,listeners:te}))}}if((t&7)===0){e:{if(y=e==="mouseover"||e==="pointerover",N=e==="mouseout"||e==="pointerout",y&&l!==yi&&(W=l.relatedTarget||l.fromElement)&&(aa(W)||W[la]))break e;if((N||y)&&(y=M.window===M?M:(y=M.ownerDocument)?y.defaultView||y.parentWindow:window,N?(W=l.relatedTarget||l.toElement,N=v,W=W?aa(W):null,W!==null&&(Me=q(W),te=W.tag,W!==Me||te!==5&&te!==27&&te!==6)&&(W=null)):(N=null,W=v),N!==W)){if(te=lu,z="onMouseLeave",x="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(te=su,z="onPointerLeave",x="onPointerEnter",f="pointer"),Me=N==null?y:Ka(N),b=W==null?y:Ka(W),y=new te(z,f+"leave",N,l,M),y.target=Me,y.relatedTarget=b,z=null,aa(M)===v&&(te=new te(x,f+"enter",W,l,M),te.target=b,te.relatedTarget=Me,z=te),Me=z,N&&W)t:{for(te=Uf,x=N,f=W,b=0,z=x;z;z=te(z))b++;z=0;for(var P=f;P;P=te(P))z++;for(;0<b-z;)x=te(x),b--;for(;0<z-b;)f=te(f),z--;for(;b--;){if(x===f||f!==null&&x===f.alternate){te=x;break t}x=te(x),f=te(f)}te=null}else te=null;N!==null&&$d(C,y,N,te,!1),W!==null&&Me!==null&&$d(C,Me,W,te,!0)}}e:{if(y=v?Ka(v):window,N=y.nodeName&&y.nodeName.toLowerCase(),N==="select"||N==="input"&&y.type==="file")var be=mu;else if(ou(y))if(fu)be=Wm;else{be=Km;var F=Zm}else N=y.nodeName,!N||N.toLowerCase()!=="input"||y.type!=="checkbox"&&y.type!=="radio"?v&&pi(v.elementType)&&(be=mu):be=Jm;if(be&&(be=be(e,v))){du(C,be,l,M);break e}F&&F(e,y,v),e==="focusout"&&v&&y.type==="number"&&v.memoizedProps.value!=null&&vi(y,"number",y.value)}switch(F=v?Ka(v):window,e){case"focusin":(ou(F)||F.contentEditable==="true")&&(ma=F,Ai=v,ls=null);break;case"focusout":ls=Ai=ma=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,ju(C,l,M);break;case"selectionchange":if(Fm)break;case"keydown":case"keyup":ju(C,l,M)}var ie;if(Ti)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else da?cu(e,l)&&(xe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(nu&&l.locale!=="ko"&&(da||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&da&&(ie=eu()):(cl=M,Si="value"in cl?cl.value:cl.textContent,da=!0)),F=Gn(v,xe),0<F.length&&(xe=new au(xe,e,null,l,M),C.push({event:xe,listeners:F}),ie?xe.data=ie:(ie=uu(l),ie!==null&&(xe.data=ie)))),(ie=Gm?Ym(e,l):Vm(e,l))&&(xe=Gn(v,"onBeforeInput"),0<xe.length&&(F=new au("onBeforeInput","beforeinput",null,l,M),C.push({event:F,listeners:xe}),F.data=ie)),Of(C,e,v,l,M)}Jd(C,t)})}function Ms(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Gn(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Ja(e,l),n!=null&&s.unshift(Ms(e,n,i)),n=Ja(e,t),n!=null&&s.push(Ms(e,n,i))),e.tag===3)return s;e=e.return}return[]}function Uf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $d(e,t,l,s,n){for(var i=t._reactName,r=[];l!==null&&l!==s;){var u=l,d=u.alternate,v=u.stateNode;if(u=u.tag,d!==null&&d===s)break;u!==5&&u!==26&&u!==27||v===null||(d=v,n?(v=Ja(l,i),v!=null&&r.unshift(Ms(l,v,d))):n||(v=Ja(l,i),v!=null&&r.push(Ms(l,v,d)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var Rf=/\r\n?/g,Gf=/\u0000|\uFFFD/g;function Fd(e){return(typeof e=="string"?e:""+e).replace(Rf,`
`).replace(Gf,"")}function Id(e,t){return t=Fd(t),Fd(e)===t}function ke(e,t,l,s,n,i){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ca(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ca(e,""+s);break;case"className":Qs(e,"class",s);break;case"tabIndex":Qs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Qs(e,l,s);break;case"style":Fc(e,s,i);break;case"data":if(t!=="object"){Qs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Zs(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&ke(e,t,"name",n.name,n,null),ke(e,t,"formEncType",n.formEncType,n,null),ke(e,t,"formMethod",n.formMethod,n,null),ke(e,t,"formTarget",n.formTarget,n,null)):(ke(e,t,"encType",n.encType,n,null),ke(e,t,"method",n.method,n,null),ke(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Zs(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Yt);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Zs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":fe("beforetoggle",e),fe("toggle",e),Vs(e,"popover",s);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Vs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=hm.get(l)||l,Vs(e,l,s))}}function nc(e,t,l,s,n,i){switch(l){case"style":Fc(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof s=="string"?ca(e,s):(typeof s=="number"||typeof s=="bigint")&&ca(e,""+s);break;case"onScroll":s!=null&&fe("scroll",e);break;case"onScrollEnd":s!=null&&fe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Yt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[tt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Vs(e,l,s)}}}function Ie(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var s=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var r=l[i];if(r!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ke(e,t,i,r,l,null)}}n&&ke(e,t,"srcSet",l.srcSet,l,null),s&&ke(e,t,"src",l.src,l,null);return;case"input":fe("invalid",e);var u=i=r=n=null,d=null,v=null;for(s in l)if(l.hasOwnProperty(s)){var M=l[s];if(M!=null)switch(s){case"name":n=M;break;case"type":r=M;break;case"checked":d=M;break;case"defaultChecked":v=M;break;case"value":i=M;break;case"defaultValue":u=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:ke(e,t,s,M,l,null)}}Kc(e,i,u,d,v,r,n,!1);return;case"select":fe("invalid",e),s=r=i=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":i=u;break;case"defaultValue":r=u;break;case"multiple":s=u;default:ke(e,t,n,u,l,null)}t=i,l=r,e.multiple=!!s,t!=null?ra(e,!!s,t,!1):l!=null&&ra(e,!!s,l,!0);return;case"textarea":fe("invalid",e),i=n=s=null;for(r in l)if(l.hasOwnProperty(r)&&(u=l[r],u!=null))switch(r){case"value":s=u;break;case"defaultValue":n=u;break;case"children":i=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(o(91));break;default:ke(e,t,r,u,l,null)}Wc(e,s,n,i);return;case"option":for(d in l)l.hasOwnProperty(d)&&(s=l[d],s!=null)&&(d==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":ke(e,t,d,s,l,null));return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(s=0;s<ks.length;s++)fe(ks[s],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(v in l)if(l.hasOwnProperty(v)&&(s=l[v],s!=null))switch(v){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ke(e,t,v,s,l,null)}return;default:if(pi(t)){for(M in l)l.hasOwnProperty(M)&&(s=l[M],s!==void 0&&nc(e,t,M,s,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(s=l[u],s!=null&&ke(e,t,u,s,l,null))}function Yf(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,u=null,d=null,v=null,M=null;for(N in l){var C=l[N];if(l.hasOwnProperty(N)&&C!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":d=C;default:s.hasOwnProperty(N)||ke(e,t,N,null,s,C)}}for(var y in s){var N=s[y];if(C=l[y],s.hasOwnProperty(y)&&(N!=null||C!=null))switch(y){case"type":i=N;break;case"name":n=N;break;case"checked":v=N;break;case"defaultChecked":M=N;break;case"value":r=N;break;case"defaultValue":u=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(137,t));break;default:N!==C&&ke(e,t,y,N,s,C)}}bi(e,r,u,d,v,M,i,n);return;case"select":N=r=u=y=null;for(i in l)if(d=l[i],l.hasOwnProperty(i)&&d!=null)switch(i){case"value":break;case"multiple":N=d;default:s.hasOwnProperty(i)||ke(e,t,i,null,s,d)}for(n in s)if(i=s[n],d=l[n],s.hasOwnProperty(n)&&(i!=null||d!=null))switch(n){case"value":y=i;break;case"defaultValue":u=i;break;case"multiple":r=i;default:i!==d&&ke(e,t,n,i,s,d)}t=u,l=r,s=N,y!=null?ra(e,!!l,y,!1):!!s!=!!l&&(t!=null?ra(e,!!l,t,!0):ra(e,!!l,l?[]:"",!1));return;case"textarea":N=y=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!s.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:ke(e,t,u,null,s,n)}for(r in s)if(n=s[r],i=l[r],s.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":y=n;break;case"defaultValue":N=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(o(91));break;default:n!==i&&ke(e,t,r,n,s,i)}Jc(e,y,N);return;case"option":for(var W in l)y=l[W],l.hasOwnProperty(W)&&y!=null&&!s.hasOwnProperty(W)&&(W==="selected"?e.selected=!1:ke(e,t,W,null,s,y));for(d in s)y=s[d],N=l[d],s.hasOwnProperty(d)&&y!==N&&(y!=null||N!=null)&&(d==="selected"?e.selected=y&&typeof y!="function"&&typeof y!="symbol":ke(e,t,d,y,s,N));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in l)y=l[te],l.hasOwnProperty(te)&&y!=null&&!s.hasOwnProperty(te)&&ke(e,t,te,null,s,y);for(v in s)if(y=s[v],N=l[v],s.hasOwnProperty(v)&&y!==N&&(y!=null||N!=null))switch(v){case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(137,t));break;default:ke(e,t,v,y,s,N)}return;default:if(pi(t)){for(var Me in l)y=l[Me],l.hasOwnProperty(Me)&&y!==void 0&&!s.hasOwnProperty(Me)&&nc(e,t,Me,void 0,s,y);for(M in s)y=s[M],N=l[M],!s.hasOwnProperty(M)||y===N||y===void 0&&N===void 0||nc(e,t,M,y,s,N);return}}for(var x in l)y=l[x],l.hasOwnProperty(x)&&y!=null&&!s.hasOwnProperty(x)&&ke(e,t,x,null,s,y);for(C in s)y=s[C],N=l[C],!s.hasOwnProperty(C)||y===N||y==null&&N==null||ke(e,t,C,y,s,N)}function Pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Vf(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var n=l[s],i=n.transferSize,r=n.initiatorType,u=n.duration;if(i&&u&&Pd(r)){for(r=0,u=n.responseEnd,s+=1;s<l.length;s++){var d=l[s],v=d.startTime;if(v>u)break;var M=d.transferSize,C=d.initiatorType;M&&Pd(C)&&(d=d.responseEnd,r+=M*(d<u?1:(u-v)/(d-v)))}if(--s,t+=8*(i+r)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ic=null,rc=null;function Yn(e){return e.nodeType===9?e:e.ownerDocument}function e0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uc=null;function Qf(){var e=window.event;return e&&e.type==="popstate"?e===uc?!1:(uc=e,!0):(uc=null,!1)}var l0=typeof setTimeout=="function"?setTimeout:void 0,Xf=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,Zf=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(e){return a0.resolve(null).then(e).catch(Kf)}:l0;function Kf(e){setTimeout(function(){throw e})}function _l(e){return e==="head"}function s0(e,t){var l=t,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(n),Ua(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")zs(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,zs(l);for(var i=l.firstChild;i;){var r=i.nextSibling,u=i.nodeName;i[Za]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=r}}else l==="body"&&zs(e.ownerDocument.body);l=n}while(l);Ua(t)}function n0(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":oc(l),xi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Jf(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Za])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Tt(e.nextSibling),e===null)break}return null}function Wf(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Tt(e.nextSibling),e===null))return null;return e}function i0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Tt(e.nextSibling),e===null))return null;return e}function dc(e){return e.data==="$?"||e.data==="$~"}function mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $f(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Tt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fc=null;function r0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Tt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function c0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function u0(e,t,l){switch(t=Yn(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function zs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xi(e)}var Lt=new Map,o0=new Set;function Vn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var sl=U.d;U.d={f:Ff,r:If,D:Pf,C:eh,L:th,m:lh,X:sh,S:ah,M:nh};function Ff(){var e=sl.f(),t=En();return e||t}function If(e){var t=sa(e);t!==null&&t.tag===5&&t.type==="form"?Mo(t):sl.r(e)}var Ba=typeof document>"u"?null:document;function d0(e,t,l){var s=Ba;if(s&&typeof t=="string"&&t){var n=Nt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),o0.has(n)||(o0.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),Ie(t,"link",e),Xe(t),s.head.appendChild(t)))}}function Pf(e){sl.D(e),d0("dns-prefetch",e,null)}function eh(e,t){sl.C(e,t),d0("preconnect",e,t)}function th(e,t,l){sl.L(e,t,l);var s=Ba;if(s&&e&&t){var n='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Nt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Nt(l.imageSizes)+'"]')):n+='[href="'+Nt(e)+'"]';var i=n;switch(t){case"style":i=qa(e);break;case"script":i=Ha(e)}Lt.has(i)||(e=S({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Lt.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Ts(i))||t==="script"&&s.querySelector(Ls(i))||(t=s.createElement("link"),Ie(t,"link",e),Xe(t),s.head.appendChild(t)))}}function lh(e,t){sl.m(e,t);var l=Ba;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Nt(s)+'"][href="'+Nt(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ha(e)}if(!Lt.has(i)&&(e=S({rel:"modulepreload",href:e},t),Lt.set(i,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ls(i)))return}s=l.createElement("link"),Ie(s,"link",e),Xe(s),l.head.appendChild(s)}}}function ah(e,t,l){sl.S(e,t,l);var s=Ba;if(s&&e){var n=na(s).hoistableStyles,i=qa(e);t=t||"default";var r=n.get(i);if(!r){var u={loading:0,preload:null};if(r=s.querySelector(Ts(i)))u.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Lt.get(i))&&hc(e,l);var d=r=s.createElement("link");Xe(d),Ie(d,"link",e),d._p=new Promise(function(v,M){d.onload=v,d.onerror=M}),d.addEventListener("load",function(){u.loading|=1}),d.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Qn(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:u},n.set(i,r)}}}function sh(e,t){sl.X(e,t);var l=Ba;if(l&&e){var s=na(l).hoistableScripts,n=Ha(e),i=s.get(n);i||(i=l.querySelector(Ls(n)),i||(e=S({src:e,async:!0},t),(t=Lt.get(n))&&xc(e,t),i=l.createElement("script"),Xe(i),Ie(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function nh(e,t){sl.M(e,t);var l=Ba;if(l&&e){var s=na(l).hoistableScripts,n=Ha(e),i=s.get(n);i||(i=l.querySelector(Ls(n)),i||(e=S({src:e,async:!0,type:"module"},t),(t=Lt.get(n))&&xc(e,t),i=l.createElement("script"),Xe(i),Ie(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function m0(e,t,l,s){var n=(n=Ke.current)?Vn(n):null;if(!n)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=qa(l.href),l=na(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=qa(l.href);var i=na(n).hoistableStyles,r=i.get(e);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=n.querySelector(Ts(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Lt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Lt.set(e,l),i||ih(n,e,l,r.state))),t&&s===null)throw Error(o(528,""));return r}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ha(l),l=na(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function qa(e){return'href="'+Nt(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function f0(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ih(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ie(t,"link",l),Xe(t),e.head.appendChild(t))}function Ha(e){return'[src="'+Nt(e)+'"]'}function Ls(e){return"script[async]"+e}function h0(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Nt(l.href)+'"]');if(s)return t.instance=s,Xe(s),s;var n=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Xe(s),Ie(s,"style",n),Qn(s,l.precedence,e),t.instance=s;case"stylesheet":n=qa(l.href);var i=e.querySelector(Ts(n));if(i)return t.state.loading|=4,t.instance=i,Xe(i),i;s=f0(l),(n=Lt.get(n))&&hc(s,n),i=(e.ownerDocument||e).createElement("link"),Xe(i);var r=i;return r._p=new Promise(function(u,d){r.onload=u,r.onerror=d}),Ie(i,"link",s),t.state.loading|=4,Qn(i,l.precedence,e),t.instance=i;case"script":return i=Ha(l.src),(n=e.querySelector(Ls(i)))?(t.instance=n,Xe(n),n):(s=l,(n=Lt.get(i))&&(s=S({},l),xc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),Xe(n),Ie(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Qn(s,l.precedence,e));return t.instance}function Qn(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,r=0;r<s.length;r++){var u=s[r];if(u.dataset.precedence===t)i=u;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function xc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xn=null;function x0(e,t,l){if(Xn===null){var s=new Map,n=Xn=new Map;n.set(l,s)}else n=Xn,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Za]||i[Je]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var u=s.get(r);u?u.push(i):s.set(r,[i])}}return s}function g0(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function rh(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function b0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ch(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=qa(s.href),i=t.querySelector(Ts(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zn.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Xe(i);return}i=t.ownerDocument||t,s=f0(s),(n=Lt.get(n))&&hc(s,n),i=i.createElement("link"),Xe(i);var r=i;r._p=new Promise(function(u,d){r.onload=u,r.onerror=d}),Ie(i,"link",s),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Zn.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var gc=0;function uh(e,t){return e.stylesheets&&e.count===0&&Jn(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Jn(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&gc===0&&(gc=62500*Vf());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jn(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>gc?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Zn(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jn(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kn=null;function Jn(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kn=new Map,t.forEach(oh,e),Kn=null,Zn.call(e))}function oh(e,t){if(!(t.state.loading&4)){var l=Kn.get(e);if(l)var s=l.get(null);else{l=new Map,Kn.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),s=r)}s&&l.set(null,s)}n=t.instance,r=n.getAttribute("data-precedence"),i=l.get(r)||s,i===s&&l.set(null,n),l.set(r,n),this.count++,s=Zn.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Cs={$$typeof:E,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function dh(e,t,l,s,n,i,r,u,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function v0(e,t,l,s,n,i,r,u,d,v,M,C){return e=new dh(e,t,l,r,d,v,M,C,u),t=1,i===!0&&(t|=24),i=mt(3,null,null,t),e.current=i,i.stateNode=e,t=Wi(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:l,cache:t},Pi(i),e}function p0(e){return e?(e=xa,e):xa}function y0(e,t,l,s,n,i){n=p0(n),s.context===null?s.context=n:s.pendingContext=n,s=hl(t),s.payload={element:l},i=i===void 0?null:i,i!==null&&(s.callback=i),l=xl(e,s,t),l!==null&&(rt(l,e,t),us(l,e,t))}function j0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function bc(e,t){j0(e,t),(e=e.alternate)&&j0(e,t)}function N0(e){if(e.tag===13||e.tag===31){var t=Ul(e,67108864);t!==null&&rt(t,e,67108864),bc(e,67108864)}}function w0(e){if(e.tag===13||e.tag===31){var t=bt();t=mi(t);var l=Ul(e,t);l!==null&&rt(l,e,t),bc(e,t)}}var Wn=!0;function mh(e,t,l,s){var n=m.T;m.T=null;var i=U.p;try{U.p=2,vc(e,t,l,s)}finally{U.p=i,m.T=n}}function fh(e,t,l,s){var n=m.T;m.T=null;var i=U.p;try{U.p=8,vc(e,t,l,s)}finally{U.p=i,m.T=n}}function vc(e,t,l,s){if(Wn){var n=pc(s);if(n===null)sc(e,t,s,$n,l),_0(e,s);else if(xh(n,e,t,l,s))s.stopPropagation();else if(_0(e,s),t&4&&-1<hh.indexOf(e)){for(;n!==null;){var i=sa(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=El(i.pendingLanes);if(r!==0){var u=i;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var d=1<<31-ot(r);u.entanglements[1]|=d,r&=~d}Rt(i),(pe&6)===0&&(Dn=ct()+500,_s(0))}}break;case 31:case 13:u=Ul(i,2),u!==null&&rt(u,i,2),En(),bc(i,2)}if(i=pc(s),i===null&&sc(e,t,s,$n,l),i===n)break;n=i}n!==null&&s.stopPropagation()}else sc(e,t,s,null,l)}}function pc(e){return e=ji(e),yc(e)}var $n=null;function yc(e){if($n=null,e=aa(e),e!==null){var t=q(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=Y(t),e!==null)return e;e=null}else if(l===31){if(e=V(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $n=e,null}function S0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I0()){case Cc:return 2;case Dc:return 8;case Hs:case P0:return 32;case Ac:return 268435456;default:return 32}default:return 32}}var jc=!1,kl=null,Ml=null,zl=null,Ds=new Map,As=new Map,Tl=[],hh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _0(e,t){switch(e){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Ml=null;break;case"mouseover":case"mouseout":zl=null;break;case"pointerover":case"pointerout":Ds.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function Es(e,t,l,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=sa(t),t!==null&&N0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function xh(e,t,l,s,n){switch(t){case"focusin":return kl=Es(kl,e,t,l,s,n),!0;case"dragenter":return Ml=Es(Ml,e,t,l,s,n),!0;case"mouseover":return zl=Es(zl,e,t,l,s,n),!0;case"pointerover":var i=n.pointerId;return Ds.set(i,Es(Ds.get(i)||null,e,t,l,s,n)),!0;case"gotpointercapture":return i=n.pointerId,As.set(i,Es(As.get(i)||null,e,t,l,s,n)),!0}return!1}function k0(e){var t=aa(e.target);if(t!==null){var l=q(t);if(l!==null){if(t=l.tag,t===13){if(t=Y(l),t!==null){e.blockedOn=t,Uc(e.priority,function(){w0(l)});return}}else if(t===31){if(t=V(l),t!==null){e.blockedOn=t,Uc(e.priority,function(){w0(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=pc(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);yi=s,l.target.dispatchEvent(s),yi=null}else return t=sa(l),t!==null&&N0(t),e.blockedOn=l,!1;t.shift()}return!0}function M0(e,t,l){Fn(e)&&l.delete(t)}function gh(){jc=!1,kl!==null&&Fn(kl)&&(kl=null),Ml!==null&&Fn(Ml)&&(Ml=null),zl!==null&&Fn(zl)&&(zl=null),Ds.forEach(M0),As.forEach(M0)}function In(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,gh)))}var Pn=null;function z0(e){Pn!==e&&(Pn=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Pn===e&&(Pn=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(yc(s||l)===null)continue;break}var i=sa(l);i!==null&&(e.splice(t,3),t-=3,pr(i,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function Ua(e){function t(d){return In(d,e)}kl!==null&&In(kl,e),Ml!==null&&In(Ml,e),zl!==null&&In(zl,e),Ds.forEach(t),As.forEach(t);for(var l=0;l<Tl.length;l++){var s=Tl[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Tl.length&&(l=Tl[0],l.blockedOn===null);)k0(l),l.blockedOn===null&&Tl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],i=l[s+1],r=n[tt]||null;if(typeof i=="function")r||z0(l);else if(r){var u=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[tt]||null)u=r.formAction;else if(yc(n)!==null)continue}else u=r.action;typeof u=="function"?l[s+1]=u:(l.splice(s,3),s-=3),z0(l)}}}function T0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return n=r})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Nc(e){this._internalRoot=e}ei.prototype.render=Nc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,s=bt();y0(l,s,e,t,null,null)},ei.prototype.unmount=Nc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;y0(e.current,2,null,e,null,null),En(),t[la]=null}};function ei(e){this._internalRoot=e}ei.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hc();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Tl.length&&t!==0&&t<Tl[l].priority;l++);Tl.splice(l,0,e),l===0&&k0(e)}};var L0=h.version;if(L0!=="19.2.3")throw Error(o(527,L0,"19.2.3"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Q(t),e=e!==null?k(e):null,e=e===null?null:e.stateNode,e};var bh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:m,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ti.isDisabled&&ti.supportsFiber)try{Va=ti.inject(bh),ut=ti}catch{}}return Bs.createRoot=function(e,t){if(!_(e))throw Error(o(299));var l=!1,s="",n=qo,i=Ho,r=Uo;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=v0(e,1,!1,null,null,l,s,null,n,i,r,T0),e[la]=t.current,ac(e),new Nc(t)},Bs.hydrateRoot=function(e,t,l){if(!_(e))throw Error(o(299));var s=!1,n="",i=qo,r=Ho,u=Uo,d=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(d=l.formState)),t=v0(e,1,!0,t,l??null,s,n,d,i,r,u,T0),t.context=p0(null),l=t.current,s=bt(),s=mi(s),n=hl(s),n.callback=null,xl(l,n,s),l=s,t.current.lanes=l,Xa(t,l),Rt(t),e[la]=t.current,ac(e),new ei(t)},Bs.version="19.2.3",Bs}var B0;function Lh(){if(B0)return Sc.exports;B0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(h){console.error(h)}}return c(),Sc.exports=Th(),Sc.exports}var Ch=Lh();const K0="http://127.0.0.1:8000/api/",ee=Z0.create({baseURL:K0,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(c=>{const h=localStorage.getItem("accessToken");return h&&(c.headers.Authorization=`Bearer ${h}`),c},c=>Promise.reject(c));ee.interceptors.response.use(c=>c,async c=>{const h=c.config;if(c.response?.status===401&&!h._retry){h._retry=!0;const j=localStorage.getItem("refreshToken");if(j)try{const o=await Z0.post(`${K0}/token/refresh/`,{refresh:j}),{access:_}=o.data;return localStorage.setItem("accessToken",_),h.headers.Authorization=`Bearer ${_}`,ee(h)}catch{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"}}return Promise.reject(c)});const Dh={login:(c,h)=>ee.post("/auth/login/",{username:c,password:h}),getCurrentUser:()=>ee.get("/auth/me/")},Il={getAll:()=>ee.get("/auth/students/"),getById:c=>ee.get(`/auth/students/${c}/`),create:c=>ee.post("/auth/students/",{username:c.username,password:c.password,first_name:c.first_name||"",last_name:c.last_name||"",group:c.group||null,date_of_birth:c.date_of_birth||null,address:c.address||""}),update:(c,h)=>ee.patch(`/auth/students/${c}/`,h),delete:c=>ee.delete(`/auth/students/${c}/`),getMyProfile:()=>ee.get("/auth/students/me/")},Ra={getAll:()=>ee.get("/auth/teachers/"),getById:c=>ee.get(`/auth/teachers/${c}/`),create:c=>ee.post("/auth/teachers/",{username:c.username,password:c.password,first_name:c.first_name||"",last_name:c.last_name||"",bio:c.bio||""}),update:(c,h)=>ee.patch(`/auth/teachers/${c}/`,h),delete:c=>ee.delete(`/auth/teachers/${c}/`)},Pl={getAll:()=>ee.get("/lessons/"),getById:c=>ee.get(`/lessons/${c}/`),getSubmissionStats:c=>ee.get(`/lessons/${c}/submission_stats/`),autoRateMissing:c=>ee.post(`/lessons/${c}/auto_rate_missing/`),create:c=>{if(c.homework_image instanceof File){const j=new FormData;return j.append("title",c.title),j.append("start_date",c.start_date),c.description&&j.append("description",c.description),c.group&&j.append("group",c.group),c.teacher&&j.append("teacher",c.teacher),c.end_date&&j.append("end_date",c.end_date),c.deadline&&j.append("deadline",c.deadline),j.append("is_active",c.is_active?"true":"false"),c.homework_task&&j.append("homework_task",c.homework_task),j.append("homework_image",c.homework_image),j.append("allow_file_upload",c.allow_file_upload?"true":"false"),j.append("allow_url_submission",c.allow_url_submission?"true":"false"),ee.post("/lessons/",j,{headers:{"Content-Type":"multipart/form-data"}})}const h={title:c.title,start_date:c.start_date,description:c.description||"",is_active:c.is_active,homework_task:c.homework_task||"",allow_file_upload:c.allow_file_upload,allow_url_submission:c.allow_url_submission};return c.group&&(h.group=c.group),c.teacher&&(h.teacher=c.teacher),c.end_date&&(h.end_date=c.end_date),c.deadline&&(h.deadline=c.deadline),ee.post("/lessons/",h)},update:(c,h)=>{if(h.homework_image instanceof File){const o=new FormData;return Object.keys(h).forEach(_=>{h[_]!==void 0&&h[_]!==null&&h[_]!==""&&(typeof h[_]=="boolean"?o.append(_,h[_]?"true":"false"):o.append(_,h[_]))}),ee.patch(`/lessons/${c}/`,o,{headers:{"Content-Type":"multipart/form-data"}})}const j={};return Object.keys(h).forEach(o=>{h[o]!==void 0&&h[o]!==""&&(j[o]=h[o])}),ee.patch(`/lessons/${c}/`,j)},delete:c=>ee.delete(`/lessons/${c}/`)},Dl={getAll:()=>ee.get("/homework/"),getById:c=>ee.get(`/homework/${c}/`),create:c=>{const h=new FormData;return h.append("lesson",c.lesson),c.submission_url&&h.append("submission_url",c.submission_url),c.submission_file&&h.append("submission_file",c.submission_file),c.description&&h.append("description",c.description),ee.post("/homework/",h,{headers:{"Content-Type":"multipart/form-data"}})},update:(c,h)=>ee.patch(`/homework/${c}/`,h),delete:c=>ee.delete(`/homework/${c}/`),getMyHomeworks:()=>ee.get("/homework/my_homeworks/"),getMyLessons:()=>ee.get("/homework/my_lessons/"),getForLesson:c=>ee.get(`/homework/for-lesson/${c}/`),submitForLesson:(c,h)=>{const j=new FormData;return h.submission_url&&j.append("submission_url",h.submission_url),h.submission_file&&j.append("submission_file",h.submission_file),h.description&&j.append("description",h.description),ee.post(`/homework/submit/${c}/`,j,{headers:{"Content-Type":"multipart/form-data"}})}},ni={getAll:()=>ee.get("/ratings/"),getById:c=>ee.get(`/ratings/${c}/`),create:c=>ee.post("/ratings/",{homework:c.homework,score:c.score,comment:c.comment||""}),update:(c,h)=>ee.patch(`/ratings/${c}/`,h),delete:c=>ee.delete(`/ratings/${c}/`)},Ct={getAll:(c={})=>{const h=new URLSearchParams;c.date&&h.append("date",c.date),c.group&&h.append("group",c.group);const j=h.toString();return ee.get(`/leaderboard/${j?`?${j}`:""}`)},getToday:(c=null)=>ee.get(`/leaderboard/today/${c?`?group=${c}`:""}`),getTopThree:(c=null)=>ee.get(`/leaderboard/top_three/${c?`?group=${c}`:""}`),getByDate:(c,h=null)=>{let j=`/leaderboard/?date=${c}`;return h&&(j+=`&group=${h}`),ee.get(j)},getMonthly:(c,h,j=null)=>{let o=`/leaderboard/monthly/?year=${c}&month=${h}`;return j&&(o+=`&group=${j}`),ee.get(o)},calculate:(c,h=null)=>ee.post("/leaderboard/calculate/",{date:c,group:h})},vt={getAll:()=>ee.get("/groups/"),getById:c=>ee.get(`/groups/${c}/`),create:c=>ee.post("/groups/",c),update:(c,h)=>ee.patch(`/groups/${c}/`,h),delete:c=>ee.delete(`/groups/${c}/`),getStudents:c=>ee.get(`/groups/${c}/students/`),assignStudent:(c,h)=>ee.post(`/groups/${c}/assign_student/`,{student_id:h}),removeStudent:(c,h)=>ee.post(`/groups/${c}/remove_student/`,{student_id:h}),assignTeacher:(c,h)=>ee.post(`/groups/${c}/assign_teacher/`,{teacher_id:h})},J0=p.createContext(null);function Ah({children:c}){const[h,j]=p.useState(null),[o,_]=p.useState(!0);p.useEffect(()=>{const A=localStorage.getItem("user"),Q=localStorage.getItem("accessToken");A&&Q&&j(JSON.parse(A)),_(!1)},[]);const V={user:h,login:async(A,Q)=>{const k=await Dh.login(A,Q),{user:S,tokens:H}=k.data;return localStorage.setItem("accessToken",H.access),localStorage.setItem("refreshToken",H.refresh),localStorage.setItem("user",JSON.stringify(S)),j(S),S},logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),j(null)},loading:o,isAuthenticated:!!h,isAdmin:h?.role==="ADMIN",isTeacher:h?.role==="TEACHER",isStudent:h?.role==="STUDENT"};return a.jsx(J0.Provider,{value:V,children:c})}function nl(){const c=p.useContext(J0);if(!c)throw new Error("useAuth must be used within an AuthProvider");return c}function Pe({children:c,allowedRoles:h}){const{user:j,loading:o,isAuthenticated:_}=nl();return o?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):_?h&&!h.includes(j?.role)?a.jsx(Cl,{to:"/unauthorized",replace:!0}):c:a.jsx(Cl,{to:"/login",replace:!0})}function Eh(){const[c,h]=p.useState(""),[j,o]=p.useState(""),[_,q]=p.useState(""),[Y,V]=p.useState(!1),{login:A}=nl(),Q=ea(),k=async S=>{S.preventDefault(),q(""),V(!0);try{const H=await A(c,j);H.role==="ADMIN"?Q("/admin"):H.role==="TEACHER"?Q("/teacher"):H.role==="STUDENT"?Q("/student"):Q("/")}catch(H){q(H.response?.data?.error||"Kirish amalga oshmadi. Ma'lumotlaringizni tekshiring.")}finally{V(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"O'quv Markazi"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Hisobingizga kiring"})]}),_&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm",children:_}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Foydalanuvchi nomi"}),a.jsx("input",{id:"username",type:"text",value:c,onChange:S=>h(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Foydalanuvchi nomini kiriting",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Parol"}),a.jsx("input",{id:"password",type:"password",value:j,onChange:S=>o(S.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Parolni kiriting",required:!0})]}),a.jsx("button",{type:"submit",disabled:Y,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:Y?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Kirish..."]}):"Kirish"})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:a.jsx("p",{children:"Kirish uchun administrator bilan bog'laning"})})]})})}function Oh(){const c=ea(),{user:h,logout:j}=nl(),o=()=>{h?.role==="ADMIN"?c("/admin"):h?.role==="TEACHER"?c("/teacher"):h?.role==="STUDENT"?c("/student"):c("/login")},_=()=>{j(),c("/login")};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl font-bold text-red-500 mb-4",children:"403"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Access Denied"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"You don't have permission to access this page."}),a.jsxs("div",{className:"space-x-4",children:[a.jsx("button",{onClick:o,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Go to Dashboard"}),a.jsx("button",{onClick:_,className:"px-6 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg",children:"Logout"})]})]})})}const Bh=[{path:"/admin",label:"Bosh sahifa",icon:"home"},{path:"/admin/groups",label:"Guruhlar",icon:"group"},{path:"/admin/students",label:"O'quvchilar",icon:"users"},{path:"/admin/teachers",label:"O'qituvchilar",icon:"academic"},{path:"/admin/leaderboard",label:"Reyting",icon:"chart"},{path:"/admin/settings",label:"Sozlamalar",icon:"settings"}],qh=[{path:"/teacher",label:"Bosh sahifa",icon:"home"},{path:"/teacher/groups",label:"Guruhlar",icon:"group"},{path:"/teacher/homework",label:"Vazifalar",icon:"document"},{path:"/teacher/ratings",label:"Mening baholarim",icon:"star"},{path:"/teacher/leaderboard",label:"Reyting",icon:"chart"}],Hh=[{path:"/student",label:"Bosh sahifa",icon:"home"},{path:"/student/lessons",label:"Darslar",icon:"book"},{path:"/student/homework",label:"Mening vazifalarim",icon:"document"},{path:"/student/leaderboard",label:"Reyting",icon:"chart"}],Mc={home:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),group:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),users:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),academic:a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),a.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]}),book:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),chart:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),settings:a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),document:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),star:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),upload:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),logout:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),menu:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})};function He({children:c}){const[h,j]=p.useState(!0),[o,_]=p.useState(!1),{user:q,logout:Y,isAdmin:V,isTeacher:A,isStudent:Q}=nl(),k=jh(),S=ea(),H=V?Bh:A?qh:Hh,K=()=>{Y(),S("/login")},w=O=>{switch(O){case"ADMIN":return"bg-red-500";case"TEACHER":return"bg-green-500";case"STUDENT":return"bg-blue-500";default:return"bg-gray-500"}};return a.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[a.jsx("button",{className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg",onClick:()=>_(!o),children:Mc.menu}),o&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>_(!1)}),a.jsx("aside",{className:`fixed lg:static inset-y-0 left-0 z-40 bg-white shadow-xl transform transition-all duration-300 ease-in-out ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"} ${h?"w-64":"w-20"}`,children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:`flex items-center h-16 px-4 border-b border-gray-200 ${h?"justify-between":"justify-center"}`,children:[h&&a.jsxs("h1",{className:"text-xl font-bold text-gray-800",children:["O'quv",a.jsx("span",{className:"text-blue-600",children:"Markazi"})]}),a.jsx("button",{onClick:()=>j(!h),className:"hidden lg:block p-2 rounded-lg hover:bg-gray-100 text-gray-500",children:a.jsx("svg",{className:`w-5 h-5 transform transition-transform ${h?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})})]}),a.jsx("div",{className:`p-4 border-b border-gray-200 ${h?"":"flex justify-center"}`,children:h?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-full ${w(q?.role)} flex items-center justify-center text-white font-bold`,children:q?.first_name?.[0]||q?.username?.[0]||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900 truncate",children:[q?.first_name," ",q?.last_name]}),a.jsxs("p",{className:"text-xs text-gray-500 truncate",children:["@",q?.username]})]})]}):a.jsx("div",{className:`w-10 h-10 rounded-full ${w(q?.role)} flex items-center justify-center text-white font-bold`,children:q?.first_name?.[0]||q?.username?.[0]||"U"})}),a.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("ul",{className:"space-y-2",children:H.map(O=>{const Z=k.pathname===O.path;return a.jsx("li",{children:a.jsxs(pt,{to:O.path,onClick:()=>_(!1),className:`flex items-center px-4 py-3 rounded-lg transition-colors ${Z?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-100"} ${h?"":"justify-center"}`,children:[a.jsx("span",{className:Z?"text-blue-600":"text-gray-400",children:Mc[O.icon]}),h&&a.jsx("span",{className:"ml-3 font-medium",children:O.label})]})},O.path)})})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs("button",{onClick:K,className:`flex items-center w-full px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors ${h?"":"justify-center"}`,children:[Mc.logout,h&&a.jsx("span",{className:"ml-3 font-medium",children:"Chiqish"})]})})]})}),a.jsx("main",{className:"flex-1 transition-all duration-300 lg:ml-0",children:a.jsx("div",{className:"min-h-screen",children:c})})]})}function q0(){const[c,h]=p.useState({students:0,teachers:0,lessons:0,homeworks:0}),[j,o]=p.useState([]),[_,q]=p.useState([]),[Y,V]=p.useState(!0);p.useEffect(()=>{A()},[]);const A=async()=>{try{const[S,H,K,w,O]=await Promise.all([Il.getAll(),Ra.getAll(),Pl.getAll(),Dl.getAll(),Ct.getToday()]),Z=S.data.results||S.data||[],D=H.data.results||H.data||[],le=K.data.results||K.data||[],E=w.data.results||w.data||[],g=O.data||[];h({students:Z.length,teachers:D.length,lessons:le.length,homeworks:E.length}),o(Z.slice(0,5)),q(g.slice(0,3))}catch(S){console.error("Failed to fetch dashboard data:",S)}finally{V(!1)}},Q=async()=>{try{await Ct.calculate(),A()}catch(S){console.error("Failed to calculate leaderboard:",S)}},k=({title:S,value:H,color:K,icon:w})=>a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:S}),a.jsx("p",{className:`text-3xl font-bold mt-2 ${K}`,children:H})]}),a.jsx("div",{className:`w-12 h-12 rounded-full ${K.replace("text-","bg-").replace("-600","-100")} flex items-center justify-center`,children:w})]})});return Y?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Administrator paneli"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Xush kelibsiz! Bugungi holatlar."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(k,{title:"Jami o'quvchilar",value:c.students,color:"text-blue-600",icon:a.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),a.jsx(k,{title:"Jami o'qituvchilar",value:c.teachers,color:"text-green-600",icon:a.jsxs("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),a.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]})}),a.jsx(k,{title:"Faol darslar",value:c.lessons,color:"text-purple-600",icon:a.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),a.jsx(k,{title:"Topshiriqlar",value:c.homeworks,color:"text-orange-600",icon:a.jsx("svg",{className:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Bugungi eng yaxshi o'quvchilar"}),a.jsx("button",{onClick:Q,className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Yangilash"})]}),_.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Reyting mavjud emas"}):a.jsx("div",{className:"space-y-3",children:_.map((S,H)=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg ${H===0?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white":H===1?"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800":"bg-gradient-to-r from-amber-600 to-amber-700 text-white"}`,children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"text-2xl font-bold",children:H+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:S.student_name}),a.jsxs("p",{className:"text-sm opacity-80",children:[S.total_ratings," ta baho"]})]})]}),a.jsx("div",{className:"text-2xl font-bold",children:S.average_score})]},S.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"So'nggi o'quvchilar"}),j.length===0?a.jsx("p",{className:"text-gray-500 text-center py-8",children:"Hozircha o'quvchilar yo'q"}):a.jsx("div",{className:"space-y-3",children:j.map(S=>a.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:S.user?.first_name?.[0]||"S"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:[S.user?.first_name," ",S.user?.last_name]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["@",S.user?.username]})]})]})},S.id))})]})]}),a.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 text-white",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Tezkor harakatlar"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsxs("a",{href:"/admin/students",className:"flex flex-col items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[a.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),a.jsx("span",{className:"text-sm font-medium",children:"O'quvchi qo'shish"})]}),a.jsxs("a",{href:"/admin/teachers",className:"flex flex-col items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[a.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),a.jsx("span",{className:"text-sm font-medium",children:"O'qituvchi qo'shish"})]}),a.jsxs("a",{href:"/admin/groups",className:"flex flex-col items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[a.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{className:"text-sm font-medium",children:"Yangi guruh"})]}),a.jsxs("a",{href:"/admin/leaderboard",className:"flex flex-col items-center p-4 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:[a.jsx("svg",{className:"w-8 h-8 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("span",{className:"text-sm font-medium",children:"Reyting"})]})]})]})]})})}function Ga({isOpen:c,onClose:h,title:j,children:o,size:_="md"}){if(!c)return null;const q={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","3xl":"max-w-3xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:h}),a.jsxs("div",{className:`relative bg-white rounded-xl shadow-2xl w-full ${q[_]} transform transition-all max-h-[90vh] flex flex-col`,children:[j&&a.jsxs("div",{className:"flex items-center justify-between p-6 pb-4 border-b",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:j}),a.jsx("button",{onClick:h,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:o})]})]})})}function Tc({isOpen:c,onClose:h,onConfirm:j,title:o,message:_,confirmText:q="Delete",confirmColor:Y="red"}){if(!c)return null;const V={red:"bg-red-600 hover:bg-red-700",blue:"bg-blue-600 hover:bg-blue-700",green:"bg-green-600 hover:bg-green-700"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:h}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-sm p-6 transform transition-all",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full ${Y==="red"?"bg-red-100":"bg-blue-100"} mb-4`,children:Y==="red"?a.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}):a.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:o}),a.jsx("p",{className:"text-sm text-gray-500 mb-6",children:_})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{j(),h()},className:`flex-1 px-4 py-2 text-white rounded-lg font-medium transition-colors ${V[Y]}`,children:q})]})]})]})})}function ta({currentPage:c,totalPages:h,onPageChange:j,itemsPerPage:o,totalItems:_}){if(h<=1)return null;const q=()=>{const A=[];if(h<=5)for(let k=1;k<=h;k++)A.push(k);else if(c<=3){for(let k=1;k<=4;k++)A.push(k);A.push("..."),A.push(h)}else if(c>=h-2){A.push(1),A.push("...");for(let k=h-3;k<=h;k++)A.push(k)}else{A.push(1),A.push("...");for(let k=c-1;k<=c+1;k++)A.push(k);A.push("..."),A.push(h)}return A},Y=(c-1)*o+1,V=Math.min(c*o,_);return a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[a.jsxs("p",{className:"text-sm text-gray-500",children:["Showing ",a.jsx("span",{className:"font-medium",children:Y})," to"," ",a.jsx("span",{className:"font-medium",children:V})," of"," ",a.jsx("span",{className:"font-medium",children:_})," results"]}),a.jsxs("nav",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),q().map((A,Q)=>A==="..."?a.jsx("span",{className:"px-3 py-2 text-gray-400",children:"..."},`ellipsis-${Q}`):a.jsx("button",{onClick:()=>j(A),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${c===A?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,children:A},A)),a.jsx("button",{onClick:()=>j(c+1),disabled:c===h,className:"p-2 rounded-lg text-gray-500 hover:bg-gray-100 disabled:opacity-40 disabled:cursor-not-allowed",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),a.jsxs("div",{className:"flex items-center justify-between w-full sm:hidden",children:[a.jsx("button",{onClick:()=>j(c-1),disabled:c===1,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg disabled:opacity-40",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[c," / ",h]}),a.jsx("button",{onClick:()=>j(c+1),disabled:c===h,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg disabled:opacity-40",children:"Next"})]})]})}function Uh(){const[c,h]=p.useState([]),[j,o]=p.useState([]),[_,q]=p.useState([]),[Y,V]=p.useState(!0),[A,Q]=p.useState(!1),[k,S]=p.useState(!1),[H,K]=p.useState(!1),[w,O]=p.useState(null),[Z,D]=p.useState([]),[le,E]=p.useState(""),[g,J]=p.useState(""),[L,B]=p.useState(""),[ae,Le]=p.useState(1),de=5,[G,I]=p.useState({name:"",description:"",teacher:"",is_active:!0});p.useEffect(()=>{Se()},[]);const Se=async()=>{try{const[X,ye,Bt]=await Promise.all([vt.getAll(),Ra.getAll(),Il.getAll()]);h(X.data.results||X.data||[]),o(ye.data.results||ye.data||[]),q(Bt.data.results||Bt.data||[])}catch{E("Ma'lumotlarni yuklashda xatolik yuz berdi")}finally{V(!1)}},ze=()=>{I({name:"",description:"",teacher:"",is_active:!0}),O(null)},ce=()=>{ze(),Q(!0)},m=X=>{O(X),I({name:X.name||"",description:X.description||"",teacher:X.teacher?String(X.teacher):"",is_active:X.is_active??!0}),Q(!0)},U=async X=>{O(X);try{const ye=await vt.getStudents(X.id);D(ye.data.students||[])}catch{D([])}K(!0)},$=async X=>{X.preventDefault(),E("");const ye={...G,teacher:G.teacher?parseInt(G.teacher,10):null};try{w?(await vt.update(w.id,ye),J("Guruh muvaffaqiyatli yangilandi!")):(await vt.create(ye),J("Guruh muvaffaqiyatli yaratildi!")),Q(!1),ze(),Se(),setTimeout(()=>J(""),3e3)}catch(Bt){const Al=Bt.response?.data;if(Al){const Ya=Object.entries(Al).map(([qs,Dt])=>`${qs}: ${Array.isArray(Dt)?Dt.join(", "):Dt}`).join(`
`);E(Ya||"Guruhni saqlashda xatolik yuz berdi")}else E("Guruhni saqlashda xatolik yuz berdi")}},ue=async()=>{if(w){try{await vt.delete(w.id),J("Guruh muvaffaqiyatli o'chirildi!"),Se(),setTimeout(()=>J(""),3e3)}catch{E("Guruhni o'chirishda xatolik yuz berdi")}O(null)}},R=async X=>{if(w)try{await vt.assignStudent(w.id,X);const ye=await vt.getStudents(w.id);D(ye.data.students||[]),Se(),J("O'quvchi muvaffaqiyatli biriktirildi!"),setTimeout(()=>J(""),3e3)}catch(ye){E(ye.response?.data?.error||"O'quvchini biriktirishda xatolik yuz berdi")}},se=async X=>{if(w)try{await vt.removeStudent(w.id,X);const ye=await vt.getStudents(w.id);D(ye.data.students||[]),Se(),J("O'quvchi muvaffaqiyatli olib tashlandi!"),setTimeout(()=>J(""),3e3)}catch(ye){E(ye.response?.data?.error||"O'quvchini olib tashlashda xatolik yuz berdi")}},oe=c.filter(X=>{const ye=L.toLowerCase();return X.name?.toLowerCase().includes(ye)||X.teacher_name?.toLowerCase().includes(ye)}),T=_.filter(X=>!X.group&&!Z.some(ye=>ye.id===X.id)),re=ae*de,je=re-de,Ke=oe.slice(je,re),yt=Math.ceil(oe.length/de);return a.jsxs(He,{children:[a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Guruhlar"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Barcha guruhlarni boshqarish"})]}),a.jsxs("button",{onClick:ce,className:"mt-4 sm:mt-0 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"Guruh qo'shish"})]})]}),le&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg whitespace-pre-line",children:[le,a.jsx("button",{onClick:()=>E(""),className:"float-right text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),g&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:g}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Guruhlarni nomi yoki o'qituvchi bo'yicha qidirish...",value:L,onChange:X=>B(X.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[Y?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):oe.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Guruhlar topilmadi"}),a.jsx("button",{onClick:ce,className:"mt-4 text-indigo-600 hover:text-indigo-700 font-medium",children:"Birinchi guruhni qo'shing"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guruh nomi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"O'qituvchi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"O'quvchilar"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Holat"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amallar"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ke.map(X=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 font-bold",children:X.name?.[0]||"G"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.name}),X.description&&a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:X.description})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:X.teacher_name||"O'qituvchi yo'q"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{onClick:()=>U(X),className:"inline-flex items-center px-2.5 py-1 text-sm font-medium bg-indigo-100 text-indigo-700 rounded-full hover:bg-indigo-200",children:[X.student_count||0," o'quvchi"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:X.is_active?"Faol":"Nofaol"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>m(X),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Tahrirlash"}),a.jsx("button",{onClick:()=>{O(X),S(!0)},className:"text-red-600 hover:text-red-900",children:"O'chirish"})]})]},X.id))})]})}),!Y&&oe.length>de&&a.jsx("div",{className:"px-6 py-4 border-t",children:a.jsx(ta,{currentPage:ae,totalPages:yt,onPageChange:Le,itemsPerPage:de,totalItems:oe.length})})]})]}),a.jsx(Ga,{isOpen:A,onClose:()=>{Q(!1),ze()},title:w?"Guruhni tahrirlash":"Yangi guruh qo'shish",size:"lg",children:a.jsxs("form",{onSubmit:$,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Guruh nomi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:G.name,onChange:X=>I({...G,name:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tavsif"}),a.jsx("textarea",{value:G.description,onChange:X=>I({...G,description:X.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",placeholder:"Guruh haqida qisqacha tavsif..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"O'qituvchi"}),a.jsxs("select",{value:G.teacher,onChange:X=>I({...G,teacher:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",children:[a.jsx("option",{value:"",children:"O'qituvchini tanlang"}),j.map(X=>a.jsxs("option",{value:String(X.id),children:[X.user?.first_name," ",X.user?.last_name," (",X.specialization||"Mutaxassislik ko'rsatilmagan",")"]},X.id))]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:G.is_active,onChange:X=>I({...G,is_active:X.target.checked}),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),a.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Faol (guruh darslar va uy vazifasi uchun mavjud)"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:()=>{Q(!1),ze()},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Bekor qilish"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium",children:w?"Saqlash":"Guruh yaratish"})]})]})}),a.jsx(Tc,{isOpen:k,onClose:()=>{S(!1),O(null)},onConfirm:ue,title:"Guruhni o'chirish",message:`"${w?.name}" guruhini o'chirishni xohlaysizmi? Bu barcha bog'liq darslar va uy vazifalariga ta'sir qiladi.`,confirmText:"O'chirish",confirmColor:"red"}),a.jsx(Ga,{isOpen:H,onClose:()=>{K(!1),O(null),D([])},title:`O'quvchilarni boshqarish - ${w?.name||""}`,size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Joriy o'quvchilar (",Z.length,")"]}),Z.length===0?a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"Bu guruhda o'quvchilar yo'q"}):a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:Z.map(X=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:X.full_name||X.username}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",X.student_id,")"]})]}),a.jsx("button",{onClick:()=>se(X.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Olib tashlash"})]},X.id))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"O'quvchi qo'shish"}),T.length===0?a.jsx("p",{className:"text-sm text-gray-500 py-2",children:"Barcha o'quvchilar guruhlarga biriktirilgan"}):a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:T.map(X=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:[X.user?.first_name," ",X.user?.last_name]}),a.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",X.student_id,")"]})]}),a.jsx("button",{onClick:()=>R(X.id),className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"Biriktirish"})]},X.id))})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t",children:a.jsx("button",{onClick:()=>{K(!1),O(null),D([])},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Yopish"})})]})})]})}function Rh(){const[c,h]=p.useState([]),[j,o]=p.useState([]),[_,q]=p.useState(!0),[Y,V]=p.useState(!1),[A,Q]=p.useState(!1),[k,S]=p.useState(null),[H,K]=p.useState(""),[w,O]=p.useState(""),[Z,D]=p.useState(""),[le,E]=p.useState(""),[g,J]=p.useState(1),L=5,[B,ae]=p.useState({username:"",password:"",first_name:"",last_name:"",group:""});p.useEffect(()=>{Le()},[]);const Le=async()=>{try{const[R,se]=await Promise.all([Il.getAll(),vt.getAll()]);h(R.data.results||R.data||[]),o(se.data.results||se.data||[])}catch{K("Ma'lumotlarni yuklashda xatolik")}finally{q(!1)}},de=()=>{ae({username:"",password:"",first_name:"",last_name:"",group:""}),S(null)},G=()=>{de(),V(!0)},I=R=>{S(R),ae({username:R.user?.username||"",password:"",first_name:R.user?.first_name||"",last_name:R.user?.last_name||"",group:R.group?String(R.group):""}),V(!0)},Se=async R=>{R.preventDefault(),K("");try{const se={...B,group:B.group?parseInt(B.group,10):null};k?(se.password||delete se.password,await Il.update(k.id,se),O("O'quvchi muvaffaqiyatli yangilandi!")):(await Il.create(se),O("O'quvchi muvaffaqiyatli yaratildi!")),V(!1),de(),Le(),setTimeout(()=>O(""),3e3)}catch(se){const oe=se.response?.data;if(oe){const T=Object.entries(oe).map(([re,je])=>`${re}: ${Array.isArray(je)?je.join(", "):je}`).join(`
`);K(T||"O'quvchini saqlashda xatolik")}else K("O'quvchini saqlashda xatolik")}},ze=async()=>{if(k){try{await Il.delete(k.id),O("O'quvchi muvaffaqiyatli o'chirildi!"),Le(),setTimeout(()=>O(""),3e3)}catch{K("O'quvchini o'chirishda xatolik")}S(null)}},ce=c.filter(R=>{const se=Z.toLowerCase(),oe=R.user?.username?.toLowerCase().includes(se)||R.user?.first_name?.toLowerCase().includes(se)||R.user?.last_name?.toLowerCase().includes(se),T=!le||(le==="unassigned"?!R.group:String(R.group)===le);return oe&&T}),m=g*L,U=m-L,$=ce.slice(U,m),ue=Math.ceil(ce.length/L);return a.jsxs(He,{children:[a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"O'quvchilar"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Tizimdagi barcha o'quvchilarni boshqarish"})]}),a.jsxs("button",{onClick:G,className:"mt-4 sm:mt-0 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"O'quvchi qo'shish"})]})]}),H&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg whitespace-pre-line",children:[H,a.jsx("button",{onClick:()=>K(""),className:"float-right text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:w}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Ism yoki foydalanuvchi nomi bo'yicha qidirish...",value:Z,onChange:R=>D(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("select",{value:le,onChange:R=>E(R.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Barcha guruhlar"}),a.jsx("option",{value:"unassigned",children:"Guruhsiz"}),j.map(R=>a.jsx("option",{value:String(R.id),children:R.name},R.id))]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[_?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):ce.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"O'quvchilar topilmadi"}),a.jsx("button",{onClick:G,className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:"Birinchi o'quvchini qo'shing"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"O'quvchi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Foydalanuvchi nomi"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guruh"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amallar"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.map(R=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold",children:R.user?.first_name?.[0]||"S"}),a.jsx("div",{className:"ml-4",children:a.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[R.user?.first_name," ",R.user?.last_name]})})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["@",R.user?.username]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:R.group_details?a.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-indigo-100 text-indigo-700 rounded",children:R.group_details.name}):a.jsx("span",{className:"text-sm text-gray-400",children:"Guruhsiz"})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[a.jsx("button",{onClick:()=>I(R),className:"text-blue-600 hover:text-blue-900 mr-4",children:"Tahrirlash"}),a.jsx("button",{onClick:()=>{S(R),Q(!0)},className:"text-red-600 hover:text-red-900",children:"O'chirish"})]})]},R.id))})]})}),!_&&ce.length>L&&a.jsx("div",{className:"px-6 py-4 border-t",children:a.jsx(ta,{currentPage:g,totalPages:ue,onPageChange:J,itemsPerPage:L,totalItems:ce.length})})]})]}),a.jsx(Ga,{isOpen:Y,onClose:()=>{V(!1),de()},title:k?"O'quvchini tahrirlash":"Yangi o'quvchi qo'shish",size:"lg",children:a.jsxs("form",{onSubmit:Se,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ism ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:B.first_name,onChange:R=>ae({...B,first_name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Familiya ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:B.last_name,onChange:R=>ae({...B,last_name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Foydalanuvchi nomi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:B.username,onChange:R=>ae({...B,username:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Parol ",!k&&a.jsx("span",{className:"text-red-500",children:"*"}),k&&a.jsx("span",{className:"text-gray-400 text-xs",children:"(joriyni saqlash uchun bo'sh qoldiring)"})]}),a.jsx("input",{type:"password",value:B.password,onChange:R=>ae({...B,password:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!k,minLength:8})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guruh"}),a.jsxs("select",{value:B.group,onChange:R=>ae({...B,group:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Guruhsiz"}),j.map(R=>a.jsx("option",{value:String(R.id),children:R.name},R.id))]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:()=>{V(!1),de()},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Bekor qilish"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:k?"Saqlash":"O'quvchi yaratish"})]})]})}),a.jsx(Tc,{isOpen:A,onClose:()=>{Q(!1),S(null)},onConfirm:ze,title:"O'quvchini o'chirish",message:`Haqiqatan ham ${k?.user?.first_name} ${k?.user?.last_name}ni o'chirmoqchimisiz? Bu amalni ortga qaytarib bo'lmaydi.`,confirmText:"O'chirish",confirmColor:"red"})]})}function Gh(){const[c,h]=p.useState([]),[j,o]=p.useState(!0),[_,q]=p.useState(!1),[Y,V]=p.useState(!1),[A,Q]=p.useState(null),[k,S]=p.useState(""),[H,K]=p.useState(""),[w,O]=p.useState(""),[Z,D]=p.useState(1),le=5,[E,g]=p.useState({username:"",password:"",first_name:"",last_name:"",bio:""});p.useEffect(()=>{J()},[]);const J=async()=>{try{const m=await Ra.getAll();h(m.data.results||m.data||[])}catch{S("O'qituvchilarni yuklashda xatolik yuz berdi")}finally{o(!1)}},L=()=>{g({username:"",password:"",first_name:"",last_name:"",bio:""}),Q(null)},B=()=>{L(),q(!0)},ae=m=>{Q(m),g({username:m.user?.username||"",password:"",first_name:m.user?.first_name||"",last_name:m.user?.last_name||"",bio:m.bio||""}),q(!0)},Le=async m=>{m.preventDefault(),S("");try{if(A){const U={...E};U.password||delete U.password,await Ra.update(A.id,U),K("O'qituvchi muvaffaqiyatli yangilandi!")}else await Ra.create(E),K("O'qituvchi muvaffaqiyatli yaratildi!");q(!1),L(),J(),setTimeout(()=>K(""),3e3)}catch(U){const $=U.response?.data;if($){const ue=Object.entries($).map(([R,se])=>`${R}: ${Array.isArray(se)?se.join(", "):se}`).join(`
`);S(ue||"O'qituvchini saqlashda xatolik yuz berdi")}else S("O'qituvchini saqlashda xatolik yuz berdi")}},de=async()=>{if(A){try{await Ra.delete(A.id),K("O'qituvchi muvaffaqiyatli o'chirildi!"),J(),setTimeout(()=>K(""),3e3)}catch{S("O'qituvchini o'chirishda xatolik yuz berdi")}Q(null)}},G=c.filter(m=>{const U=w.toLowerCase();return m.user?.username?.toLowerCase().includes(U)||m.user?.first_name?.toLowerCase().includes(U)||m.user?.last_name?.toLowerCase().includes(U)}),I=Z*le,Se=I-le,ze=G.slice(Se,I),ce=Math.ceil(G.length/le);return a.jsxs(He,{children:[a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"O'qituvchilar"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Barcha o'qituvchilarni boshqarish"})]}),a.jsxs("button",{onClick:B,className:"mt-4 sm:mt-0 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium flex items-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),a.jsx("span",{children:"O'qituvchi qo'shish"})]})]}),k&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg whitespace-pre-line",children:[k,a.jsx("button",{onClick:()=>S(""),className:"float-right text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),H&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:H}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),a.jsx("input",{type:"text",placeholder:"Ism yoki foydalanuvchi nomi bo'yicha qidirish...",value:w,onChange:m=>O(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j?a.jsx("div",{className:"col-span-full flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):G.length===0?a.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl shadow-lg",children:[a.jsxs("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),a.jsx("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"})]}),a.jsx("p",{className:"mt-2 text-gray-500",children:"O'qituvchilar topilmadi"}),a.jsx("button",{onClick:B,className:"mt-4 text-green-600 hover:text-green-700 font-medium",children:"Birinchi o'qituvchini qo'shing"})]}):ze.map(m=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-green-100 flex items-center justify-center text-green-600 text-xl font-bold",children:m.user?.first_name?.[0]||"T"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:[m.user?.first_name," ",m.user?.last_name]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["@",m.user?.username]})]})]}),m.bio&&a.jsx("div",{className:"mt-4",children:a.jsx("p",{className:"text-sm text-gray-600",children:m.bio})})]}),a.jsxs("div",{className:"px-6 py-3 bg-gray-50 flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>ae(m),className:"px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg",children:"Tahrirlash"}),a.jsx("button",{onClick:()=>{Q(m),V(!0)},className:"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded-lg",children:"O'chirish"})]})]},m.id))}),!j&&G.length>le&&a.jsx("div",{className:"mt-6",children:a.jsx(ta,{currentPage:Z,totalPages:ce,onPageChange:D,itemsPerPage:le,totalItems:G.length})})]}),a.jsx(Ga,{isOpen:_,onClose:()=>{q(!1),L()},title:A?"O'qituvchini tahrirlash":"Yangi o'qituvchi qo'shish",size:"lg",children:a.jsxs("form",{onSubmit:Le,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Ism ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:E.first_name,onChange:m=>g({...E,first_name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Familiya ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:E.last_name,onChange:m=>g({...E,last_name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Foydalanuvchi nomi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:E.username,onChange:m=>g({...E,username:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Parol ",!A&&a.jsx("span",{className:"text-red-500",children:"*"}),A&&a.jsx("span",{className:"text-gray-400 text-xs",children:"(joriyni saqlash uchun bo'sh qoldiring)"})]}),a.jsx("input",{type:"password",value:E.password,onChange:m=>g({...E,password:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",required:!A,minLength:8})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ma'lumot"}),a.jsx("textarea",{value:E.bio,onChange:m=>g({...E,bio:m.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500",placeholder:"O'qituvchi haqida qisqacha ma'lumot..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:()=>{q(!1),L()},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Bekor qilish"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium",children:A?"Saqlash":"O'qituvchi yaratish"})]})]})}),a.jsx(Tc,{isOpen:Y,onClose:()=>{V(!1),Q(null)},onConfirm:de,title:"O'qituvchini o'chirish",message:`Haqiqatan ham ${A?.user?.first_name} ${A?.user?.last_name}ni o'chirmoqchimisiz? Bu amalni ortga qaytarib bo'lmaydi.`,confirmText:"O'chirish",confirmColor:"red"})]})}const li=c=>c==null?"-":Number(c).toFixed(1);function Yh(){const[c,h]=p.useState([]),[j,o]=p.useState([]),[_,q]=p.useState(!0),[Y,V]=p.useState(""),[A,Q]=p.useState(""),[k,S]=p.useState(new Date().toISOString().split("T")[0]),[H,K]=p.useState(""),[w,O]=p.useState(!1),[Z,D]=p.useState("daily");p.useEffect(()=>{le()},[]),p.useEffect(()=>{E()},[k,Z,H]);const le=async()=>{try{const B=await vt.getAll();o(B.data.results||B.data||[])}catch{console.error("Failed to fetch groups")}},E=async()=>{q(!0);try{let B;const ae=H||null;Z==="daily"?B=await Ct.getByDate(k,ae):Z==="weekly"?B=await Ct.getWeekly(ae):Z==="monthly"&&(B=await Ct.getMonthly(ae)),h(B.data.results||B.data||[])}catch{V("Reytingni yuklashda xatolik")}finally{q(!1)}},g=async()=>{O(!0),V("");try{const B=H?parseInt(H,10):null;await Ct.calculate(k,B),Q("Reyting muvaffaqiyatli hisoblandi!"),E(),setTimeout(()=>Q(""),3e3)}catch(B){V(B.response?.data?.message||"Reytingni hisoblashda xatolik")}finally{O(!1)}},J=B=>{switch(B){case 1:return"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-lg shadow-yellow-200";case 2:return"bg-gradient-to-r from-slate-300 to-slate-400 text-slate-800 shadow-lg shadow-slate-200";case 3:return"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-200";default:return"bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-800 border border-blue-100"}},L=B=>{switch(B){case 1:return"1st";case 2:return"2nd";case 3:return"3rd";default:return B}};return a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Reyting"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Kunlik talabalar reytingini ko'rish va boshqarish"})]})}),Y&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg",children:[Y,a.jsx("button",{onClick:()=>V(""),className:"float-right text-red-400 hover:text-red-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:A}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-2 mb-6",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>D("daily"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${Z==="daily"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Kunlik"}),a.jsx("button",{onClick:()=>D("weekly"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${Z==="weekly"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Haftalik"}),a.jsx("button",{onClick:()=>D("monthly"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${Z==="monthly"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Oylik"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Guruh bo'yicha filtr"}),a.jsxs("select",{value:H,onChange:B=>K(B.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Barcha guruhlar"}),j.map(B=>a.jsx("option",{value:String(B.id),children:B.name},B.id))]})]})})}),Z==="daily"&&a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sanani tanlang"}),a.jsx("input",{type:"date",value:k,onChange:B=>S(B.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})}),a.jsx("button",{onClick:g,disabled:w,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center space-x-2 disabled:opacity-50",children:w?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Hisoblanmoqda..."})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),a.jsx("span",{children:"Hisoblash"})]})})]})}),Z!=="daily"&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:a.jsx("p",{className:"text-blue-700 text-sm",children:Z==="weekly"?"Oxirgi 7 kunlik baholar asosida reyting ko'rsatilmoqda.":"Oxirgi 30 kunlik baholar asosida reyting ko'rsatilmoqda."})}),c.length>=3&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"md:mt-8",children:a.jsxs("div",{className:"bg-gradient-to-br from-gray-200 to-gray-300 rounded-xl shadow-lg p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-white flex items-center justify-center text-2xl font-bold text-gray-600 mb-4",children:"2nd"}),a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:c[1]?.student_name}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Talaba ID: ",c[1]?.student_id]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-800",children:li(c[1]?.average_score)}),a.jsx("span",{className:"text-gray-500 ml-1",children:"o'rtacha"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[c[1]?.total_ratings," baholar"]})]})}),a.jsx("div",{className:"md:-mt-4",children:a.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 to-yellow-500 rounded-xl shadow-2xl p-6 text-center relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-yellow-300/30 rounded-full -mr-10 -mt-10"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-16 bg-yellow-300/30 rounded-full -ml-8 -mb-8"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 mx-auto rounded-full bg-white flex items-center justify-center text-3xl font-bold text-yellow-500 mb-4 shadow-lg",children:"1st"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:c[0]?.student_name}),a.jsxs("p",{className:"text-sm text-yellow-100 mt-1",children:["Talaba ID: ",c[0]?.student_id]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-5xl font-bold text-white",children:li(c[0]?.average_score)}),a.jsx("span",{className:"text-yellow-100 ml-1",children:"o'rtacha"})]}),a.jsxs("p",{className:"text-sm text-yellow-100 mt-2",children:[c[0]?.total_ratings," baholar"]})]})]})}),a.jsx("div",{className:"md:mt-8",children:a.jsxs("div",{className:"bg-gradient-to-br from-amber-600 to-amber-700 rounded-xl shadow-lg p-6 text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-white flex items-center justify-center text-2xl font-bold text-amber-600 mb-4",children:"3rd"}),a.jsx("h3",{className:"text-lg font-bold text-white",children:c[2]?.student_name}),a.jsxs("p",{className:"text-sm text-amber-100 mt-1",children:["Talaba ID: ",c[2]?.student_id]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("span",{className:"text-4xl font-bold text-white",children:li(c[2]?.average_score)}),a.jsx("span",{className:"text-amber-100 ml-1",children:"o'rtacha"})]}),a.jsxs("p",{className:"text-sm text-amber-100 mt-2",children:[c[2]?.total_ratings," baholar"]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"To'liq reyting"})}),_?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):c.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Bu sana uchun reyting mavjud emas"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'"Hisoblash" tugmasini bosib reytingni yarating'})]}):a.jsx("div",{className:"space-y-2 p-4",children:c.map(B=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all ${J(B.rank)}`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold text-lg ${B.rank===1?"bg-white/30 text-white":B.rank===2?"bg-white/50 text-slate-700":B.rank===3?"bg-white/30 text-white":"bg-blue-100 text-blue-600"}`,children:L(B.rank)}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:B.student_name}),a.jsxs("p",{className:`text-sm ${B.rank<=3?"opacity-80":"text-gray-500"}`,children:["ID: ",B.student_id," | ",B.total_ratings," baholar",B.group_details&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-indigo-100 text-indigo-700 rounded",children:B.group_details.name})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold",children:li(B.average_score)}),a.jsx("p",{className:`text-xs ${B.rank<=3?"opacity-80":"text-gray-500"}`,children:"o'rtacha ball"})]})]},B.id))})]})]})})}function Vh(){const{user:c}=nl();ea();const[h,j]=p.useState([]),[o,_]=p.useState(null),[q,Y]=p.useState([]),[V,A]=p.useState([]),[Q,k]=p.useState([]),[S,H]=p.useState({totalGroups:0,totalStudents:0,pendingReview:0,ratedToday:0}),[K,w]=p.useState(!0),[O,Z]=p.useState(!1);p.useEffect(()=>{D()},[]),p.useEffect(()=>{o&&le(o.id)},[o]);const D=async()=>{try{const[E,g,J,L]=await Promise.all([vt.getAll(),Dl.getAll(),ni.getAll(),Ct.getToday()]),B=E.data.results||E.data||[],ae=g.data.results||g.data||[],Le=J.data.results||J.data||[],de=L.data||[];j(B),B.length>0&&_(B[0]);const G=new Date().toISOString().split("T")[0],I=Le.filter(ce=>ce.rating_date===G),Se=B.reduce((ce,m)=>ce+(m.student_count||0),0),ze=ae.filter(ce=>ce.status==="SUBMITTED");H({totalGroups:B.length,totalStudents:Se,pendingReview:ze.length,ratedToday:I.length}),A(ze.slice(0,5)),k(de.slice(0,3))}catch(E){console.error("Failed to fetch dashboard data:",E)}finally{w(!1)}},le=async E=>{Z(!0);try{const g=await Pl.getAll(),L=(g.data.results||g.data||[]).filter(B=>B.group===E);Y(L)}catch(g){console.error("Failed to fetch lessons:",g)}finally{Z(!1)}};return K?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})}):a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-teal-600 rounded-xl shadow-lg p-6 text-white mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",c?.first_name||"Teacher","!"]}),a.jsx("p",{className:"text-green-100 mt-1",children:"Ready to review and inspire your students today?"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-100",children:"My Groups"}),a.jsx("p",{className:"text-3xl font-bold",children:S.totalGroups})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-100",children:"Total Students"}),a.jsx("p",{className:"text-3xl font-bold",children:S.totalStudents})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-100",children:"Pending Review"}),a.jsx("p",{className:"text-3xl font-bold",children:S.pendingReview})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-100",children:"Rated Today"}),a.jsx("p",{className:"text-3xl font-bold",children:S.ratedToday})]})]})]}),h.length===0&&a.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"font-medium",children:"You are not assigned to any groups yet."})]}),a.jsx("p",{className:"text-sm mt-1 ml-7",children:"Please contact the administrator to be assigned to groups."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"My Groups"}),h.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No groups assigned"})]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:h.map(E=>a.jsxs("div",{onClick:()=>_(E),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${o?.id===E.id?"border-green-500 bg-green-50":"border-gray-200 hover:border-green-300 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:E.name}),o?.id===E.id&&a.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded-full",children:"Selected"})]}),a.jsx("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})}),E.student_count||0," students"]})}),E.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-2 line-clamp-1",children:E.description})]},E.id))})]}),o&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800",children:["Lessons for ",o.name]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[q.length," lessons"]})]}),O?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):q.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No lessons for this group yet"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Ask the administrator to create lessons"})]}):a.jsx("div",{className:"space-y-3",children:q.map(E=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:E.title}),E.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:E.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[E.start_date&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(E.start_date).toLocaleDateString()]}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${E.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:E.is_active?"Active":"Inactive"})]})]}),a.jsx(pt,{to:"/teacher/homework",className:"ml-4 px-3 py-1.5 text-sm bg-green-100 text-green-700 hover:bg-green-200 rounded-lg font-medium",children:"View Submissions"})]})},E.id))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pending Reviews"}),a.jsx(pt,{to:"/teacher/homework",className:"text-sm text-green-600 hover:text-green-700",children:"View all"})]}),V.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"All caught up!"})]}):a.jsx("div",{className:"space-y-3",children:V.map(E=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-gray-900 truncate text-sm",children:E.student_details?.user?.first_name||E.student_name||"Student"}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:E.lesson_details?.title||E.lesson_title})]}),a.jsx(pt,{to:"/teacher/homework",className:"ml-2 px-2 py-1 bg-green-600 hover:bg-green-700 text-white text-xs rounded",children:"Review"})]},E.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Top Students"}),a.jsx(pt,{to:"/teacher/leaderboard",className:"text-sm text-green-600 hover:text-green-700",children:"Rankings"})]}),Q.length===0?a.jsxs("div",{className:"text-center py-6",children:[a.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"No rankings yet"})]}):a.jsx("div",{className:"space-y-2",children:Q.map((E,g)=>a.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg ${g===0?"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white":g===1?"bg-gradient-to-r from-gray-300 to-gray-400 text-gray-800":"bg-gradient-to-r from-amber-600 to-amber-700 text-white"}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-lg font-bold",children:g+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-sm",children:E.student_name||E.student_details?.user?.first_name}),a.jsxs("p",{className:"text-xs opacity-80",children:[E.total_ratings," ratings"]})]})]}),a.jsx("div",{className:"text-xl font-bold",children:E.average_score})]},E.id))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(pt,{to:"/teacher/homework",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Review Homework"})]}),a.jsxs(pt,{to:"/teacher/ratings",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-3",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"My Ratings"})]}),a.jsxs(pt,{to:"/teacher/leaderboard",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Leaderboard"})]})]})]})]})]})]})})}const H0=c=>c?!c.includes("Z")&&!c.includes("+")?new Date(c+"Z"):new Date(c):null;function Qh({lessonId:c,onClose:h}){const{user:j}=nl(),[o,_]=p.useState(null),[q,Y]=p.useState(!0),[V,A]=p.useState(!1),[Q,k]=p.useState(""),[S,H]=p.useState(""),[K,w]=p.useState("total");p.useEffect(()=>{c&&O()},[c]);const O=async()=>{try{const g=await Pl.getSubmissionStats(c);_(g.data)}catch(g){k("Failed to load submission statistics"),console.error(g)}finally{Y(!1)}},Z=async()=>{if(window.confirm("This will automatically rate all students who did not submit with a score of 0. Continue?")){A(!0),k("");try{const g=await Pl.autoRateMissing(c);H(g.data.message),O(),setTimeout(()=>H(""),3e3)}catch(g){const J=g.response?.data?.error||"Failed to auto-rate students";k(J)}finally{A(!1)}}};if(q)return a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!o)return a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500",children:"No data available"})});const D=j?.is_teacher||j?.is_admin,le=j?.is_student;let E=null;if(le){const g=o.submitted_students.findIndex(J=>J.username===j.username);g!==-1&&(E={position:g+1,...o.submitted_students[g]})}return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o.lesson.title}),a.jsx("p",{className:"text-gray-500 mt-1",children:le?"Your Ranking":"Submission Statistics"}),o.lesson.deadline&&a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("svg",{className:`w-5 h-5 ${o.lesson.is_deadline_passed?"text-red-500":"text-orange-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:o.lesson.is_deadline_passed?"text-red-600 font-medium":"text-orange-600",children:["Deadline: ",H0(o.lesson.deadline).toLocaleDateString()," at ",H0(o.lesson.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),o.lesson.is_deadline_passed&&a.jsx("span",{className:"ml-1",children:"(Passed)"})]})]})]}),Q&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg",children:Q}),S&&a.jsx("div",{className:"p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:S}),le?a.jsx("div",{children:E?a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Your Ranking for this Lesson"}),a.jsxs("div",{className:"flex items-center justify-center gap-6",children:[a.jsxs("div",{className:"flex items-center justify-center w-20 h-20 rounded-full bg-purple-600 text-white text-3xl font-bold shadow-lg",children:["#",E.position]}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Your Score"}),a.jsxs("div",{className:`text-5xl font-bold ${E.score>=8?"text-green-600":E.score>=5?"text-yellow-600":"text-red-600"}`,children:[E.score,"/10"]})]})]}),E.rating?.comment&&a.jsxs("div",{className:"mt-6 p-4 bg-white rounded-lg border text-left shadow-sm",children:[a.jsx("p",{className:"font-medium text-gray-700 text-sm",children:"Teacher Feedback:"}),a.jsx("p",{className:"text-gray-600 mt-2",children:E.rating.comment})]})]})}):a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-8 text-center",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("p",{className:"mt-4 text-yellow-800 font-medium text-lg",children:"You haven't submitted yet"}),a.jsx("p",{className:"mt-2 text-yellow-600 text-sm",children:"Submit your homework to see your ranking"})]})}):a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-blue-600 text-3xl font-bold",children:o.total_students}),a.jsx("p",{className:"text-blue-800 text-sm mt-1",children:"Total Students"})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-green-600 text-3xl font-bold",children:o.submitted_count}),a.jsx("p",{className:"text-green-800 text-sm mt-1",children:"Submitted"})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-orange-600 text-3xl font-bold",children:o.missed_count||0}),a.jsx("p",{className:"text-orange-800 text-sm mt-1",children:"Missed Deadline"})]}),a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[a.jsx("p",{className:"text-gray-600 text-3xl font-bold",children:o.not_submitted_count}),a.jsx("p",{className:"text-gray-800 text-sm mt-1",children:"Pending"})]})]}),D&&o.lesson.is_deadline_passed&&(o.missed_count>0||o.not_submitted_count>0)&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Students who missed the deadline are shown with 0 score in rankings. Click below to save these 0 ratings permanently to the database."}),a.jsx("button",{onClick:Z,disabled:V,className:"w-full px-4 py-3 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white rounded-lg font-medium flex items-center justify-center gap-2",children:V?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Save 0 Ratings to Database"]})})]}),D&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-gray-200 mt-6",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("button",{onClick:()=>w("total"),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${K==="total"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Total Students (",o.total_students,")"]}),a.jsxs("button",{onClick:()=>w("submitted"),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${K==="submitted"?"border-green-600 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Submitted (",o.submitted_count,")"]}),a.jsxs("button",{onClick:()=>w("not-submitted"),className:`pb-3 px-1 border-b-2 font-medium text-sm transition-colors ${K==="not-submitted"?"border-red-600 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Not Submitted (",o.not_submitted_count+(o.missed_count||0),")"]})]})}),K==="total"&&a.jsx("div",{children:o.submitted_students.length===0&&o.not_submitted_students.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),a.jsx("p",{className:"mt-4 text-gray-500",children:"No students in this group"})]}):a.jsxs("div",{className:"space-y-2",children:[o.submitted_students.map((g,J)=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-sm font-medium text-blue-600",children:J+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.username})]})]}),a.jsx("div",{className:"flex items-center gap-4",children:g.rating?a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("div",{className:`px-3 py-2 rounded-lg text-center ${g.score>=8?"bg-green-100":g.score>=5?"bg-yellow-100":"bg-red-100"}`,children:a.jsxs("p",{className:`text-2xl font-bold ${g.score>=8?"text-green-700":g.score>=5?"text-yellow-700":"text-red-700"}`,children:[g.score,"/10"]})}),g.status==="MISSED"&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded font-medium",children:"Missed Deadline"})]}):a.jsx("span",{className:"px-3 py-1 text-sm bg-yellow-100 text-yellow-700 rounded-full",children:"Not Rated Yet"})})]}),a.jsxs("div",{className:"mt-3 pl-11 space-y-2",children:[g.status==="MISSED"&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"No submission - Deadline passed"}),g.submission_url&&a.jsxs("a",{href:g.submission_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-blue-600 hover:text-blue-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),g.submission_url.length>50?g.submission_url.substring(0,50)+"...":g.submission_url]}),g.submission_file&&a.jsxs("a",{href:g.submission_file,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-purple-600 hover:text-purple-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"View uploaded file"]}),g.submitted_at&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Submitted: ",new Date(g.submitted_at).toLocaleString()]}),g.rating?.comment&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Teacher Feedback:"}),a.jsx("p",{className:"text-gray-600 mt-1",children:g.rating.comment})]})]})]},g.id)),o.not_submitted_students.map((g,J)=>a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-500",children:o.submitted_students.length+J+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.username})]})]}),a.jsx("span",{className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-full",children:"Not Submitted"})]})},g.id))]})}),K==="submitted"&&a.jsx("div",{children:o.submitted_students.filter(g=>g.status!=="MISSED").length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"mt-4 text-gray-500",children:"No submissions yet"})]}):a.jsx("div",{className:"space-y-2",children:o.submitted_students.filter(g=>g.status!=="MISSED").map((g,J)=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-sm font-medium text-gray-600",children:J+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.username})]})]}),a.jsx("div",{className:"flex items-center gap-4",children:g.rating?a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("div",{className:`px-3 py-2 rounded-lg text-center ${g.score>=8?"bg-green-100":g.score>=5?"bg-yellow-100":"bg-red-100"}`,children:a.jsxs("p",{className:`text-2xl font-bold ${g.score>=8?"text-green-700":g.score>=5?"text-yellow-700":"text-red-700"}`,children:[g.score,"/10"]})}),g.status==="MISSED"&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded font-medium",children:"Missed Deadline"})]}):a.jsx("span",{className:"px-3 py-1 text-sm bg-yellow-100 text-yellow-700 rounded-full",children:"Not Rated Yet"})})]}),a.jsxs("div",{className:"mt-3 pl-11 space-y-2",children:[g.status==="MISSED"&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:"No submission - Deadline passed"}),g.submission_url&&a.jsxs("a",{href:g.submission_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-blue-600 hover:text-blue-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),g.submission_url.length>50?g.submission_url.substring(0,50)+"...":g.submission_url]}),g.submission_file&&a.jsxs("a",{href:g.submission_file,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-sm text-purple-600 hover:text-purple-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"View uploaded file"]}),g.submitted_at&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Submitted: ",new Date(g.submitted_at).toLocaleString()]}),g.rating?.comment&&a.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Teacher Feedback:"}),a.jsx("p",{className:"text-gray-600 mt-1",children:g.rating.comment})]})]})]},g.id))})}),K==="not-submitted"&&a.jsx("div",{children:o.submitted_students.filter(g=>g.status==="MISSED").length===0&&o.not_submitted_students.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("p",{className:"mt-4 text-green-600 font-medium",children:"All students have submitted!"})]}):a.jsxs("div",{className:"space-y-2",children:[o.submitted_students.filter(g=>g.status==="MISSED").map((g,J)=>a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center text-sm font-medium text-red-600",children:J+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.username})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("div",{className:"px-3 py-2 bg-red-100 rounded-lg text-center",children:a.jsx("p",{className:"text-2xl font-bold text-red-700",children:"0/10"})}),a.jsx("span",{className:"px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded font-medium",children:"Missed Deadline"})]})]})},g.id)),o.not_submitted_students.map((g,J)=>a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-500",children:o.submitted_students.filter(L=>L.status==="MISSED").length+J+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.username})]})]}),a.jsx("span",{className:"px-3 py-1 text-sm bg-gray-200 text-gray-700 rounded-full font-medium",children:"Pending"})]})},g.id))]})})]})]})}const zc=c=>c?!c.includes("Z")&&!c.includes("+")?new Date(c+"Z"):new Date(c):null;function Xh(){const[c,h]=p.useState([]),[j,o]=p.useState(null),[_,q]=p.useState([]),[Y,V]=p.useState(!0),[A,Q]=p.useState(!1),[k,S]=p.useState(!1),[H,K]=p.useState(!1),[w,O]=p.useState(null),[Z,D]=p.useState(null),[le,E]=p.useState(!1),[g,J]=p.useState(""),[L,B]=p.useState(""),[ae,Le]=p.useState(1),de=5,[G,I]=p.useState({title:"",description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",deadline:"",homework_task:"",homework_image:null,allow_file_upload:!0,allow_url_submission:!0,is_active:!0});p.useEffect(()=>{Se()},[]),p.useEffect(()=>{j&&ze(j.id)},[j]);const Se=async()=>{try{const T=await vt.getAll(),re=T.data.results||T.data||[];h(re),re.length>0&&o(re[0])}catch{J("Failed to fetch groups")}finally{V(!1)}},ze=async T=>{Q(!0);try{const re=await Pl.getAll(),Ke=(re.data.results||re.data||[]).filter(yt=>yt.group===T);q(Ke)}catch(re){console.error("Failed to fetch lessons:",re)}finally{Q(!1)}},ce=()=>{I({title:"",description:"",start_date:new Date().toISOString().split("T")[0],end_date:"",deadline:"",homework_task:"",homework_image:null,allow_file_upload:!0,allow_url_submission:!0,is_active:!0}),D(null)},m=()=>{ce(),S(!0)},U=T=>{D(T);let re="";if(T.deadline){const je=zc(T.deadline),Ke=je.getFullYear(),yt=String(je.getMonth()+1).padStart(2,"0"),X=String(je.getDate()).padStart(2,"0"),ye=String(je.getHours()).padStart(2,"0"),Bt=String(je.getMinutes()).padStart(2,"0");re=`${Ke}-${yt}-${X}T${ye}:${Bt}`}I({title:T.title||"",description:T.description||"",start_date:T.start_date||new Date().toISOString().split("T")[0],end_date:T.end_date||"",deadline:re,homework_task:T.homework_task||"",homework_image:null,allow_file_upload:T.allow_file_upload??!0,allow_url_submission:T.allow_url_submission??!0,is_active:T.is_active??!0}),S(!0)},$=async T=>{if(T.preventDefault(),J(""),E(!0),!G.title.trim()){J("Title is required"),E(!1);return}try{let re=null;G.deadline&&(re=new Date(G.deadline).toISOString());const je={title:G.title,description:G.description,start_date:G.start_date||null,end_date:G.end_date||null,deadline:re,homework_task:G.homework_task,homework_image:G.homework_image,allow_file_upload:G.allow_file_upload,allow_url_submission:G.allow_url_submission,is_active:G.is_active,group:j.id};Z?(await Pl.update(Z.id,je),B("Lesson updated successfully!")):(await Pl.create(je),B("Lesson created successfully!")),S(!1),ce(),ze(j.id),setTimeout(()=>B(""),3e3)}catch(re){const je=re.response?.data;if(je){const Ke=Object.entries(je).map(([yt,X])=>`${yt}: ${Array.isArray(X)?X.join(", "):X}`).join(`
`);J(Ke||"Failed to save lesson")}else J("Failed to save lesson")}finally{E(!1)}};if(Y)return a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})})});const ue=ae*de,R=ue-de,se=_.slice(R,ue),oe=Math.ceil(_.length/de);return a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Groups"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your groups and lessons"})]}),g&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg whitespace-pre-line",children:[g,a.jsx("button",{onClick:()=>J(""),className:"float-right text-red-400 hover:text-red-600",children:""})]}),L&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:L}),c.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No groups assigned"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"You are not assigned to any groups yet. Please contact the administrator."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Groups"}),a.jsx("div",{className:"space-y-2",children:c.map(T=>a.jsxs("button",{onClick:()=>o(T),className:`w-full text-left p-3 rounded-lg transition-all ${j?.id===T.id?"bg-green-100 border-2 border-green-500 text-green-800":"bg-gray-50 border-2 border-transparent hover:bg-gray-100"}`,children:[a.jsx("p",{className:"font-medium",children:T.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[T.student_count||0," students"]})]},T.id))})]})}),a.jsx("div",{className:"lg:col-span-3",children:j&&a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:j.name}),a.jsx("p",{className:"text-gray-500",children:"Lessons and homework tasks"})]}),a.jsxs("button",{onClick:m,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Lesson"]})]}),A?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-green-600"})}):_.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No lessons yet"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Create your first lesson for this group"}),a.jsx("button",{onClick:m,className:"mt-4 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium",children:"Create Lesson"})]}):a.jsxs("div",{className:"space-y-4",children:[se.map(T=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:T.title}),a.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${T.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:T.is_active?"Active":"Inactive"})]}),T.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:T.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(T.start_date).toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center gap-1",children:[T.allow_url_submission&&a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"URL"}),T.allow_file_upload&&a.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"File"})]})]}),T.deadline&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[a.jsx("svg",{className:`w-4 h-4 ${T.is_deadline_passed?"text-red-500":"text-orange-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:T.is_deadline_passed?"text-red-600 font-medium":"text-orange-600",children:["Deadline: ",zc(T.deadline).toLocaleDateString()," at ",zc(T.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),T.is_deadline_passed&&a.jsx("span",{className:"ml-1 text-xs",children:"(Passed)"})]})]})]}),a.jsxs("div",{className:"ml-4 flex flex-col gap-2",children:[a.jsx("button",{onClick:()=>U(T),className:"px-3 py-1.5 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium",children:"Edit"}),a.jsx("button",{onClick:()=>{O(T.id),K(!0)},className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"View Submissions"})]})]}),T.homework_task&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-yellow-800 mb-1",children:"Homework Task:"}),a.jsx("p",{className:"text-sm text-yellow-900",children:T.homework_task})]}),T.homework_image&&a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Task Image:"}),a.jsx("img",{src:T.homework_image,alt:"Homework task",className:"max-h-40 rounded-lg border"})]})]},T.id)),_.length>de&&a.jsx("div",{className:"mt-6",children:a.jsx(ta,{currentPage:ae,totalPages:oe,onPageChange:Le,itemsPerPage:de,totalItems:_.length})})]})]})})]}),k&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:Z?"Edit Lesson":"Create New Lesson"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:Z?"Update lesson details and homework task":"Add a new lesson with homework task for "+j?.name})]}),a.jsxs("form",{onSubmit:$,className:"p-6 space-y-5",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Lesson Title ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:G.title,onChange:T=>I({...G,title:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"e.g., Introduction to React Hooks",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",value:G.start_date,onChange:T=>I({...G,start_date:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date (Optional)"}),a.jsx("input",{type:"date",value:G.end_date,onChange:T=>I({...G,end_date:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Homework Deadline",a.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(Date & Time)"})]}),a.jsx("input",{type:"datetime-local",value:G.deadline,onChange:T=>I({...G,deadline:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Students who don't submit before this deadline will automatically receive a score of 0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lesson Description (Optional)"}),a.jsx("textarea",{value:G.description,onChange:T=>I({...G,description:T.target.value}),rows:2,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Brief description of the lesson..."})]}),a.jsxs("div",{className:"border-t pt-5",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Homework Task"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Description"}),a.jsx("textarea",{value:G.homework_task,onChange:T=>I({...G,homework_task:T.target.value}),rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Describe what students should do for this homework assignment..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Image (Optional)"}),a.jsx("div",{className:"mt-1 flex items-center gap-4",children:a.jsxs("label",{className:"flex-1 flex justify-center px-6 py-4 border-2 border-gray-300 border-dashed rounded-lg hover:border-green-400 cursor-pointer transition-colors",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"mt-1 text-sm text-gray-600",children:G.homework_image?G.homework_image.name:"Click to upload image"})]}),a.jsx("input",{type:"file",accept:"image/*",className:"sr-only",onChange:T=>I({...G,homework_image:T.target.files[0]})})]})}),Z?.homework_image&&!G.homework_image&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current image:"}),a.jsx("img",{src:Z.homework_image,alt:"Current task",className:"h-20 rounded border"})]})]})]})]}),a.jsxs("div",{className:"border-t pt-5",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Submission Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:G.allow_url_submission,onChange:T=>I({...G,allow_url_submission:T.target.checked}),className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Allow URL Submission"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Students can submit links (GitHub, Drive, etc.)"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:G.allow_file_upload,onChange:T=>I({...G,allow_file_upload:T.target.checked}),className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Allow File Upload"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Students can upload files (PDF, ZIP, etc.)"})]})]}),a.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:G.is_active,onChange:T=>I({...G,is_active:T.target.checked}),className:"w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800",children:"Active Lesson"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Students can see and submit homework for this lesson"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[a.jsx("button",{type:"button",onClick:()=>{S(!1),ce()},className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:le,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium disabled:opacity-50 flex items-center",children:le?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):Z?"Update Lesson":"Create Lesson"})]})]})]})}),a.jsx(Ga,{isOpen:H,onClose:()=>{K(!1),O(null)},title:"Lesson Submissions",size:"2xl",children:w&&a.jsx(Qh,{lessonId:w,onClose:()=>{K(!1),O(null)}})})]})})}function U0({value:c,onChange:h,readonly:j=!1,size:o="lg"}){const[_,q]=p.useState(null),Y=[1,2,3,4,5],V=_!==null?_:c,A={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-10 h-10"},Q=(H,K)=>{if(j)return;const w=K?H*2-1:H*2;h(w)},k=(H,K)=>{if(j)return;const w=H.currentTarget.getBoundingClientRect(),Z=H.clientX-w.left<w.width/2;q(Z?K*2-1:K*2)},S=H=>{const K=H*2;return V>=K?"full":V>=K-1?"half":"empty"};return a.jsx("div",{className:"flex items-center space-x-1",onMouseLeave:()=>q(null),children:Y.map(H=>{const K=S(H);return a.jsxs("div",{className:`relative ${j?"":"cursor-pointer"}`,onMouseMove:w=>k(w,H),onClick:w=>{const O=w.currentTarget.getBoundingClientRect(),D=w.clientX-O.left<O.width/2;Q(H,D)},children:[a.jsx("svg",{className:`${A[o]} text-gray-300`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:K==="full"?"100%":K==="half"?"50%":"0%"},children:a.jsx("svg",{className:`${A[o]} text-yellow-400`,fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]},H)})})}const R0=c=>c==null?"-":Number(c).toFixed(1);function Zh(){const[c,h]=p.useState([]),[j,o]=p.useState(!0),[_,q]=p.useState("SUBMITTED"),[Y,V]=p.useState(!1),[A,Q]=p.useState(null),[k,S]=p.useState(5),[H,K]=p.useState(""),[w,O]=p.useState(""),[Z,D]=p.useState(""),[le,E]=p.useState(!1),[g,J]=p.useState(1),L=5;p.useEffect(()=>{B()},[]);const B=async()=>{try{const m=await Dl.getAll();h(m.data.results||m.data||[])}catch(m){console.error("Failed to fetch homeworks:",m)}finally{o(!1)}},ae=m=>{Q(m),S(5),K(""),V(!0)},Le=async m=>{m.preventDefault(),O(""),E(!0);try{await ni.create({homework:A.id,score:k,comment:H}),V(!1),D("Rating submitted successfully!"),B(),setTimeout(()=>D(""),3e3)}catch(U){const $=U.response?.data;if($){const ue=Object.entries($).map(([R,se])=>`${R}: ${Array.isArray(se)?se.join(", "):se}`).join(`
`);O(ue||"Failed to submit rating")}else O("Failed to submit rating")}finally{E(!1)}},de=c.filter(m=>_==="all"?!0:m.status===_),G=g*L,I=G-L,Se=de.slice(I,G),ze=Math.ceil(de.length/L),ce={total:c.length,submitted:c.filter(m=>m.status==="SUBMITTED").length,rated:c.filter(m=>m.status==="RATED").length};return a.jsxs(He,{children:[a.jsxs("div",{className:"p-6 lg:p-8 max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Student Submissions"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Review and rate homework from your students"})]}),w&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 text-red-700 rounded-r-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("p",{className:"whitespace-pre-line",children:w}),a.jsx("button",{onClick:()=>O(""),className:"text-red-500 hover:text-red-700",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),Z&&a.jsx("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 text-green-700 rounded-r-lg",children:Z}),a.jsxs("div",{className:"flex space-x-2 mb-8 bg-gray-100 p-1 rounded-xl w-fit",children:[a.jsxs("button",{onClick:()=>q("all"),className:`px-6 py-2.5 rounded-lg font-medium transition-all ${_==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["All ",a.jsxs("span",{className:"ml-1 text-sm opacity-70",children:["(",ce.total,")"]})]}),a.jsxs("button",{onClick:()=>q("SUBMITTED"),className:`px-6 py-2.5 rounded-lg font-medium transition-all ${_==="SUBMITTED"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Pending ",a.jsxs("span",{className:"ml-1 text-sm opacity-70",children:["(",ce.submitted,")"]})]}),a.jsxs("button",{onClick:()=>q("RATED"),className:`px-6 py-2.5 rounded-lg font-medium transition-all ${_==="RATED"?"bg-white text-green-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Rated ",a.jsxs("span",{className:"ml-1 text-sm opacity-70",children:["(",ce.rated,")"]})]})]}),j?a.jsx("div",{className:"flex justify-center py-16",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-green-600"})}):de.length===0?a.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-sm",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("p",{className:"text-gray-500 text-lg",children:"No submissions found"}),a.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Check back later for new submissions"})]}):a.jsx("div",{className:"grid gap-6",children:Se.map(m=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-100",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-xl shadow-lg",children:m.student_details?.user?.first_name?.[0]||"S"}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[m.student_details?.user?.first_name," ",m.student_details?.user?.last_name]}),a.jsx("p",{className:"text-sm text-gray-500",children:m.lesson_details?.title})]})]}),a.jsx("div",{className:"text-right",children:m.status==="RATED"&&m.rating?a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx(U0,{value:m.rating.score,readonly:!0,size:"sm"}),a.jsx("span",{className:"text-2xl font-bold text-gray-900 mt-1",children:R0(m.rating.score)})]}):m.status==="SUBMITTED"?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-700",children:[a.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse"}),"Awaiting Review"]}):a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-yellow-100 text-yellow-700",children:"Pending"})})]})}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"ID: ",m.student_details?.student_id]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),new Date(m.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),m.description&&a.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase mb-1",children:"Student Notes"}),a.jsx("p",{className:"text-gray-700",children:m.description})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[m.submission_url&&a.jsxs("a",{href:m.submission_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg text-sm font-medium transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Submission"]}),m.submission_file&&a.jsxs("a",{href:m.submission_file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-purple-50 text-purple-600 hover:bg-purple-100 rounded-lg text-sm font-medium transition-colors",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download File"]})]}),m.status==="RATED"&&m.rating?.comment&&a.jsxs("div",{className:"p-4 bg-green-50 border border-green-100 rounded-xl",children:[a.jsx("p",{className:"text-xs font-medium text-green-600 uppercase mb-2",children:"Your Feedback"}),a.jsx("p",{className:"text-green-800",children:m.rating.comment})]}),m.status!=="RATED"&&(m.submission_url||m.submission_file)&&a.jsxs("button",{onClick:()=>ae(m),className:"w-full mt-4 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl font-medium transition-all shadow-sm hover:shadow-md flex items-center justify-center space-x-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),a.jsx("span",{children:"Rate This Submission"})]})]})]},m.id))}),!j&&de.length>L&&a.jsx("div",{className:"mt-6",children:a.jsx(ta,{currentPage:g,totalPages:ze,onPageChange:J,itemsPerPage:L,totalItems:de.length})})]}),a.jsx(Ga,{isOpen:Y,onClose:()=>V(!1),title:"Rate Submission",size:"md",children:A&&a.jsxs("form",{onSubmit:Le,className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-xl",children:[a.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold",children:A.student_details?.user?.first_name?.[0]||"S"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[A.student_details?.user?.first_name," ",A.student_details?.user?.last_name]}),a.jsx("p",{className:"text-sm text-gray-500",children:A.lesson_details?.title})]})]}),a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-4",children:"Select Rating"}),a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(U0,{value:k,onChange:S,size:"xl"})}),a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:`text-4xl font-bold ${k>=8?"text-green-500":k>=5?"text-yellow-500":"text-red-500"}`,children:R0(k)}),a.jsx("span",{className:"text-gray-400 text-xl",children:"/10"})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:k>=9?"Outstanding!":k>=7?"Great work!":k>=5?"Good effort":k>=3?"Needs improvement":"Needs significant work"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Feedback for Student"}),a.jsx("textarea",{value:H,onChange:m=>K(m.target.value),rows:4,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none",placeholder:"Write helpful feedback for the student..."})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>V(!1),className:"flex-1 py-3 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-xl font-medium transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:le,className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl font-medium transition-all disabled:opacity-50",children:le?"Submitting...":"Submit Rating"})]})]})})]})}function Kh(){const[c,h]=p.useState([]),[j,o]=p.useState(!0),[_,q]=p.useState(""),[Y,V]=p.useState(1),A=5;p.useEffect(()=>{Q()},[]);const Q=async()=>{try{const O=await ni.getAll();h(O.data.results||O.data||[])}catch(O){console.error("Failed to fetch ratings:",O)}finally{o(!1)}},k=c.filter(O=>_?O.rating_date===_:!0),S={total:c.length,avgScore:c.length>0?(c.reduce((O,Z)=>O+Z.score,0)/c.length).toFixed(1):0,todayCount:c.filter(O=>O.rating_date===new Date().toISOString().split("T")[0]).length},H=Y*A,K=H-A,w=k.slice(K,H);return Math.ceil(k.length/A),a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Ratings"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View all ratings you have given"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Ratings"}),a.jsx("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:S.total})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Average Score Given"}),a.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:S.avgScore})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Rated Today"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:S.todayCount})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filter by Date:"}),a.jsx("input",{type:"date",value:_,onChange:O=>q(O.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"}),_&&a.jsx("button",{onClick:()=>q(""),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Clear"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:j?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):k.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No ratings found"})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:w.map(O=>a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center text-xl font-bold ${O.score>=8?"bg-green-100 text-green-600":O.score>=5?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:O.score}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:O.student_name}),a.jsx("p",{className:"text-sm text-gray-500",children:O.homework_details?.lesson_title}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(O.rating_date).toLocaleDateString()})]})]}),O.comment&&a.jsx("div",{className:"max-w-xs text-right",children:a.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',O.comment,'"']})})]})},O.id))})})]})})}const ai=c=>c==null?"-":Number(c).toFixed(1);function Jh(){const[c,h]=p.useState([]),[j,o]=p.useState(!0),[_,q]=p.useState(new Date().toISOString().split("T")[0]),[Y,V]=p.useState("daily");p.useEffect(()=>{A()},[_,Y]);const A=async()=>{o(!0);try{let k;Y==="daily"?k=await Ct.getByDate(_):Y==="weekly"?k=await Ct.getWeekly():Y==="monthly"&&(k=await Ct.getMonthly()),h(k.data.results||k.data||[])}catch(k){console.error("Failed to fetch leaderboard:",k)}finally{o(!1)}},Q=k=>{switch(k){case 1:return"bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-lg shadow-yellow-200";case 2:return"bg-gradient-to-r from-slate-300 to-slate-400 text-slate-800 shadow-lg shadow-slate-200";case 3:return"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-200";default:return"bg-gradient-to-r from-blue-50 to-indigo-50 text-gray-800 border border-blue-100"}};return a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Student Leaderboard"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View student rankings by date"})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-2 mb-6",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>V("daily"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${Y==="daily"?"bg-green-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Daily"}),a.jsx("button",{onClick:()=>V("weekly"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${Y==="weekly"?"bg-green-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Weekly"}),a.jsx("button",{onClick:()=>V("monthly"),className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${Y==="monthly"?"bg-green-600 text-white shadow-md":"text-gray-600 hover:bg-gray-100"}`,children:"Monthly"})]})}),Y==="daily"&&a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Select Date:"}),a.jsx("input",{type:"date",value:_,onChange:k=>q(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500"}),a.jsx("button",{onClick:()=>q(new Date().toISOString().split("T")[0]),className:"px-4 py-2 text-green-600 hover:bg-green-50 rounded-lg",children:"Today"})]})}),Y!=="daily"&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:a.jsx("p",{className:"text-green-700 text-sm",children:Y==="weekly"?"Showing rankings based on the last 7 days of ratings.":"Showing rankings based on the last 30 days of ratings."})}),!j&&c.length>=3&&a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[a.jsx("div",{className:"pt-8",children:a.jsxs("div",{className:`rounded-xl p-4 text-center ${Q(2)} shadow-lg`,children:[a.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-white flex items-center justify-center text-xl font-bold text-gray-600 mb-2",children:"2"}),a.jsx("h3",{className:"font-bold truncate",children:c[1]?.student_name}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:ai(c[1]?.average_score)}),a.jsxs("p",{className:"text-xs opacity-80",children:[c[1]?.total_ratings," ratings"]})]})}),a.jsx("div",{children:a.jsxs("div",{className:`rounded-xl p-4 text-center ${Q(1)} shadow-2xl`,children:[a.jsx("div",{className:"w-14 h-14 mx-auto rounded-full bg-white flex items-center justify-center text-2xl font-bold text-yellow-500 mb-2",children:"1"}),a.jsx("h3",{className:"font-bold truncate text-lg",children:c[0]?.student_name}),a.jsx("p",{className:"text-3xl font-bold mt-2",children:ai(c[0]?.average_score)}),a.jsxs("p",{className:"text-xs opacity-80",children:[c[0]?.total_ratings," ratings"]})]})}),a.jsx("div",{className:"pt-8",children:a.jsxs("div",{className:`rounded-xl p-4 text-center ${Q(3)} shadow-lg`,children:[a.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-white flex items-center justify-center text-xl font-bold text-amber-600 mb-2",children:"3"}),a.jsx("h3",{className:"font-bold truncate",children:c[2]?.student_name}),a.jsx("p",{className:"text-2xl font-bold mt-2",children:ai(c[2]?.average_score)}),a.jsxs("p",{className:"text-xs opacity-80",children:[c[2]?.total_ratings," ratings"]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"All Rankings"})}),j?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):c.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No rankings available for this date"})]}):a.jsx("div",{className:"space-y-2 p-4",children:c.map(k=>a.jsxs("div",{className:`flex items-center justify-between p-4 rounded-xl transition-all ${Q(k.rank)}`,children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${k.rank===1?"bg-white/30 text-white":k.rank===2?"bg-white/50 text-slate-700":k.rank===3?"bg-white/30 text-white":"bg-blue-100 text-blue-600"}`,children:k.rank}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:k.student_name}),a.jsxs("p",{className:`text-sm ${k.rank<=3?"opacity-80":"text-gray-500"}`,children:["ID: ",k.student_id," | ",k.total_ratings," ratings"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-2xl font-bold",children:ai(k.average_score)}),a.jsx("p",{className:`text-xs ${k.rank<=3?"opacity-80":"text-gray-500"}`,children:"avg"})]})]},k.id))})]})]})})}const G0=c=>c?!c.includes("Z")&&!c.includes("+")?new Date(c+"Z"):new Date(c):null;function Wh(){const{user:c}=nl(),h=ea(),[j,o]=p.useState({homeworks:0,ratings:0,avgScore:0,rank:null}),[_,q]=p.useState(null),[Y,V]=p.useState([]),[A,Q]=p.useState([]),[k,S]=p.useState(!0),[H,K]=p.useState(1),w=5;p.useEffect(()=>{O()},[]);const O=async()=>{try{const L=new Date,B=L.getFullYear(),ae=L.getMonth()+1,[Le,de,G,I]=await Promise.all([Dl.getMyLessons(),ni.getAll(),Ct.getMonthly(B,ae),Il.getMyProfile()]),Se=Le.data.lessons||[],ze=de.data.results||de.data||[],ce=G.data.leaderboard||G.data||[];I.data&&q(I.data),V(Se);const m=Se.filter(T=>T.is_deadline_passed||T.homework_status==="RATED");let U=0,$=m.length;m.forEach(T=>{T.rating_score!==null&&T.rating_score!==void 0&&(U+=T.rating_score)});const ue=$>0?(U/$).toFixed(1):"-",R=ce.find(T=>T.student_details?.username===c?.username),se=Se.filter(T=>T.homework_status).length,oe=Se.filter(T=>T.homework_status==="RATED").length;o({homeworks:se,ratings:oe,avgScore:ue,rank:R?.rank||null}),Q(ze.slice(0,10))}catch(L){console.error("Failed to fetch dashboard data:",L)}finally{S(!1)}},Z=L=>L?{PENDING:{style:"bg-yellow-100 text-yellow-700",label:"Pending"},SUBMITTED:{style:"bg-blue-100 text-blue-700",label:"Submitted"},RATED:{style:"bg-green-100 text-green-700",label:"Rated"}}[L]||{style:"bg-gray-100 text-gray-700",label:L}:{style:"bg-gray-100 text-gray-600",label:"Not Submitted"},D=Math.ceil(Y.length/w),le=H*w,E=le-w,g=Y.slice(E,le),J=L=>{K(L)};return k?a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[_&&!_.group_details&&a.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"font-medium",children:"You are not assigned to any group yet."})]}),a.jsx("p",{className:"text-sm mt-1 ml-7",children:"Please contact your administrator to be assigned to a group to access lessons and submit homework."})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 text-white mb-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",c?.first_name||"Student","!"]}),a.jsx("p",{className:"text-blue-100 mt-1",children:"Keep learning and improving every day!"})]}),_?.group_details&&a.jsxs("div",{className:"mt-4 sm:mt-0 px-4 py-2 bg-white/20 rounded-lg",children:[a.jsx("p",{className:"text-xs text-blue-100",children:"Your Group"}),a.jsx("p",{className:"text-lg font-bold",children:_.group_details.name})]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Submissions"}),a.jsx("p",{className:"text-3xl font-bold",children:j.homeworks})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Ratings"}),a.jsx("p",{className:"text-3xl font-bold",children:j.ratings})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Avg Score"}),a.jsx("p",{className:"text-3xl font-bold",children:j.avgScore})]}),a.jsxs("div",{className:"bg-white/20 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-100",children:"Monthly Rank"}),a.jsx("p",{className:"text-3xl font-bold",children:j.rank||"-"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"My Lessons"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[Y.length>0&&`Showing ${E+1}-${Math.min(le,Y.length)} of ${Y.length} lessons`,Y.length===0&&"0 lessons"]})]}),Y.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No lessons available"}),!_?.group_details&&a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"You need to be assigned to a group first"})]}):a.jsxs("div",{className:"space-y-4",children:[g.map(L=>{const B=Z(L.homework_status);return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:L.title}),L.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:L.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[L.teacher_name&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),L.teacher_name]}),L.start_date&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(L.start_date).toLocaleDateString()]})]}),L.deadline&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[a.jsx("svg",{className:`w-4 h-4 ${L.is_deadline_passed?"text-red-500":"text-orange-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:L.is_deadline_passed?"text-red-600 font-medium":"text-orange-600",children:["Deadline: ",G0(L.deadline).toLocaleDateString()," at ",G0(L.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),L.is_deadline_passed&&a.jsx("span",{className:"ml-1 text-xs",children:"(Passed)"})]})]}),L.homework_status&&(L.submission_url||L.submission_file)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Your Submission:"}),L.submission_url&&a.jsxs("a",{href:L.submission_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),L.submission_url.length>40?L.submission_url.substring(0,40)+"...":L.submission_url]}),L.submission_file&&a.jsxs("a",{href:L.submission_file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-purple-600 hover:text-purple-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View uploaded file"]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${B.style}`,children:B.label}),L.is_deadline_passed&&!L.homework_status?a.jsx("span",{className:"px-3 py-1.5 text-sm bg-red-100 text-red-700 rounded-lg font-medium",children:"Deadline Passed"}):a.jsxs(a.Fragment,{children:[L.can_submit&&!L.is_deadline_passed&&a.jsx("button",{onClick:()=>h(`/student/submit/${L.id}`),className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Submit Homework"}),L.can_edit&&!L.can_submit&&!L.is_deadline_passed&&a.jsx("button",{onClick:()=>h(`/student/submit/${L.id}`),className:"px-3 py-1.5 text-sm bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-medium",children:"Edit Submission"})]}),L.homework_status==="RATED"&&L.rating_score!==null&&a.jsxs("div",{className:`px-3 py-2 rounded-lg text-center ${L.rating_score>=8?"bg-green-100":L.rating_score>=5?"bg-yellow-100":"bg-red-100"}`,children:[a.jsxs("p",{className:`text-xl font-bold ${L.rating_score>=8?"text-green-700":L.rating_score>=5?"text-yellow-700":"text-red-700"}`,children:[L.rating_score,"/10"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]})]})]})},L.id)}),D>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-6 pt-4 border-t",children:[a.jsx("button",{onClick:()=>J(H-1),disabled:H===1,className:`px-3 py-2 rounded-lg text-sm font-medium ${H===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:"Previous"}),a.jsx("div",{className:"flex gap-1",children:[...Array(D)].map((L,B)=>{const ae=B+1;return a.jsx("button",{onClick:()=>J(ae),className:`px-3 py-2 rounded-lg text-sm font-medium ${H===ae?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:ae},ae)})}),a.jsx("button",{onClick:()=>J(H+1),disabled:H===D,className:`px-3 py-2 rounded-lg text-sm font-medium ${H===D?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:"Next"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Ratings"})}),A.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No ratings yet"})]}):a.jsx("div",{className:"grid grid-cols-2 gap-2",children:A.map(L=>a.jsxs("div",{className:`text-center p-3 rounded-lg ${L.score>=8?"bg-green-100 text-green-700":L.score>=5?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[a.jsx("p",{className:"text-xl font-bold",children:L.score}),a.jsx("p",{className:"text-xs mt-1",children:new Date(L.rating_date).toLocaleDateString()})]},L.id))}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(pt,{to:"/student/homework",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 mr-3",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"View All Homework"})]}),a.jsxs(pt,{to:"/student/leaderboard",className:"flex items-center p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-3",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Leaderboard"})]})]})]})]})]})]})})}const Y0=c=>c?!c.includes("Z")&&!c.includes("+")?new Date(c+"Z"):new Date(c):null;function $h(){const[c,h]=p.useState([]),[j,o]=p.useState(!0),[_,q]=p.useState(""),[Y,V]=p.useState(null),[A,Q]=p.useState(1),k=5;p.useEffect(()=>{S()},[]);const S=async()=>{try{const D=await Dl.getMyLessons();h(D.data.lessons||[]),D.data.error&&q(D.data.error)}catch{q("Failed to fetch lessons")}finally{o(!1)}},H=D=>{if(!D)return a.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"Not Submitted"});switch(D){case"SUBMITTED":return a.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-700",children:"Submitted"});case"RATED":return a.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:"Rated"});default:return a.jsx("span",{className:"px-3 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:D})}};if(j)return a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});const K=A*k,w=K-k,O=c.slice(w,K),Z=Math.ceil(c.length/k);return a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Lessons"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"View all lessons and homework tasks from your group"})]}),_&&a.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg",children:_}),c.length===0?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[a.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No lessons available"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"You don't have any lessons assigned yet."})]}):a.jsxs("div",{className:"space-y-4",children:[O.map(D=>a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-5 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>V(Y===D.id?null:D.id),children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.title}),H(D.homework_status)]}),D.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:D.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[D.teacher_name&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),D.teacher_name]}),D.start_date&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(D.start_date).toLocaleDateString()]}),a.jsxs("span",{className:"flex items-center gap-1",children:[D.allow_url_submission&&a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"URL"}),D.allow_file_upload&&a.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"File"})]})]}),D.deadline&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[a.jsx("svg",{className:`w-4 h-4 ${D.is_deadline_passed?"text-red-500":"text-orange-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:D.is_deadline_passed?"text-red-600 font-medium":"text-orange-600",children:["Deadline: ",Y0(D.deadline).toLocaleDateString()," at ",Y0(D.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),D.is_deadline_passed&&a.jsx("span",{className:"ml-1 text-xs",children:"(Passed)"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[D.is_deadline_passed&&!D.homework_status?a.jsx("span",{className:"px-3 py-2 bg-red-100 text-red-700 text-sm font-medium rounded-lg",children:"Deadline Passed"}):a.jsxs(a.Fragment,{children:[D.can_submit&&!D.is_deadline_passed&&a.jsx(pt,{to:`/student/submit/${D.id}`,onClick:le=>le.stopPropagation(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg",children:"Submit Homework"}),D.homework_status==="SUBMITTED"&&D.can_edit&&!D.is_deadline_passed&&a.jsxs(a.Fragment,{children:[a.jsx(pt,{to:`/student/submit/${D.id}`,onClick:le=>le.stopPropagation(),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium rounded-lg",children:"Edit"}),a.jsx("span",{className:"px-3 py-2 bg-orange-100 text-orange-700 text-sm font-medium rounded-lg",children:"Still not rated"})]}),D.homework_status==="SUBMITTED"&&D.is_deadline_passed&&a.jsx("span",{className:"px-3 py-2 bg-orange-100 text-orange-700 text-sm font-medium rounded-lg",children:"Still not rated"})]}),D.homework_status==="RATED"&&D.rating_score!==null&&a.jsx("div",{className:`px-4 py-2 rounded-lg text-center ${D.rating_score>=8?"bg-green-100":D.rating_score>=5?"bg-yellow-100":"bg-red-100"}`,children:a.jsxs("span",{className:`text-lg font-bold ${D.rating_score>=8?"text-green-700":D.rating_score>=5?"text-yellow-700":"text-red-700"}`,children:[D.rating_score,"/10"]})}),a.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${Y===D.id?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})}),Y===D.id&&a.jsx("div",{className:"border-t bg-gray-50 p-5",children:D.homework_task||D.homework_image?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Homework Task"]}),D.homework_task&&a.jsx("div",{className:"bg-white p-4 rounded-lg border",children:a.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:D.homework_task})}),D.homework_image&&a.jsxs("div",{className:"bg-white p-4 rounded-lg border",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Reference Image:"}),a.jsx("img",{src:D.homework_image,alt:"Homework task reference",className:"max-w-full max-h-96 rounded-lg border shadow-sm cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(D.homework_image,"_blank")}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Click to view full size"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[a.jsx("span",{children:"Submission options:"}),D.allow_url_submission&&a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded",children:"URL Link"}),D.allow_file_upload&&a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded",children:"File Upload"}),!D.allow_url_submission&&!D.allow_file_upload&&a.jsx("span",{className:"text-red-500",children:"No submission options available"})]})]}):a.jsxs("div",{className:"text-center py-4 text-gray-500",children:[a.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{children:"No homework task description provided for this lesson."})]})})]},D.id)),c.length>k&&a.jsx(ta,{currentPage:A,totalPages:Z,onPageChange:Q,itemsPerPage:k,totalItems:c.length})]})]})})}const V0=c=>c?!c.includes("Z")&&!c.includes("+")?new Date(c+"Z"):new Date(c):null;function Fh(){const c=ea(),[h,j]=p.useState([]),[o,_]=p.useState(!0),[q,Y]=p.useState(1),V=5;p.useEffect(()=>{A()},[]);const A=async()=>{try{const w=await Dl.getMyLessons();j(w.data.lessons||[])}catch(w){console.error("Failed to fetch lessons:",w)}finally{_(!1)}},Q=w=>w?{PENDING:{style:"bg-yellow-100 text-yellow-700",label:"Pending"},SUBMITTED:{style:"bg-blue-100 text-blue-700",label:"Submitted"},RATED:{style:"bg-green-100 text-green-700",label:"Rated"}}[w]||{style:"bg-gray-100 text-gray-700",label:w}:{style:"bg-gray-100 text-gray-600",label:"Not Submitted"},k=q*V,S=k-V,H=h.slice(S,k),K=Math.ceil(h.length/V);return a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Homework"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[h.length," lessons"]})]}),o?a.jsx("div",{className:"flex justify-center py-20",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent"})}):h.length===0?a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),a.jsx("p",{className:"mt-2 text-gray-500",children:"No lessons available"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"You need to be assigned to a group first"})]})}):a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("div",{className:"space-y-4",children:H.map(w=>{const O=Q(w.homework_status);return a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition-colors",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:w.title}),w.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:w.description}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[w.teacher_name&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),w.teacher_name]}),w.start_date&&a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(w.start_date).toLocaleDateString()]})]}),w.deadline&&a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[a.jsx("svg",{className:`w-4 h-4 ${w.is_deadline_passed?"text-red-500":"text-orange-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{className:w.is_deadline_passed?"text-red-600 font-medium":"text-orange-600",children:["Deadline: ",V0(w.deadline).toLocaleDateString()," at ",V0(w.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),w.is_deadline_passed&&a.jsx("span",{className:"ml-1 text-xs",children:"(Passed)"})]})]}),w.homework_status&&(w.submission_url||w.submission_file)&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Your Submission:"}),w.submission_url&&a.jsxs("a",{href:w.submission_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),w.submission_url.length>40?w.submission_url.substring(0,40)+"...":w.submission_url]}),w.submission_file&&a.jsxs("a",{href:w.submission_file,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-purple-600 hover:text-purple-700",children:[a.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"View uploaded file"]})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2 ml-4",children:[a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${O.style}`,children:O.label}),w.is_deadline_passed&&!w.homework_status?a.jsx("span",{className:"px-3 py-1.5 text-sm bg-red-100 text-red-700 rounded-lg font-medium",children:"Deadline Passed"}):a.jsxs(a.Fragment,{children:[w.can_submit&&!w.is_deadline_passed&&a.jsx("button",{onClick:()=>c(`/student/submit/${w.id}`),className:"px-3 py-1.5 text-sm bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium",children:"Submit Homework"}),w.can_edit&&!w.can_submit&&!w.is_deadline_passed&&a.jsx("button",{onClick:()=>c(`/student/submit/${w.id}`),className:"px-3 py-1.5 text-sm bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-medium",children:"Edit Submission"})]}),w.homework_status==="RATED"&&w.rating_score!==null&&a.jsxs("div",{className:`px-3 py-2 rounded-lg text-center ${w.rating_score>=8?"bg-green-100":w.rating_score>=5?"bg-yellow-100":"bg-red-100"}`,children:[a.jsxs("p",{className:`text-xl font-bold ${w.rating_score>=8?"text-green-700":w.rating_score>=5?"text-yellow-700":"text-red-700"}`,children:[w.rating_score,"/10"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]})]})]})},w.id)})}),h.length>V&&a.jsx(ta,{currentPage:q,totalPages:K,onPageChange:Y,itemsPerPage:V,totalItems:h.length})]})]})})}const Q0=c=>c?!c.includes("Z")&&!c.includes("+")?new Date(c+"Z"):new Date(c):null;function Ih(){const c=ea(),{lessonId:h}=Nh(),[j,o]=p.useState(null),[_,q]=p.useState(null),[Y,V]=p.useState(!0),[A,Q]=p.useState(!1),[k,S]=p.useState(""),[H,K]=p.useState(""),[w,O]=p.useState(null),[Z,D]=p.useState({submission_url:"",submission_file:null,description:""});p.useEffect(()=>{h?le():(S("No lesson specified"),V(!1))},[h]);const le=async()=>{try{const I=(await Dl.getForLesson(h)).data;I.id?(q(I),o(I.lesson_details),D({submission_url:I.submission_url||"",submission_file:null,description:I.description||""}),I.submission_url?O("url"):I.submission_file?O("file"):E(I.lesson_details)):I.lesson&&(o(I.lesson),E(I.lesson))}catch(G){G.response?.status===404?S("Lesson not found"):S("Failed to fetch lesson information")}finally{V(!1)}},E=G=>{G?.allow_url_submission?O("url"):G?.allow_file_upload?O("file"):O("url")},g=async G=>{if(G.preventDefault(),S(""),Q(!0),w==="url"&&!Z.submission_url){S("Please enter a submission URL"),Q(!1);return}if(w==="file"&&!Z.submission_file&&!_?.submission_file){S("Please select a file to upload"),Q(!1);return}const I={description:Z.description};w==="url"?I.submission_url=Z.submission_url:Z.submission_file&&(I.submission_file=Z.submission_file);try{await Dl.submitForLesson(h,I),K(_?"Homework updated successfully!":"Homework submitted successfully!"),setTimeout(()=>c("/student/dashboard"),1500)}catch(Se){const ze=Se.response?.data;if(Se.response?.status===403)S("Cannot edit homework that has already been rated.");else if(ze){const ce=Object.entries(ze).map(([m,U])=>`${m}: ${Array.isArray(U)?U.join(", "):U}`).join(`
`);S(ce||"Failed to submit homework")}else S("Failed to submit homework")}finally{Q(!1)}};if(Y)return a.jsx(He,{children:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});const J=!!_,L=_?.status==="RATED",B=j?.allow_url_submission??!0,ae=j?.allow_file_upload??!0,Le=j?.homework_task||j?.homework_image,de=j?.is_deadline_passed??!1;return a.jsx(He,{children:a.jsxs("div",{className:"p-6 lg:p-8",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("nav",{className:"mb-4",children:a.jsxs("ol",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx("li",{children:a.jsx(pt,{to:"/student/dashboard",className:"hover:text-blue-600",children:"Dashboard"})}),a.jsx("li",{children:"/"}),a.jsx("li",{className:"text-gray-800 font-medium",children:J?"Edit Homework":"Submit Homework"})]})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:J?"Edit Homework":"Submit Homework"})]}),de&&!L&&a.jsx("div",{className:"mb-4 p-6 bg-red-50 border-2 border-red-300 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{className:"w-6 h-6 text-red-500 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-red-800 font-semibold mb-1",children:"Deadline Has Passed"}),a.jsxs("p",{className:"text-red-700 text-sm",children:["The deadline for this homework was ",j.deadline?`${Q0(j.deadline).toLocaleDateString()} at ${Q0(j.deadline).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`:"some time ago",". You can no longer submit or edit your homework for this lesson."]})]})]})}),k&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg whitespace-pre-line",children:k}),H&&a.jsx("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 text-green-600 rounded-lg",children:H}),L&&a.jsxs("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),a.jsx("span",{className:"font-medium",children:"This homework has been rated and cannot be edited."})]}),j&&a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-4 text-white mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:j.title}),j.description&&a.jsx("p",{className:"text-blue-100 text-sm mt-1",children:j.description})]}),J&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${_.status==="RATED"?"bg-green-400/20 text-green-100":"bg-blue-400/20 text-blue-100"}`,children:_.status})]})}),a.jsxs("div",{className:`grid gap-6 ${Le?"lg:grid-cols-2":"lg:grid-cols-1 max-w-2xl"}`,children:[Le&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 h-fit",children:[a.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center mb-4",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"Homework Task"]}),j?.homework_task&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-gray-800 whitespace-pre-wrap",children:j.homework_task})}),j?.homework_image&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Reference Image:"}),a.jsx("img",{src:j.homework_image,alt:"Homework task reference",className:"w-full rounded-lg border shadow-sm cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(j.homework_image,"_blank")}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Click to view full size"})]})]})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-800 mb-4",children:"Your Submission"}),a.jsxs("form",{onSubmit:g,className:"space-y-5",children:[B&&ae?a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Submission Type"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>!L&&O("url"),disabled:L,className:`p-3 border-2 rounded-lg text-center transition-colors ${w==="url"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${L?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("svg",{className:"w-6 h-6 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),a.jsx("p",{className:"text-sm font-medium",children:"URL Link"})]}),a.jsxs("button",{type:"button",onClick:()=>!L&&O("file"),disabled:L,className:`p-3 border-2 rounded-lg text-center transition-colors ${w==="file"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"} ${L?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx("svg",{className:"w-6 h-6 mx-auto mb-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a.jsx("p",{className:"text-sm font-medium",children:"Upload File"})]})]})]}):a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Submission method: "}),B?"URL Link only":"File Upload only"]}),w==="url"&&B&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Submission URL ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"url",value:Z.submission_url,onChange:G=>D({...Z,submission_url:G.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",placeholder:"https://github.com/username/repo",required:w==="url",disabled:L}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"GitHub, Google Drive, Notion, etc."})]}),w==="file"&&ae&&a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Upload File ",a.jsx("span",{className:"text-red-500",children:"*"})]}),_?.submission_file&&!Z.submission_file&&a.jsxs("div",{className:"mb-2 p-2 bg-gray-50 rounded-lg flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-700 truncate",children:_.submission_file.split("/").pop()}),a.jsx("a",{href:_.submission_file,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 ml-2",children:"View"})]}),a.jsx("div",{className:`flex justify-center px-4 py-4 border-2 border-gray-300 border-dashed rounded-lg ${L?"opacity-50":"hover:border-gray-400"}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsxs("label",{className:`mt-2 block cursor-pointer text-sm font-medium text-blue-600 hover:text-blue-500 ${L?"pointer-events-none":""}`,children:[a.jsx("span",{children:_?.submission_file?"Replace file":"Upload a file"}),a.jsx("input",{type:"file",className:"sr-only",onChange:G=>D({...Z,submission_file:G.target.files[0]}),disabled:L})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, ZIP, DOC up to 10MB"}),Z.submission_file&&a.jsxs("p",{className:"text-sm text-green-600 font-medium mt-2",children:["Selected: ",Z.submission_file.name]})]})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes (optional)"}),a.jsx("textarea",{value:Z.description,onChange:G=>D({...Z,description:G.target.value}),rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",placeholder:"Any comments about your submission...",disabled:L})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:()=>c("/student/dashboard"),className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium",children:"Cancel"}),!L&&!de&&a.jsx("button",{type:"submit",disabled:A,className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium disabled:opacity-50 flex items-center",children:A?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),J?"Updating...":"Submitting..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),J?"Update":"Submit"]})})]})]})]})]})]})})}const si=c=>c==null?"-":Number(c).toFixed(1),X0=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ph(){const{user:c}=nl(),[h,j]=p.useState([]),[o,_]=p.useState(!0),[q,Y]=p.useState(0),V=new Date,[A,Q]=p.useState(V.getFullYear()),[k,S]=p.useState(V.getMonth()+1);p.useEffect(()=>{H()},[A,k]);const H=async()=>{_(!0);try{const g=await Ct.getMonthly(A,k);j(g.data.leaderboard||[]),Y(g.data.total_lessons||0)}catch(g){console.error("Failed to fetch leaderboard:",g),j([]),Y(0)}finally{_(!1)}},K=g=>{switch(g){case 1:return a.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})});case 2:return a.jsxs("svg",{className:"w-5 h-5 text-slate-400",fill:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("circle",{cx:"12",cy:"8",r:"6"}),a.jsx("path",{d:"M12 14C9 14 6.5 14.5 5 15.5V18C5 19 6 20 7 20H17C18 20 19 19 19 18V15.5C17.5 14.5 15 14 12 14Z"})]});case 3:return a.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L9 9H2L8 14L5 21L12 16L19 21L16 14L22 9H15L12 2Z"})});default:return null}},w=g=>{switch(g){case 1:return"bg-gradient-to-br from-yellow-50 via-yellow-100 to-amber-100 text-amber-900 shadow-lg border-amber-200";case 2:return"bg-gradient-to-br from-blue-50 via-slate-100 to-slate-200 text-slate-800 shadow-lg border-slate-300";case 3:return"bg-gradient-to-br from-orange-50 via-orange-100 to-orange-200 text-orange-900 shadow-lg border-orange-300";default:return"bg-white text-slate-700 hover:shadow-md"}},O=g=>g.student_details?.username===c?.username,Z=[];for(let g=V.getFullYear();g>=V.getFullYear()-2;g--)Z.push(g);const D=()=>{k===1?(S(12),Q(A-1)):S(k-1)},le=()=>{k===12?(S(1),Q(A+1)):S(k+1)},E=()=>A===V.getFullYear()&&k===V.getMonth()+1;return a.jsx(He,{children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl mb-4 shadow-lg",children:a.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsx("h1",{className:"text-4xl font-bold text-slate-900 mb-3",children:"Monthly Leaderboard 2"}),a.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"See how you rank among your peers each month"})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 border border-slate-200",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsx("button",{onClick:D,className:"p-2 rounded-lg hover:bg-slate-100 transition-colors",children:a.jsx("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:2}),a.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6",strokeWidth:2}),a.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6",strokeWidth:2}),a.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10",strokeWidth:2})]}),a.jsx("select",{value:k,onChange:g=>S(parseInt(g.target.value)),className:"px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent font-semibold text-slate-700 cursor-pointer transition-all",children:X0.map((g,J)=>a.jsx("option",{value:J+1,children:g},J+1))}),a.jsx("select",{value:A,onChange:g=>Q(parseInt(g.target.value)),className:"px-4 py-2.5 border border-slate-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent font-semibold text-slate-700 cursor-pointer transition-all",children:Z.map(g=>a.jsx("option",{value:g,children:g},g))})]}),a.jsx("button",{onClick:le,disabled:E(),className:`p-2 rounded-lg transition-colors ${E()?"opacity-40 cursor-not-allowed":"hover:bg-slate-100"}`,children:a.jsx("svg",{className:"w-6 h-6 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 flex items-center justify-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),a.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[h.length," students ranked"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("svg",{className:"w-5 h-5 text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",strokeWidth:2}),a.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6",strokeWidth:2}),a.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6",strokeWidth:2}),a.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10",strokeWidth:2})]}),a.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[q," lesson",q!==1?"s":""," this month"]})]})]})]}),!o&&h.length>=3&&a.jsx("div",{className:"mb-20",children:a.jsxs("div",{className:"flex items-end justify-center gap-4 max-w-4xl mx-auto",children:[a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsxs("div",{className:"bg-gradient-to-br from-blue-300 via-blue-400 to-blue-500 rounded-2xl shadow-2xl p-6 text-center transform translate-y-8",children:[a.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx("svg",{className:"w-9 h-9 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L9 9H2L8 14L5 21L12 16L19 21L16 14L22 9H15L12 2Z"})})}),a.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"2nd"}),a.jsx("div",{className:"font-semibold text-white text-lg mb-3 truncate",children:h[1]?.student_name}),a.jsx("div",{className:"bg-white/20 backdrop-blur rounded-xl p-3 mb-2",children:a.jsx("div",{className:"text-3xl font-bold text-white",children:si(h[1]?.average_score)})}),a.jsxs("div",{className:"text-sm text-white/90",children:[h[1]?.total_ratings," ratings"]})]})}),a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsxs("div",{className:"bg-gradient-to-br from-yellow-400 via-yellow-500 to-amber-600 rounded-2xl shadow-2xl p-6 text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg animate-pulse",children:a.jsx("svg",{className:"w-11 h-11 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"})})}),a.jsx("div",{className:"text-5xl font-bold text-white mb-2",children:"1st"}),a.jsx("div",{className:"font-semibold text-white text-xl mb-3 truncate",children:h[0]?.student_name}),a.jsx("div",{className:"bg-white/20 backdrop-blur rounded-xl p-4 mb-2",children:a.jsx("div",{className:"text-4xl font-bold text-white",children:si(h[0]?.average_score)})}),a.jsxs("div",{className:"text-sm text-white/90",children:[h[0]?.total_ratings," ratings"]})]})}),a.jsx("div",{className:"flex-1 max-w-xs",children:a.jsxs("div",{className:"bg-gradient-to-br from-green-400 via-green-500 to-green-600 rounded-2xl shadow-2xl p-6 text-center transform translate-y-12",children:[a.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:a.jsx("svg",{className:"w-9 h-9 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2L9 9H2L8 14L5 21L12 16L19 21L16 14L22 9H15L12 2Z"})})}),a.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"3rd"}),a.jsx("div",{className:"font-semibold text-white text-lg mb-3 truncate",children:h[2]?.student_name}),a.jsx("div",{className:"bg-white/20 backdrop-blur rounded-xl p-3 mb-2",children:a.jsx("div",{className:"text-3xl font-bold text-white",children:si(h[2]?.average_score)})}),a.jsxs("div",{className:"text-sm text-white/90",children:[h[2]?.total_ratings," ratings"]})]})})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden border border-slate-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 px-6 py-4",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"All Rankings"})}),a.jsx("div",{className:"p-6",children:o?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent"})}):h.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),a.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-2",children:["No rankings available for ",X0[k-1]," ",A]}),a.jsx("p",{className:"text-slate-500",children:q>0?"No homework has been rated yet this month":"No lessons were created this month"})]}):a.jsx("div",{className:"space-y-3",children:h.map(g=>a.jsxs("div",{className:`flex items-center justify-between p-5 rounded-xl transition-all duration-200 border ${w(g.rank)} ${O(g)?"ring-2 ring-slate-300":"border-slate-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shadow-md ${g.rank<=3?g.rank===1?"bg-amber-200 text-amber-900":g.rank===2?"bg-slate-300 text-slate-800":"bg-orange-300 text-orange-900":"bg-slate-100 text-slate-700"}`,children:g.rank<=3?K(g.rank):g.rank}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`font-semibold text-lg ${g.rank<=3?g.rank===1?"text-amber-900":g.rank===2?"text-slate-800":"text-orange-900":"text-slate-800"}`,children:g.student_name}),O(g)&&a.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white text-xs font-semibold rounded-full shadow-sm",children:"You"})]}),a.jsxs("div",{className:`text-sm mt-1 ${g.rank<=3?g.rank===1?"text-amber-700":g.rank===2?"text-slate-600":"text-orange-700":"text-slate-500"}`,children:[g.total_ratings," rating",g.total_ratings!==1?"s":""]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`text-3xl font-bold ${g.rank<=3?g.rank===1?"text-amber-900":g.rank===2?"text-slate-800":"text-orange-900":"text-slate-800"}`,children:si(g.average_score)}),a.jsx("div",{className:`text-sm ${g.rank<=3?"text-black/80":"text-slate-500"}`,children:"avg score"})]})]},g.rank))})})]})]})})}function ex(){const{user:c,loading:h,isAuthenticated:j}=nl();return h?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):j?c?.role==="ADMIN"?a.jsx(Cl,{to:"/admin",replace:!0}):c?.role==="TEACHER"?a.jsx(Cl,{to:"/teacher",replace:!0}):c?.role==="STUDENT"?a.jsx(Cl,{to:"/student",replace:!0}):a.jsx(Cl,{to:"/login",replace:!0}):a.jsx(Cl,{to:"/login",replace:!0})}function tx(){return a.jsx(Ah,{children:a.jsx(wh,{children:a.jsxs(Sh,{children:[a.jsx(Ve,{path:"/login",element:a.jsx(Eh,{})}),a.jsx(Ve,{path:"/unauthorized",element:a.jsx(Oh,{})}),a.jsx(Ve,{path:"/admin",element:a.jsx(Pe,{allowedRoles:["ADMIN"],children:a.jsx(q0,{})})}),a.jsx(Ve,{path:"/admin/groups",element:a.jsx(Pe,{allowedRoles:["ADMIN"],children:a.jsx(Uh,{})})}),a.jsx(Ve,{path:"/admin/students",element:a.jsx(Pe,{allowedRoles:["ADMIN"],children:a.jsx(Rh,{})})}),a.jsx(Ve,{path:"/admin/teachers",element:a.jsx(Pe,{allowedRoles:["ADMIN"],children:a.jsx(Gh,{})})}),a.jsx(Ve,{path:"/admin/leaderboard",element:a.jsx(Pe,{allowedRoles:["ADMIN"],children:a.jsx(Yh,{})})}),a.jsx(Ve,{path:"/admin/settings",element:a.jsx(Pe,{allowedRoles:["ADMIN"],children:a.jsx(q0,{})})}),a.jsx(Ve,{path:"/teacher",element:a.jsx(Pe,{allowedRoles:["TEACHER"],children:a.jsx(Vh,{})})}),a.jsx(Ve,{path:"/teacher/groups",element:a.jsx(Pe,{allowedRoles:["TEACHER"],children:a.jsx(Xh,{})})}),a.jsx(Ve,{path:"/teacher/homework",element:a.jsx(Pe,{allowedRoles:["TEACHER"],children:a.jsx(Zh,{})})}),a.jsx(Ve,{path:"/teacher/ratings",element:a.jsx(Pe,{allowedRoles:["TEACHER"],children:a.jsx(Kh,{})})}),a.jsx(Ve,{path:"/teacher/leaderboard",element:a.jsx(Pe,{allowedRoles:["TEACHER"],children:a.jsx(Jh,{})})}),a.jsx(Ve,{path:"/student",element:a.jsx(Pe,{allowedRoles:["STUDENT"],children:a.jsx(Wh,{})})}),a.jsx(Ve,{path:"/student/lessons",element:a.jsx(Pe,{allowedRoles:["STUDENT"],children:a.jsx($h,{})})}),a.jsx(Ve,{path:"/student/homework",element:a.jsx(Pe,{allowedRoles:["STUDENT"],children:a.jsx(Fh,{})})}),a.jsx(Ve,{path:"/student/submit/:lessonId",element:a.jsx(Pe,{allowedRoles:["STUDENT"],children:a.jsx(Ih,{})})}),a.jsx(Ve,{path:"/student/leaderboard",element:a.jsx(Pe,{allowedRoles:["STUDENT"],children:a.jsx(Ph,{})})}),a.jsx(Ve,{path:"/",element:a.jsx(ex,{})}),a.jsx(Ve,{path:"*",element:a.jsx(Cl,{to:"/",replace:!0})})]})})})}Ch.createRoot(document.getElementById("root")).render(a.jsx(p.StrictMode,{children:a.jsx(tx,{})}));
